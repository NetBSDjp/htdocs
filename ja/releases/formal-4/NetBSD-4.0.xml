<?xml version="1.0"?>
<!DOCTYPE webpage
  PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
         "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="releases-formal-4-NetBSD-4.0" release="4.0">
<config param="desc" value="NetBSD 4.0 Release Announcement"/>
<config param="cvstag" value="$NetBSD: NetBSD-4.0.xml,v 1.55 2007/12/21 11:59:19 martin Exp $"/>
<config param="rcsdate" value="$Date: 2007/12/21 11:59:19 $"/>
<head>
<title>Announcing NetBSD 4.0</title>
</head>

<sect1 id="announcing">
<title>Introduction</title>

<para>
  The NetBSD Project is pleased to announce that release 4.0 of the
  NetBSD operating system is now available.  NetBSD is a free, secure,
  and highly portable Unix-like Open Source  operating system
  available for many platforms, from 64-bit Opteron machines and
  desktop systems to handheld and embedded devices. Its clean design
  and advanced features make it excellent in both production and
  research environments, and it is user-supported with complete
  source. Many applications are easily available through pkgsrc, the
  NetBSD Packages Collection. 
</para>

<para>
  Major achievements in NetBSD 4.0 include support for version 3 of the
  Xen virtual machine monitor, Bluetooth, many new device drivers and
  embedded platforms based on ARM, PowerPC and MIPS CPUs.
  New network services include iSCSI target (server) code and an implementation
  of the Common Address Redundancy Protocol. Also, system security was further
  enhanced with restrictions of &man.mprotect.2; to enforce W^X policies,
  the Kernel Authorization framework, and improvements of the Veriexec
  file integrity subsystem, which can be used to harden the system against
  trojan horses and virus attacks. Please read below for a list of changes
  in NetBSD 4.0.
</para>

<para>
  NetBSD 4.0 runs on
  <sum><count table="system-families-table"/><count table="system-families-table2"/></sum>
  different system architectures featuring 17 machine
  architectures across 17 distinct CPU families, and is being ported
  to more. The NetBSD 4.0 release contains complete binary releases
  for <count table="system-families-table"/> different machine types, with the
  platforms amigappc, bebox and ews4800mips released in source form only.
  Complete source and binaries for NetBSD 4.0 are available for download
  at many sites around the world. A list of download sites providing FTP,
  AnonCVS, SUP, and other services is provided at the end of this
  announcement; the latest list of available download sites may also be
  found at <ulink url="http://www.NetBSD.org/mirrors/" />. 
  We encourage users who wish to install via a CD-ROM ISO image to
  download via BitTorrent by using the <ulink
  url="../../mirrors/torrents/">torrent files</ulink> supplied in
  the ISO image area.
  A list of hashes for the NetBSD 4.0 distribution has been signed with
  the well-connected PGP key for the NetBSD Security Officer:
  <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/hashes/NetBSD-4.0_hashes.asc"/>
</para>

<para>
    NetBSD is free. All of the code is under non-restrictive licenses,
    and may be used without paying royalties to anyone. Free support
    services are available via our mailing lists and website. Commercial
    support is available from a variety of sources; some are listed at
    <ulink url="../../gallery/consultants.html">
    http://www.NetBSD.org/gallery/consultants.html</ulink>.
    More extensive information on NetBSD is available from our website:
</para>

    <blockquote>
    <para>
    <ulink url="http://www.NetBSD.org/">http://www.NetBSD.org/</ulink>
    </para>
    </blockquote>
</sect1>

<sect1 id="dedication">
  <title>Dedication</title>
  <simpara>
    NetBSD 4.0 is dedicated to the memory of Jun-Ichiro "itojun"
    Hagino, who died in October 2007. Itojun was a member of the KAME
    project, which provided IPv6 and IPsec support; he was also a
    member of the NetBSD core team (the technical management for the
    project), and one of the Security Officers.  Due to Itojun's
    efforts, NetBSD was the first open source operating system with a
    production ready IPv6 networking stack, which was included in the
    base system before many people knew what IPv6 was. We are grateful
    to have known and worked with Itojun, and we know that he will be
    missed.  This release is therefore dedicated, with thanks, to his
    memory.
  </simpara>
</sect1>

<sect1 id="fundraising">
  <title>Fundraising</title>
  <simpara>
    We would like to remind everyone that the Fundraising Campaign
    2007 is still underway, but it will soon be over with the end of
    the year.  With this release, we would like to call all NetBSD
    users to send a Christmas present to the project. You can help us
    to improve NetBSD even more - donate!
  </simpara>
  <blockquote>
    <para>
      <ulink url="http://www.NetBSD.org/donations/">http://www.NetBSD.org/donations/</ulink>
    </para>
  </blockquote>
 
</sect1>
<sect1 id="system-families">
<title>System families supported by NetBSD 4.0</title>

<para>
    The NetBSD 4.0 release provides supported binary distributions for
    the following systems:
</para>

<para>
<table border="0" cellspacing="0" cellpadding="3" id="system-families-table">
<tr><td><ulink url="../../ports/acorn26/">NetBSD/acorn26</ulink></td>
    <td>Acorn Archimedes, A-series and R-series systems</td></tr>
<tr><td><ulink url="../../ports/acorn32/">NetBSD/acorn32</ulink></td>
    <td>Acorn RiscPC/A7000, VLSI RC7500</td></tr>
<tr><td><ulink url="../../ports/algor/">NetBSD/algor</ulink></td>
    <td>Algorithmics, Ltd. MIPS evaluation boards</td></tr>
<tr><td><ulink url="../../ports/alpha/">NetBSD/alpha</ulink></td>
    <td>Digital/Compaq Alpha (64-bit)</td></tr>
<tr><td><ulink url="../../ports/amd64/">NetBSD/amd64</ulink></td>
    <td>AMD family processors like Opteron, Athlon64, and Intel CPUs with EM64T extension</td></tr>
<tr><td><ulink url="../../ports/amiga/">NetBSD/amiga</ulink></td>
    <td>Commodore Amiga and MacroSystem DraCo</td></tr>
<tr><td><ulink url="../../ports/arc/">NetBSD/arc</ulink></td>
    <td>MIPS-based machines following the Advanced RISC Computing spec</td></tr>
<tr><td><ulink url="../../ports/atari/">NetBSD/atari</ulink></td>
    <td>Atari TT030, Falcon, Hades</td></tr>
<tr><td><ulink url="../../ports/cats/">NetBSD/cats</ulink></td>
    <td>Chalice Technology's CATS and Intel's EBSA-285 evaluation boards</td></tr>
<tr><td><ulink url="../../ports/cesfic/">NetBSD/cesfic</ulink></td>
    <td>CES FIC8234 VME processor board</td></tr>
<tr><td><ulink url="../../ports/cobalt/">NetBSD/cobalt</ulink></td>
    <td>Cobalt Networks' MIPS-based Microservers</td></tr>
<tr><td><ulink url="../../ports/dreamcast/">NetBSD/dreamcast</ulink></td>
    <td>Sega Dreamcast game console</td></tr>
<tr><td><ulink url="../../ports/evbarm/">NetBSD/evbarm</ulink></td>
    <td>Various ARM-based evaluation boards and appliances</td></tr>
<tr><td><ulink url="../../ports/evbmips/">NetBSD/evbmips</ulink></td>
    <td>Various MIPS-based evaluation boards and appliances</td></tr>
<tr><td><ulink url="../../ports/evbppc/">NetBSD/evbppc</ulink></td>
    <td>Various PowerPC-based evaluation boards and appliances</td></tr>
<tr><td><ulink url="../../ports/evbsh3/">NetBSD/evbsh3</ulink></td>
    <td>Various Hitachi Super-H SH3 and SH4-based evaluation boards and appliances</td></tr>
<tr><td><ulink url="../../ports/hp300/">NetBSD/hp300</ulink></td>
    <td>Hewlett-Packard 9000/300 and 400 series</td></tr>
<tr><td><ulink url="../../ports/hp700/">NetBSD/hp700</ulink></td>
    <td>Hewlett-Packard 9000 Series 700 workstations</td></tr>
<tr><td><ulink url="../../ports/hpcarm/">NetBSD/hpcarm</ulink></td>
    <td>StrongARM based Windows CE PDA machines</td></tr>
<tr><td><ulink url="../../ports/hpcmips/">NetBSD/hpcmips</ulink></td>
    <td>MIPS-based Windows CE PDA machines</td></tr>
<tr><td><ulink url="../../ports/hpcsh/">NetBSD/hpcsh</ulink></td>
    <td>Hitachi Super-H based Windows CE PDA machines</td></tr>
<tr><td><ulink url="../../ports/i386/">NetBSD/i386</ulink></td>
    <td>IBM PCs and PC clones with i386-family processors and up</td></tr>
<tr><td><ulink url="../../ports/ibmnws/">NetBSD/ibmnws</ulink></td>
    <td>IBM Network Station 1000</td></tr>
<tr><td><ulink url="../../ports/iyonix/">NetBSD/iyonix</ulink></td>
    <td>Castle Technology's Iyonix ARM based PCs</td></tr>
<tr><td><ulink url="../../ports/landisk/">NetBSD/landisk</ulink></td>
    <td>SH4 processor based NAS appliances</td></tr>
<tr><td><ulink url="../../ports/luna68k/">NetBSD/luna68k</ulink></td>
    <td>OMRON Tateisi Electric's LUNA series</td></tr>
<tr><td><ulink url="../../ports/mac68k/">NetBSD/mac68k</ulink></td>
    <td>Apple Macintosh with Motorola 68k CPU</td></tr>
<tr><td><ulink url="../../ports/macppc/">NetBSD/macppc</ulink></td>
    <td>Apple PowerPC-based Macintosh and clones</td></tr>
<tr><td><ulink url="../../ports/mipsco/">NetBSD/mipsco</ulink></td>
    <td>MIPS Computer Systems Inc. family of workstations and servers</td></tr>
<tr><td><ulink url="../../ports/mmeye/">NetBSD/mmeye</ulink></td>
    <td>Brains mmEye multimedia server</td></tr>
<tr><td><ulink url="../../ports/mvme68k/">NetBSD/mvme68k</ulink></td>
    <td>Motorola MVME 68k Single Board Computers</td></tr>
<tr><td><ulink url="../../ports/mvmeppc/">NetBSD/mvmeppc</ulink></td>
    <td>Motorola PowerPC VME Single Board Computers</td></tr>
<tr><td><ulink url="../../ports/netwinder/">NetBSD/netwinder</ulink></td>
    <td>StrongARM based NetWinder machines</td></tr>
<tr><td><ulink url="../../ports/news68k/">NetBSD/news68k</ulink></td>
    <td>Sony's 68k-based <quote>NET WORK STATION</quote> series</td></tr>
<tr><td><ulink url="../../ports/newsmips/">NetBSD/newsmips</ulink></td>
    <td>Sony's MIPS-based <quote>NET WORK STATION</quote> series</td></tr>
<tr><td><ulink url="../../ports/next68k/">NetBSD/next68k</ulink></td>
    <td>NeXT 68k <quote>black</quote> hardware</td></tr>
<tr><td><ulink url="../../ports/ofppc/">NetBSD/ofppc</ulink></td>
    <td>OpenFirmware PowerPC machines</td></tr>
<tr><td><ulink url="../../ports/pmax/">NetBSD/pmax</ulink></td>
    <td>Digital MIPS-based DECstations and DECsystems</td></tr>
<tr><td><ulink url="../../ports/pmppc/">NetBSD/pmppc</ulink></td>
    <td>Artesyn's PM/PPC board</td></tr>
<tr><td><ulink url="../../ports/prep/">NetBSD/prep</ulink></td>
    <td>PReP (PowerPC Reference Platform) and CHRP machines</td></tr>
<tr><td><ulink url="../../ports/sandpoint/">NetBSD/sandpoint</ulink></td>
    <td>Motorola Sandpoint reference platform</td></tr>
<tr><td><ulink url="../../ports/sbmips/">NetBSD/sbmips</ulink></td>
    <td>Broadcom SiByte evaluation boards</td></tr>
<tr><td><ulink url="../../ports/sgimips/">NetBSD/sgimips</ulink></td>
    <td>Silicon Graphics' MIPS-based workstations</td></tr>
<tr><td><ulink url="../../ports/shark/">NetBSD/shark</ulink></td>
    <td>Digital DNARD (<quote>shark</quote>)</td></tr>
<tr><td><ulink url="../../ports/sparc/">NetBSD/sparc</ulink></td>
    <td>Sun SPARC (32-bit) and UltraSPARC (in 32-bit mode)</td></tr>
<tr><td><ulink url="../../ports/sparc64/">NetBSD/sparc64</ulink></td>
    <td>Sun UltraSPARC (in native 64-bit mode)</td></tr>
<tr><td><ulink url="../../ports/sun2/">NetBSD/sun2</ulink></td>
    <td>Sun Microsystems Sun 2 machines with Motorola 68010 CPU</td></tr>
<tr><td><ulink url="../../ports/sun3/">NetBSD/sun3</ulink></td>
    <td>Motorola 68020 and 030 based Sun 3 and 3x machines</td></tr>
<tr><td><ulink url="../../ports/vax/">NetBSD/vax</ulink></td>
    <td>Digital VAX</td></tr>
<tr><td><ulink url="../../ports/x68k/">NetBSD/x68k</ulink></td>
    <td>Sharp X680x0 series</td></tr>
<tr><td><ulink url="../../ports/xen/">NetBSD/xen</ulink></td>
    <td>The Xen virtual machine monitor</td></tr>
</table>
</para>

<para>
    Ports available in source form only for this release include the
    following:
</para>

<para>
<table border="0" cellspacing="0" cellpadding="3" id="system-families-table2">
<tr><td><ulink url="../../ports/amigappc/">NetBSD/amigappc</ulink></td>
    <td>PowerPC-based Amiga boards</td></tr>
<tr><td><ulink url="../../ports/bebox/">NetBSD/bebox</ulink></td>
    <td>Be Inc's BeBox</td></tr>
<tr><td><ulink url="../../ports/ews4800mips/">NetBSD/ews4800mips</ulink></td>
    <td>NEC's MIPS-based EWS4800 workstation</td></tr>
</table>
</para>
</sect1>

<sect1 id="major-changes">
<title>Major Changes Between 3.0 and 4.0</title>

<para>
    The complete list of changes can be found in the
    <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-4.0/CHANGES">CHANGES</ulink>
    and
    <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-4.0/CHANGES-4.0">CHANGES-4.0</ulink>
    files in the top level directory of the NetBSD 4.0 release tree.
    Some highlights include:
</para>

<sect2 id="news-networking">
  <title>Networking</title>
  
  <itemizedlist>
    <listitem><simpara>
      &man.agr.4;: new pseudo-device driver for link level aggregation.
    </simpara></listitem>
    <listitem><simpara>
      IPv6 support was extended with an RFC 3542-compliant API and
      added for &man.gre.4; tunnels and the &man.tun.4; device.
    </simpara></listitem>
    <listitem><simpara>
      An NDIS-wrapper was added to use Windows binary drivers on the
      i386 platform, see &man.ndiscvt.8;.
    </simpara></listitem>
    <listitem><simpara>
      The IPv4 source-address selection policy can be set from a number
      of algorithms. See "IPSRCSEL" in &man.options.4; and 
      &man.in.getifa.9;.
    </simpara></listitem>
    <listitem><simpara>
      Imported &man.wpa.supplicant.8; and &man.wpa.cli.8;. Utilities to
      connect and handle aspects of 802.11 WPA networks.
    </simpara></listitem>
    <listitem><simpara>
      Imported &man.hostapd.8;. An authenticator for IEEE 802.11 networks.
    </simpara></listitem>
    <listitem><simpara>
      &man.carp.4;: imported Common Address Redundancy Protocol to allow
      multiple hosts to share a set of IP addresses for high
      availability / redundancy, from OpenBSD.
    </simpara></listitem>
    <listitem><simpara>
      ALTQ support for the PF packet filter.
    </simpara></listitem>
    <listitem><simpara>
      &man.etherip.4;: new EtherIP tunneling device. It's able to
      tunnel Ethernet traffic over IPv4 and IPv6 using the EtherIP protocol
      specified in RFC 3378.
    </simpara></listitem>
    <listitem><simpara>
      &man.ftpd.8; can now run in standalone mode, instead of from
      &man.inetd.8;. 
    </simpara></listitem>
    <listitem><simpara>
      &man.tftp.1; now has support for multicast TFTP operation in
      open-loop mode, server is in progress.
    </simpara></listitem>
    <listitem><simpara>
      &man.tcp.4;: added support for RFC 3465 Appropriate Byte Counting (ABC) and
      Explicit Congestion Notification as defined in RFC 3168.
    </simpara></listitem>
  </itemizedlist>
</sect2>

<sect2 id="news-filesystems">
  <title>File systems</title>
  
  <itemizedlist>
    <listitem><simpara>
      &man.scan.ffs.8;, &man.scan.lfs.8;: utilities to find FFSv1/v2 and LFS
      partitions to recover lost disklabels on disks and image files.
    </simpara></listitem>
    <listitem><simpara>
      tmpfs: added a new memory-based file system aimed at replacing
      mfs.  Contrary to mfs, it is not based on a disk file system, so
      it is more efficient both in overall memory consumption and
      speed. See &man.mount.tmpfs.8;.
    </simpara></listitem>
    <listitem><simpara>
      Added UDF support for optical media and block devices,
      see &man.mount.udf.8;. Read-only for now.
    </simpara></listitem>
    <listitem><simpara>
      NFS export list handling was changed to be filesystem independent.
    </simpara></listitem>
    <listitem><simpara>
      LFS: lots of stability improvements and new cleaner daemon. It
      is now also possible to use LFS as root filesystem. 
    </simpara></listitem>
    <listitem><simpara>
      &man.vnd.4;: the vnode disk driver can be used on filesystems such
      as smbfs and tmpfs.
    </simpara></listitem>
    <listitem><simpara>
      Support for System V Boot File System was added, see
      &man.newfs.sysvbfs.8; and &man.mount.sysvbfs.8;.
    </simpara></listitem>
  </itemizedlist>
</sect2>

<sect2 id="news-driver">
  <title>Drivers</title>
      
  <itemizedlist>
    <listitem><para>
      Audio:
      <itemizedlist>
	<listitem><simpara>
	  Support for new models on drivers such as Intel ICH8/6300ESB,
	  NVIDIA nForce 3/4, etc.
	</simpara></listitem>
	<listitem><simpara>
	  Added support for AC'97 modems.
	</simpara></listitem>
	<listitem><simpara>
	  &man.auich.4;: added support to handle the AC'97 modem as audio
	  device, enabled with the kernel option
	  <quote>AUICH_ATTACH_MODEM</quote>.
	</simpara></listitem>
	<listitem><simpara>
	  &man.azalia.4;: added support for S/PDIF.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Hardware Monitors:
      <itemizedlist>
	<listitem><simpara>
	  &man.amdpm.4;: added support for the i2c bus on the AMD-8111
	  used on many Opteron motherboards and for the Analog Devices
	  ADT7464 hardware monitor chip.
	</simpara></listitem>
	<listitem><simpara>
	  &man.adt7467c.4;: new driver for Analog Devices ADT7467 and
	  ADM1030 hardware monitor chips.
	</simpara></listitem>
	<listitem><simpara>
	  &man.ipmi.4;: new driver for motherboards implementing the
	  Intelligent Platform Management Interface 1.5 or 2.0, from
	  OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.it.4;: new driver for iTE 8705F/8712F and SiS 950 hardware
	  monitors.
	</simpara></listitem>
	<listitem><simpara>
	  The &man.lm.4; driver was rewritten and support for more chips
	  was added, for example for Winbond W83627HF, W83627THF, W83627DHG
	  and Asus AS99127F.
	</simpara></listitem>
	<listitem><simpara>
	  &man.owtemp.4;: new driver for the 1-Wire temperature sensors.
	</simpara></listitem>
	<listitem><simpara>
	  &man.tm121temp.4;: new driver for the Texas Instruments TMP121
	  temperature sensor.
	</simpara></listitem>
	<listitem><simpara>
	  &man.ug.4;: new driver for Abit uGuru hardware monitor
	  found on newer Abit motherboards.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Miscellaneous:
      <itemizedlist>
	<listitem><simpara>
	  &man.geodewdog.4;: new AMD Geode SC1100 Watchdog Timer driver.
	</simpara></listitem>
	<listitem><simpara>
	  &man.gscpcib.4;: new AMD Geode SC1100 PCI-ISA bridge that provides
	  support for the GPIO interface.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Networking:
      <itemizedlist>
	<listitem><simpara>
	  &man.ath.4;: updated HALs with support for WiSOC (AR531x) and
	  32bit SPARC.
	</simpara></listitem>
	<listitem><simpara>
	  &man.bge.4;: added support for the following chips: BCM5753,
	  BCM5753M, BCM5715, BCM5754, BCM5755 and BCM5787. Numerous
	  improvements and bugfixes were made too.
	</simpara></listitem>
	<listitem><simpara>
	  &man.kse.4;: new driver for Micrel KSZ8842/8841 PCI network cards.
	</simpara></listitem>
	<listitem><simpara>
	  &man.msk.4;: new driver for Marvell Yukon 2 GigE PCI network cards,
	  from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.nfe.4;: new driver for NVIDIA nForce Ethernet network cards,
	  from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.ral.4;: new 802.11 driver for PCI/Cardbus Ralink RT2500, RT2501,
	  RT2600, RT2661 and RT2500 USB chipsets, from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.rum.4;: new 802.11 driver for USB Ralink RT2501 and RT2601
	  chipsets, from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.sip.4;: now works on sparc64.
	</simpara></listitem>
	<listitem><simpara>
	  &man.tlp.4;: added support for ASIX AX88140A and AX88141.
	</simpara></listitem>
	<listitem><simpara>
	  &man.vr.4;: added support for the VIA Rhine III.
	</simpara></listitem>
	<listitem><simpara>
	  &man.wm.4;: added support for i8003, ICH8, ICH9 and others.
	  Support for IPv6 Rx TCP/UDP Checksum Offloading and more.
	</simpara></listitem>
	<listitem><simpara>
	  &man.wpi.4;: new driver for Intel PRO/Wireless 3945ABG PCI 802.11
	  network cards, from OpenBSD.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Security:
      <itemizedlist>
	<listitem><simpara>
	  &man.glxsb.4;: new driver for the AMD Geode LX AES Security Block
	  that provides random numbers and AES acceleration, from OpenBSD.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Power Management:
      <itemizedlist>
	<listitem><simpara>
	  Support for Intel Speedstep SMI on PIIX4 PCI-ISA for i386.
	</simpara></listitem>
	<listitem><simpara>
	  Support for AMD PowerNow and Cool'n'Quiet Technology
          on K7 and K8 CPUs (both in 32 and 64 bit mode), including
	  Athlon Mobile, Athlon64, Opteron or X2. See &man.options.4; for
	  more information.
	</simpara></listitem>
	<listitem><simpara>
	  Support for more Enhanced Speedstep CPUs, including
	  VIA C7/Eden and Intel Core Solo/Duo/Duo2. See &man.options.4; for
	  more information.
	</simpara></listitem>
	<listitem><simpara>
	  The Enhanced Speedstep and PowerNow drivers were modified to be able
	  to be scaled in all CPUs available, saving power on SMP systems.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      Storage:
      <itemizedlist>
	<listitem><simpara>
	  &man.ahcisata.4;: new driver for AHCI 1.0 and 1.1 compliant
	  SATA controllers.
	</simpara></listitem>
	<listitem><simpara>
	  &man.ataraid.4;: added support to handle Adaptec HostRAID
	  and VIA V-Tech software RAID.
	</simpara></listitem>
	<listitem><simpara>
	  &man.ciss.4;: new driver for HP/Compaq 5th+ generation Smart
	  ARRAY controllers, from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.fdc.4;: added support for SBus based sparc64 machines
	  and fixed formatting on sparc.
	</simpara></listitem>
	<listitem><simpara>
	  &man.gcscide.4;: new driver for the AMD Geode CS5535
	  Companion Device IDE controller.
	</simpara></listitem>
	<listitem><simpara>
	  &man.jmide.4;: new driver for JMicron Technology JMB36x
	  PCIe to SATA II/PATA controllers.
	</simpara></listitem>
	<listitem><simpara>
	  &man.mfi.4;: new driver for LSI Logic and Dell MegaRAID SAS
	  controllers, from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	   &man.mpt.4;: added support for newer SAS and similar devices.
	</simpara></listitem>
	<listitem><simpara>
	  &man.njata.4;: new driver for Workbit NinjaATA-32 CardBus IDE
	  controller.
	</simpara></listitem>
	<listitem><simpara>
	  &man.pdcsata.4;: added support for the Promise PDC20775, PDC20771,
	  PDC40518, PDC40718 and some bugfixes.
	</simpara></listitem>
	<listitem><simpara>
	  &man.piixide.4;: added support for some ICH8/ICH8-M/ICH9 IDE
	  and SATA controllers.
	</simpara></listitem>
	<listitem><simpara>
	  &man.svwsata.4;: new driver for Serverworks K2 SATA controllers,
	  from OpenBSD.
	</simpara></listitem>
	<listitem><simpara>
	  &man.viaide.4; added support for the VIA VT8237A SATA controller
	  and AMD CS5536 Companion Device IDE Controller.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><para>
      USB:
      <itemizedlist>
	<listitem><simpara>
	  &man.ucycom.4;: new driver for Cypress microcontroller based
	  serial devices.
	</simpara></listitem>
	<listitem><simpara>
	  &man.uipaq.4;: new driver for the iPAQ devices.
	</simpara></listitem>
	<listitem><simpara>
	  &man.uslsa.4;: new driver for Silicon Labs CP210x series
	  serial adapters.
	</simpara></listitem>
	<listitem><simpara>
	  &man.utoppy.4;: new driver for the Topfield TF5000PVR range
	  of digital video recorders.
	</simpara></listitem>
      </itemizedlist>
    </para></listitem>
  </itemizedlist>
</sect2>

<sect2 id="news-platforms">
  <title>Platforms</title>
  
  <itemizedlist>
    <listitem><para>
      <ulink url="../../ports/i386/">i386</ulink>:
      <itemizedlist>
          <listitem><simpara>
            Added support for the for Multiboot specification. This means
            much improved support for loading the kernel by GRUB, including
            passing in parameters to the kernel.
	  </simpara></listitem>
	  <listitem><simpara>
	    Added the unichromefb framebuffer driver that supports the VIA
	    Unichrome Graphics adapter.
	  </simpara></listitem>
          <listitem><simpara>
            &man.vesafb.4;: added new framebuffer driver that supports VESA
            BIOS (VBE) 2.0 extensions and up.
	  </simpara></listitem>
	  <listitem><simpara>
	    Added ability to boot from the cd9660
	    file system to the BIOS bootloader. This adds the ability to
	    load much bigger kernels and the option of selecting
	    different kernels at boot time.
	  </simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><simpara>
      <ulink url="../../ports/evbarm/">evbarm</ulink>: new platform support
      for Arcom Viper PXA255-based single board, Atmark Techno Armadillo-9
      and Armadillo-210, Certance CP-3100, Linksys NSLU2 (a.k.a. "Slug") and I-O DATA
      HDL-G Giga LANDISK NAS devices.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/evbmips/">evbmips</ulink>: added support for
      Alchemy Au1550 processors, DBAu1550 boards, Alchemy Au15XX PCI host,
      (OMS-AL400/128) and Atheros AR5312 SoC.
    </simpara></listitem>
    <listitem><simpara>
      New port <ulink url="../../ports/ews4800mips/">ews4800mips</ulink>:
      NEC's MIPS based EWS4800 workstations.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/cobalt/">cobalt</ulink>: added support for
      booting off raidframe RAID1 mirrors.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/hpcmips/">hpcmips</ulink>: added
      the &man.teliosio.4; driver for the Sharp Telios LCD screen and
      Battery unit.
    </simpara></listitem>
    <listitem><simpara>
      New port <ulink url="../../ports/landisk/">landisk</ulink>:
      port to the SH4 processor based NAS appliances,
      supporting models by I-O DATA (USL-5P, HDL-U, HDL-AV, HDL-W and
      HDLM-U series, SuperTank LAN Tank, UHDL-160U and UHDL-300U) and
      Plextor PX-EH16L, PX-EH25L and PX-EH40L.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/macppc/">macppc</ulink>: this port has gained
      support to use accelerated wsdisplay drivers by default (if possible),
      and uses the appropriate driver rather than the Generic Open Firmware
      Framebuffer.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/prep/">prep</ulink>: this port has been
      modernized, and support for five additional machines has been added,
      among them the IBM 7024-E20 and 7025-F30 models and Motorola Powerstack
      E1. Additionally, sysinst support was added, and the bootloader process
      was improved, allowing easy installation and upgrade to future releases.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/sparc/">sparc</ulink>: added support for
      booting off raidframe RAID1 mirrors.
    </simpara></listitem>
    <listitem><simpara>
      <ulink url="../../ports/xen/">Xen</ulink>: support for Xen3 domU
      and dom0 (Unprivileged domain and domain 0), including support for hardware
      virtualization on CPUs that support it.
    </simpara></listitem>
  </itemizedlist>
</sect2>

<sect2 id="news-kernel">
  <title>Kernel subsystems</title>
  
  <itemizedlist>
    <listitem><simpara>
      Improved Firewire (IEEE1394) support imported from FreeBSD.
    </simpara></listitem>
    <listitem><simpara>
      The &man.midi.4; framework got a complete overhaul for better
      support of Active Sensing and improved handling of tempo and
      timebase changes.
    </simpara></listitem>
    <listitem><simpara>
      Added a Bluetooth protocol stack including:
      </simpara>
      <itemizedlist>
	<listitem><simpara>
	  hardware drivers: &man.ubt.4; for USB controllers, and &man.bt3c.4;
	  for the 3Com Bluetooth PC-Card.
	</simpara></listitem>
	<listitem><simpara>
	  socket based access to the HCI, L2CAP, RFCOMM and SCO protocols.
	</simpara></listitem>
	<listitem><simpara>
	  pseudo drivers for integrating services on remote Bluetooth
	  devices such as Keyboards, Mice and SCO Audio into the NetBSD
	  device framework.
	</simpara></listitem>
      </itemizedlist>
    <simpara>
      See &man.bluetooth.4;, &man.bthset.1; and &man.btpin.1;.
    </simpara>
    </listitem>
    <listitem><simpara>
      Imported the &man.bio.4; framework from OpenBSD, to query/control
      block hardware RAID device controllers. Currently supporting the &man.mfi.4; driver.
    </simpara></listitem>
    <listitem><simpara>
      Kernel uses stateful read-ahead algorithm.
    </simpara></listitem>
    <listitem><simpara>
      &man.dkctl.8; can be used to switch buffer queuing strategies on the
      fly on &man.wd.4; disks, see also &man.bufq.9;.
    </simpara></listitem>
    <listitem><simpara>
      &man.fileassoc.9; is used by Veriexec, it adds in-kernel and
      file-system independent file meta-data association interface.
    </simpara></listitem>
    <listitem><simpara>
      &man.firmload.9;: an API for loading firmware images used by various
      hardware devices.
    </simpara></listitem>
    <listitem><simpara>
      &man.gpio.4;: imported General Purpose I/O framework from OpenBSD.
    </simpara></listitem>
    <listitem><simpara>
      &man.onewire.4;: imported Dallas Semiconductor 1-wire bus
      framework from OpenBSD.
    </simpara></listitem>
    <listitem><simpara>
      The &man.proplib.3; protocol was added for sending property lists
      to/from the kernel using ioctls.
    </simpara></listitem>
    <listitem><simpara>
      &man.spi.4;: new SPI (Serial Peripherial Interface) framework.
    </simpara></listitem>
    <listitem><simpara>
      &man.timecounter.9; adds a new time-keeping infrastructure along
      with NTP API 4 nanokernel implementation. Almost all platforms
      were changed to support this API.
    </simpara></listitem>
    <listitem><simpara>
      Start of 32bit-Linux-emulation for amd64 (COMPAT_LINUX32).
    </simpara></listitem>
    <listitem><simpara>
      &man.wscons.4; console driver supports splash screens, scrolling,
      progress bar for kernel and boot messages.
    </simpara></listitem>
  </itemizedlist>
  <para>
    Kernel interfaces have continued to be refined, and more subsystems
    and device drivers are shared among the different ports.
    You can look for this trend to continue.
  </para>
</sect2>

<sect2 id="news-security">
  <title>Security</title>
  
  <itemizedlist>
    <listitem><simpara>
      The FAST_IPSEC IPsec implementation was extended to use hardware
      acceleration for IPv6, in addition to the hardware accelerated
      IPv4 that was available before. See &man.fast.ipsec.4; for more
      information.
    </simpara></listitem>
    <listitem><simpara>
      &man.mprotect.2; got restrictions to enforce W^X policies, from
      PaX. See &man.options.4;, &man.sysctl.3;, and &man.paxctl.8;.  
    </simpara></listitem>
    <listitem><simpara>
      GCC 4's support for stack smashing protection (SSP) was enabled by
      adding libssp, see &man.security.8;.
    </simpara></listitem>
    <listitem><simpara>
      The kernel authorization framework &man.kauth.9; was added,
      replacing the traditional BSD credential management and
      privileged operation access control with an abstract layer,
      allowing the implementation of various security models either as
      part of the NetBSD distribution or as third-party LKMs.
      </simpara>
      <para>
        NetBSD's kernel authorization is a hybrid clean-room
        implementation of a similar interface developed by Apple,
        extending its capabilities and combining concepts of
        credential inheritance control.
      </para>
    </listitem>
  </itemizedlist>
</sect2>


<sect2 id="news-userland">
  <title>Userland</title>
  <itemizedlist>
    <listitem><para>
      3rd party software updates:
      <itemizedlist>
	<listitem><simpara>BIND 9.4.1-P1</simpara></listitem>
	<listitem><simpara>OpenSSL 0.9.8e</simpara></listitem>
	<listitem><simpara>CVS 1.11.22</simpara></listitem>
	<listitem><simpara>OpenSSH 4.4</simpara></listitem>
	<listitem><simpara>gettext 0.14.4</simpara></listitem>
	<listitem><simpara>PF from OpenBSD 3.7</simpara></listitem>
	<listitem><simpara>(n)awk 20050424</simpara></listitem>
	<listitem><simpara>Postfix 2.4.5</simpara></listitem>
	<listitem><simpara>am-utils 6.1.3</simpara></listitem>
	<listitem><simpara>file 4.21</simpara></listitem>
	<listitem><simpara>zlib 1.2.3</simpara></listitem>
	<listitem><simpara>GNU binutils 2.16.1</simpara></listitem>
	<listitem><simpara>GNU groff 1.19.2</simpara></listitem>
	<listitem><simpara>IPFilter 4.1.23</simpara></listitem>
	<listitem><simpara>GNU gcc 4.1.2 prerelease</simpara></listitem>
	<listitem><simpara>GNU gdb 6.5 (some architectures)</simpara></listitem>
	<listitem><simpara>NTP 4.2.4p2</simpara></listitem>
	<listitem><simpara>pppd 2.4.4</simpara></listitem>
      </itemizedlist>
    </para></listitem>
    <listitem><simpara>
      &man.cdplay.1;: added digital transfer mode support.
    </simpara></listitem>		    
    <listitem><simpara>
      &man.cksum.1; can now verify checksums.
    </simpara></listitem>
    <listitem><simpara>
      &man.csplit.1;: new utility that splits a file into pieces. From
      FreeBSD/OpenBSD.
    </simpara></listitem>
    <listitem><simpara>
      &man.identd.1;: added support for forwarding ident queries
      and receiving of proxied ident queries.
    </simpara></listitem>
    <listitem><simpara>
      &man.getent.1;: added support for the ethers database.
    </simpara></listitem>
    <listitem><simpara>
      &man.gkermit.1;: new program for transferring files using the
      Kermit protocol.
    </simpara></listitem>
    <listitem><simpara>
      &man.mail.1;: added support for Mime and multi-character set handling,
      command line editing and completion.
    </simpara></listitem>
    <listitem><simpara>
      &man.utoppya.1;: new utility to interface to the &man.utoppy.4; driver.
    </simpara></listitem>
    <listitem><simpara>
      &man.init.8;: added support for running multi-user in a chroot()
      environment. Allows / file system on e.g., &man.cgd.4;, &man.vnd.4; or
      &man.ccd.4; volumes.
    </simpara></listitem>
    <listitem><simpara>
      &man.gpt.8;: new GUID partition table maintenance utility,
      from FreeBSD.
    </simpara></listitem>
    <listitem><simpara>
      iSCSI target (server) code added, see &man.iscsi-target.8;;
      Initiator (client) code is underway. 
    </simpara></listitem>
    <listitem><simpara>
      &man.lockstat.8;: new command to display a summary of kernel
      locking events recorded over the lifetime of a called program.
    </simpara></listitem>
    <listitem><simpara>
      &man.ofctl.8;: new command to display the OpenPROM or OpenFirmware
      device tree for the macppc, shark and sparc64.
    </simpara></listitem>
    <listitem><simpara>
      Various utilities to support Bluetooth were added:
      </simpara>
      <itemizedlist>
    <listitem><simpara>
	  &man.btconfig.8; for controller configuration.
	</simpara></listitem>
	<listitem><simpara>
	  &man.btdevctl.8;
	  to manage pseudo devices relating to remote services.
	</simpara></listitem>
	<listitem><simpara>
	  &man.bthcid.8; and &man.btpin.1; for authenticating radio
	  connections.
	</simpara></listitem>
	<listitem><simpara>
	  &man.sdpd.8; for providing service discovery to remote devices.
	</simpara></listitem>
	<listitem><simpara>
	  &man.sdpquery.1; for querying services on remote devices.
	</simpara></listitem>
	<listitem><simpara>
	  &man.rfcomm.sppd.1; to access remote services over RFCOMM
          via stdio or pty.
	</simpara></listitem>
	<listitem><simpara>
	  &man.bthset.1; for making connections to Bluetooth headsets.
	</simpara></listitem>
      </itemizedlist>
    </listitem>
  </itemizedlist>
</sect2>

<para>
    Besides this list, there have also been innumerable bug
    fixes and other miscellaneous enhancements of course.
</para>

<sect2 id="removals">
  <title>Components removed from NetBSD</title>
  <para>
    In this release of NetBSD, some software components known from
    previous releases were removed from the system. In some cases
    those were components that are not useful anymore or their utility
    does not justify maintenance overhead. Other components were not
    working properly and there was lack of interest in fixing them.
  </para>
  <itemizedlist>
    <listitem><simpara>Sushi was removed from the base system due to
      lack of interest and maintenance.  If you really want it, it is
      available in the CVS repository at othersrc/usr.sbin/sushi.
      However, be warned that it is unmaintained and is most likely
      out of date.</simpara></listitem>
    <listitem><simpara>Vinum was removed due to lack of interest and
      maintenance.  At the time of removal, it had several known serious
      issues (including not being compilable).  RAIDframe provides
      similar functionality.  If you were using Vinum you will need
      to back up your data, delete the Vinum partitions, create
      RAIDframe partitions, and restore your data to them.  Details
      about RAIDframe can be found in &man.raid.4;, &man.raidctl.8;,
      and the <ulink url="../../docs/guide/en/chap-rf.html">NetBSD Guide</ulink>.
      </simpara></listitem>
    <listitem><simpara>
      Sendmail was removed. Postfix is the MTA and provides the
      &man.sendmail.1; command line tool. Postfix has been included
      with NetBSD since NetBSD 1.5 was released in December 2000.
      Details about Postfix can be found in the
      <ulink url="../../docs/guide/en/chap-mail.html">NetBSD Guide</ulink>.
      For those who need Sendmail, it is available from pkgsrc in the
      <filename role="pkg">mail/sendmail</filename> and
      <filename role="pkg">mail/sendmail813</filename> packages.
    </simpara></listitem>
    <listitem><simpara>NETCCITT and NETNS were removed due to lack of interest and
      maintenance.  They had known serious issues (including being out of
      date with respect to other network code) and there were no
      known users at the time of their removal.  Unfortunately, there
      is no replacement or option for them.  </simpara></listitem>
    <listitem><simpara>
      UUCP was removed. The NetBSD improvements were merged
      into the pkgsrc version.
      For those who use UUCP tools,
      they are available from pkgsrc in the
      <filename role="pkg">net/uucp</filename> package.
      The &man.cu.1; command is available as a frontend to
      &man.tip.1;.
    </simpara></listitem>
    <listitem><simpara>
      The Fortran 77 compiler (<application>g77</application>)
      has been removed with the
      transition from GCC 3 to GCC 4, which does not include it. For
      those who need it, it is available from pkgsrc in the 
      <filename role="pkg">lang/gcc3-f77</filename> package.
    </simpara>
    </listitem>
    <listitem><simpara>The evbsh5 port has been removed from NetBSD
      due to lack of interest, compounded by a lack of available SH5
      hardware.</simpara></listitem>
  </itemizedlist>

</sect2>
</sect1>

<sect1 id="acknowledgements">
<title>Acknowledgments</title>

<para>
    The NetBSD Foundation would like to thank all those who have
    contributed code, hardware, documentation, funds, colocation for
    our servers, web pages and other documentation, release engineering,
    and other resources over the years. More information on the people who
    make NetBSD happen is available at:
</para>

    <blockquote>
    <para>
    <ulink url="../../people/">http://www.NetBSD.org/people/</ulink>
    </para>
    </blockquote>

<para>
    We would like to especially thank the University of California at
    Berkeley and the GNU Project for particularly large subsets of code
    that we use. We would also like to thank
    the Internet Systems Consortium Inc., the Network Security Lab at
    Columbia University's Computer Science Department, and
    Ludd (Lule&aring; Academic Computer Society) computer society 
    at Lule&aring; University of Technology 
    for current colocation services.
</para>
</sect1>

<sect1 id="about-foundation">
<title>About the NetBSD Foundation</title>

<para>
    The <ulink url="../../foundation/">NetBSD Foundation</ulink> was
    chartered in 1995, with the task of overseeing core NetBSD project
    services, promoting the project within industry and the open
    source community, and holding intellectual property rights on much
    of the NetBSD code base. Day-to-day operations of the project are
    handled by volunteers.
</para>

<para>
    As a non-profit organization with no commercial backing, The NetBSD
    Foundation depends on donations from its users, and we would like to ask
    you to consider <ulink url="../../donations/">making a donation</ulink>
    to the NetBSD Foundation in support of continuing production of our
    fine operating system. Your generous donation would be particularly
    welcome assistance with ongoing upgrades and maintenance, as well as
    with operating expenses for The NetBSD Foundation.
</para>

<para>
    Donations can be done via PayPal to <email>paypal@NetBSD.org</email> and
    are fully tax-deductible in the US.  If you would prefer not to use PayPal,
    or would like to make other arrangements, please contact
    <email>finance-exec@NetBSD.org</email>.
</para>
</sect1>

<sect1 id="mirrors">
<title>NetBSD mirror sites</title>

<para>
    Please use a mirror site close to you.
</para>
    <itemizedlist>
    	<listitem><ulink url="../../mirrors/#ftp">FTP</ulink></listitem>
        <listitem><ulink url="../../mirrors/#iso">ISO images</ulink></listitem>
        <listitem><ulink url="../../mirrors/#anoncvs">Anonymous CVS</ulink></listitem>
        <listitem><ulink url="../../mirrors/#bittorrent">BitTorrent</ulink></listitem>
        <listitem><ulink url="../../mirrors/#sup">SUP</ulink></listitem>
        <listitem><ulink url="../../mirrors/#cvsup">CVSup</ulink></listitem>
        <listitem><ulink url="../../mirrors/#rsync">rsync</ulink></listitem>
        <listitem><ulink url="../../mirrors/#afs">AFS</ulink></listitem>
        <listitem><ulink url="../../mirrors/#nfs">NFS</ulink></listitem>
    </itemizedlist>

<para>
    Please also note our list of <ulink url="../../sites/cdroms.html">CD-ROM
    vendors</ulink>.
</para>
</sect1>

<parentsec url="./" text="NetBSD 4.x formal releases"/>
</webpage>
