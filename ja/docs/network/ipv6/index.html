<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../../ja/docs/network/." title="The NetBSD Network FAQ">
<link rel="previous" href="../../../../ja/docs/network/ipsec/." title="NetBSD IPsec FAQ">
<link rel="next" href="../../../../ja/docs/network/pppoe/." title="NetBSD ドキュメンテーション: PPPoE (DSL) 経由の接続手順">
<link rel="first" href="../../../../ja/docs/network/dhcp.html" title="NetBSD DHCP HOWTO">
<link rel="last" href="../../../../ja/docs/network/pppoe/." title="NetBSD ドキュメンテーション: PPPoE (DSL) 経由の接続手順">
<link rel="stylesheet" href="../../../../global.css" type="text/css">



<title>IPv6 Networking FAQ</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-docs-network-ipv6-index"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
                  google.load('search', '1', {language : 'en'});
                  google.setOnLoadCallback(function() {
                    var header_customSearchControl = new google.search.CustomSearchControl('006277936787196004968:mbdhrauy1wm');
                    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                    var header_options = new google.search.DrawOptions();
                    header_options.enableSearchboxOnly("http://google.com/cse?cx=006277936787196004968:mbdhrauy1wm");    
                    header_customSearchControl.draw('header-cse-search-form', header_options);
                  }, true);
                </script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../../ja/">
	  ホーム</a> | 
	<a href="../../../../ja/about/">
	  概要</a> | 
	<a href="../../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../../ja/support/">
	  サポート</a> | 
	<a href="../../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>IPv6 Networking FAQ</h1>
<div class="sect1">
<div class="titlepage"></div>

	<p>このページは作成中ですので、
	<a class="ulink" href="http://www.NetBSD.org/cgi-bin/feedback.cgi" target="_top">コメントや提案</a>を歓迎します。</p>

<div class="sect2" title="関連リンク">
<div class="titlepage"><div><div><h3 class="title">
<a name="other_links"></a>関連リンク</h3></div></div></div>


	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<a class="ulink" href="http://www.kame.net/" target="_top">かめプロジェクト</a>, 現在マージされているIPv6実装のでもと</li>
<li class="listitem"><a class="ulink" href="http://www.6bone.net/" target="_top">6bone: 世界規模の IPv6 実験ネットワーク</a></li>
<li class="listitem"><a class="ulink" href="http://www.freenet6.net/" target="_top">Freenet6.net</a></li>
<li class="listitem">
<a class="ulink" href="http://www.sixxs.net//" target="_top">SixXS</a> IPv6 の配置とトンネル提供</li>
<li class="listitem"><a class="ulink" href="http://www.ipv6.org/" target="_top">ipv6.org</a></li>
<li class="listitem"><a class="ulink" href="http://www.feyrer.de/NetBSD/6to4.html" target="_top">6to4 Explained</a></li>
<li class="listitem"><a class="ulink" href="http://orange.kame.net/dev/cvsweb.cgi/kame/IMPLEMENTATION" target="_top">実装に関する詳細情報</a></li>
<li class="listitem">
<a class="ulink" href="http://www.onlamp.com/pub/a/onlamp/2001/05/24/ipv6_tutorial.html" target="_top">Introduction to IPv6</a> by Hubert Feyrer</li>
<li class="listitem">
<a class="ulink" href="http://www.onlamp.com/pub/a/onlamp/2001/06/01/ipv6_tutorial.html" target="_top">Getting Connected with 6to4</a> by Hubert Feyrer</li>
<li class="listitem">web ページから利用できる<a class="ulink" href="http://www.ipv6tools.com/" target="_top">IPv6 ツール</a>
</li>
</ul></div>

</div>
<div class="sect2" title="IPv6ネットワーキングFAQ">
<div class="titlepage"><div><div><h3 class="title">
<a name="ipv6_networking_FAQ"></a>IPv6ネットワーキングFAQ</h3></div></div></div>


<div class="sect3" title="はじめましょう">
<div class="titlepage"><div><div><h4 class="title">
<a name="getting_started"></a>はじめましょう</h4></div></div></div>


	<p>IPv6 のコードは、 1999 年 6 月に NetBSDの配布にマージされ、
	NetBSD の一部となっています。
	IPv6設定はほとんどIPv4の場合と同じですので、
	IPv4ネットワーキングのための説明も参照ください。</p>

	<p>ほとんどのアーキテクチャー (ポート) の GENERIC カーネルは、
	デフォルトで IPv6 対応が有効になっています。
	ユーザープログラムは、(可能な限り) IPv6 に標準で対応していますので、
	IPv4 だけに対応したカーネルと IPv4/v6 両対応カーネルを切替えて使う場合でさえも、
	再構築の必要はありません。</p>

</div>
<div class="sect3" title="IPv6 小史と、重要な特徴">
<div class="titlepage"><div><div><h4 class="title">
<a name="diff_ipv4"></a> IPv6 小史と、重要な特徴</h4></div></div></div>


	<p>1992 年ごろ、
	<a class="ulink" href="http://www.ietf.org/" target="_top">IETF</a> では、 IPv4 アドレスの世界的な不足と、
	IPv4 のもつ制限による新しいプロトコルの展開への技術的な障害を認識するように
	なりました。
	これらの問題を解決するため、 IPng (IP next generation: 次世代 IP) の検討が始まりました。
	この議論は RFC1550 に始まる RFC 群で概説されます。
	多くの議論のすえ、 1995 年ごろ、 IPv6 (IP version 6: IP バージョン 6) が
	最終的な IPng の提案として選ばれました。
	IPv6 の基本的な仕様は RFC2460 に定められています。</p>

	<p>一言でいえば、
	<span class="emphasis"><em>IPv6 は IP 技術に対する再設計の成果です</em></span>。
	重要な特徴としては、以下のようなものがあります:</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<span class="bold"><strong>広い IP アドレス空間</strong></span>。
	IPv4 で使う IP アドレス空間はわずか 32 ビットで、これは、
	インターネット上で 40 億ノードの識別しかできません。
	40 億は大きな数に見えるかもしれませんが、
	これは地球上の総人口より少ないのです!
	IPv6 では 128 ビットの IP アドレス空間を用意しており、
	インターネット上で
	340282366920938463463374607431768211456
	(340澗, 340 * 10^36) 個のノードを一意に識別することができるようになります。
	広いアドレス空間によって、真に<span class="bold"><strong>端から端へのやりとり</strong></span>を、
	NAT や他の IPv4 のアドレス不足への一時的な代替策を使うことなしに、
	実現できます。
	(今日では、 NAT は新しいプロトコルへの対応やスケーラビリティーの
	問題といった頭痛の種を抱えています。インターネットをより成長させるためには、
	NAT ネットワークはまさに廃止する必要があります)</li>
<li class="listitem">
<span class="bold"><strong>より新しい技術の利用</strong></span>。
	20 年前に IPv4 が策定されて以来、
	ネットワーキングに関するさまざまな技術の進歩がありました。
	IPv6 はそれらの改良の多くを基本仕様の中に含んでおり、
	これらの機能をいつでもどこでも使えることを前提にして使うことができます。
	「いまどきの技術」には、次のようなものがあります (これだけに限りませんが):

	<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<span class="bold"><strong>自動設定</strong></span>。
	IPv4 では DHCP がありますが、これはオプションです。
	DHCP サーバーのないサイトにやってきた初心者にとっては、
	問題があるかもしれません。
	IPv6 では、「ステートレスホスト自動設定 (stateless host autoconfiguration)」の仕組みが必須です。
	これは、 IPv4 の DHCP よりも簡単に使ったり管理したりできます。
	この仕様は RFC2462 で決められています。</li>
<li class="listitem">
<span class="bold"><strong>セキュリティー</strong></span>。
	IPv4 では IPsec はオプションであり、相手が IPsec に対応しているかを
	たずねる必要がありました。
	IPv6 では、 IPsec への対応が必須です。
	IPsec を必須にすることで、 IPv6 のデバイスと通信している限りは、
	安全な IP 通信ができます。</li>
<li class="listitem">
<span class="bold"><strong>トラフィック工学技術への適応</strong></span>。
	IPv6 は、 diffserv や intserv (RSVP)
	といったトラフィック工学によりよく対応できるように設計されました。
	我々はまだ、トラフィック工学のための単一の標準を手にしていません。
	それゆえ、 IPv6 基本仕様では、そのような技術にそなえてヘッダー領域に
	24 ビットの空間を確保しておくことで、 IPv4 よりもすばらしい来たるべき標準
	になることができます。</li>
<li class="listitem">
<span class="bold"><strong>マルチキャスト</strong></span>。
	マルチキャストは IPv4 ではオプションでしたが、 IPv6 では必須です。
	IPv6 の基本仕様それ自体が、マルチキャストを広く使っています。</li>
<li class="listitem">
<span class="bold"><strong>アドホックなネットワーキングへの、よりよい対応</strong></span>。
	スコープ付きアドレスにより、アドホックな (あるいは「設定不要な」)
	ネットワーキングへの、よりよい対応ができます。
	IPv6 はエニーキャストアドレスにも対応しており、
	サービスの探索にも役立ちます。</li>
<li class="listitem">さらにいろいろ。</li>
</ul></div>
	</li>
<li class="listitem">
<span class="bold"><strong>ルーティングテーブル肥大化の解消</strong></span>。
	IPv4 バックボーンのルーティングテーブルの大きさは、
	ISP やバックボーンの運営者にとって大きな頭痛の種でした。
	IPv6 アドレス仕様では、ルート集約を主張して、
	バックボーンルーティングエントリーの数を制限しています。
	現在の IPv6 アドレス仕様では、デフォルトフリーのゾーンでわずか
	8192 ルートです。</li>
<li class="listitem">
<span class="bold"><strong>簡略化されたヘッダーの構造</strong></span>。
	IPv6 パケットのヘッダーの構造は、 IPv4 のものより簡略なものになっています。
	これにより、ベンダーが将来、 IPv6 ルーターのハードウェアアクセラレーションを実装することが、
	容易になるでしょう。</li>
<li class="listitem">
<span class="bold"><strong>柔軟なプロトコル拡張性</strong></span>。
	IPv6 では、 <span class="emphasis"><em>protocol header chain</em></span> の導入により、 IPv4
	より柔軟なプロトコル拡張が可能となっています。
	IPv6 では柔軟なプロトコル拡張が可能となっていますが、
	中間ルーターには負荷をかけません。
	これは、ヘッダーを二つの要素 ─すなわち、
	中間ルーターが検査する必要のあるヘッダーと、
	終端のノードが検査するヘッダー─に分割することで実現されています。
	また、これにより IPv6 ルーターのハードウェアアクセラレーションが
	容易になります。</li>
<li class="listitem">
<span class="bold"><strong>IPv4 からの円滑な移行</strong></span>。
	IPv6 の議論のなかで、移行に関する考察がいくつもなされました。
	そして、多くの移行のための仕組みが利用可能です。
	そのなかから、あなたのサイトに最も適した方法を選ぶことができます。</li>
<li class="listitem">
<span class="bold"><strong>IPv4 の重要な設計思想の継承</strong></span>。
	IPv4 は、世界中で非常に大規模に使われることで証明されてきたように、
	大変成功した設計です。
	IPv6 は「 IP の新バージョン」であり、 IPv4 を成功させた
	設計の多くを継承しています。
	これにより、 IPv4 から IPv6 への円滑な移行が可能となります。</li>
<li class="listitem">さらにいろいろ。</li>
</ul></div>

	<p>IPv6 に関する良書がたくさん出ていますので、
	興味があればそれらを見てみてください。</p>

</div>
<div class="sect3" title="以下もあわせて参照してください:">
<div class="titlepage"><div><div><h4 class="title">
<a name="see_also"></a>以下もあわせて参照してください:</h4></div></div></div>


	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><a class="ulink" href="http://www.ipv6.org/" target="_top">ipv6.org</a></li>
<li class="listitem">
<a class="ulink" href="http://search.barnesandnoble.com/booksearch/results.asp?WRD=ipv6" target="_top">Barnes &amp; Noble
	    で "IPv6" に関する書籍を検索</a>
	(注意: 私たちは、書店に関する特別な推奨は、
	一切していません)</li>
<li class="listitem">
<a class="ulink" href="http://www.onlamp.com/pub/a/onlamp/2001/05/24/ipv6_tutorial.html" target="_top">Introduction to IPv6</a> by Hubert Feyrer</li>
</ul></div>

</div>
<div class="sect3" title="ネットワーク設定ファイル">
<div class="titlepage"><div><div><h4 class="title">
<a name="configuration_files"></a> ネットワーク設定ファイル</h4></div></div></div>


	<p>ネットワークは、テキスト形式の設定ファイルによって設定されます。
	ホスト(ルーターでないノード)を自動設定する場合、
	以下のファイルのうちいくつかは編集しなくて済みます。</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<code class="filename">/etc/rc.conf</code> - <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> は、
	システムの初期化時に、ネットワークサービスを含むシステムサービスを
	自動的に開始するための設定をします。</li>
<li class="listitem">
<code class="filename">/etc/hosts</code> - <a href="http://netbsd.gw.com/cgi-bin/man-cgi?hosts+5+NetBSD-5.1+i386">hosts(5)</a> は
	FQDN 名と IPv6 数値アドレスの対応を含むことができます。</li>
<li class="listitem">
<code class="filename">/etc/ifconfig.<em class="replaceable"><code>&lt;IF&gt;</code></em></code> 、または
	<code class="filename">/etc/rc.conf</code> 内の
	<code class="varname">ifconfig_<em class="replaceable"><code>&lt;IF&gt;</code></em></code> -
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a>を使ったIPv6ネットワークの設定を
	ここに含めることができます。</li>
</ul></div>

</div>
<div class="sect3" title="このマシンはルーターかホストか?">
<div class="titlepage"><div><div><h4 class="title">
<a name="router_or_host"></a>このマシンはルーターかホストか?</h4></div></div></div>


	<p>IPv6では、ルーターとホストは明示的に区別されています。
	自分宛でないパケットをフォワードするノードを<span class="emphasis"><em>ルーター</em></span>、
	そうでないノードを<span class="emphasis"><em>ホスト</em></span>といいます。
	ルーターは手動で設定する必要があります。
	ルーターはrtadvd(8)デーモンを使って、サブネットの情報を広告します。
	ホストは多くの場合、ネットワークインターフェースを1つしか持っていません
	(これは本ドキュメントの一部で仮定されています)。
	ホストは多くの場合、広告されたサブネットに関する情報をもとに自動設定されます。</p>

</div>
<div class="sect3" title="IPv6 ホストの自動設定">
<div class="titlepage"><div><div><h4 class="title">
<a name="autoconfig"></a>IPv6 ホストの自動設定</h4></div></div></div>


	<p>IPv6 ホストの自動設定には、二つの異なる機構が決められています。
	一つは <span class="emphasis"><em>ステートレスアドレス自動設定 (stateless address autoconfiguration)</em></span> と呼ばれるもので、
	RFC2462 で定められています。
	もう一つは <span class="emphasis"><em>DHCPv6</em></span> と呼ばれるもので、これは IETF dhc
	ワーキンググループで討議されているものです。
	NetBSD は現在、前者を実装しています。</p>

	<p>ステートレスアドレス自動設定は、基本的には次のように機能します。
	ここでは、ホスト (自動設定が必要なもの) と
	ルーター (必要な情報をホストに与えるもの) の二者を考えます。</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">ホストは、ネットワークインターフェースにリンクローカルアドレスを設定します。
	リンクローカル IPv6 アドレスは "fe80" で始まり、
	最下位 64 ビットに値を持ちます。
	この最下位 64 ビットの値は <span class="emphasis"><em>インターフェース ID</em></span> と呼ばれています。
	Ethernet や、いくつかの他のインターフェースでは、
	MAC アドレスをもとにインターフェース ID が作られています。

<pre class="programlisting">
    % ifconfig ne2
    ne2: flags=8863&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        media: Ethernet manual
        inet6 fe80::a00:5aff:fe38:6f86%ne2 prefixlen 64 scopeid 0x1
</pre>
	</li>
<li class="listitem">ルーター上で <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtadvd+8+NetBSD-5.1+i386">rtadvd(8)</a> を走らせることにより、ルーターはリンク
	(イーサネットセグメントなどの) に関する情報を、
	リンク上のすべてのノードに対し、定期的に広告します。
	この情報は ICMPv6 の "ルーター通知 (router advertisement)" パケットで運ばれます。
	ここで示す例では、下記の情報を広告します。

	<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">IPv6 サブネットのプレフィックスは 2001:218:420::/64</li>
<li class="listitem">デフォルトルーターは fe80::240:5ff:fea0:8e08</li>
<li class="listitem">そして、他のいくつかのパラメーター。 IPv6 link MTU, default hoplimit,
	や router lifetime など。</li>
</ul></div>

<pre class="programlisting">
14:18:20.812850 fe80::240:5ff:fea0:8e08 &gt; ff02::1: icmp6: router advertisement\
(chlim=64, router_ltime=1800, reachable_time=30000, retrans_time=1000)(src\
lladdr: 0:40:5:a0:8e:8)(mtu: mtu=1500)(prefix info: LA valid_ltime=2592000,\
preffered_ltime=604800, prefix=2001:218:420::/64)
                         6000 0000 00a0 3aff fe80 0000 0000 0000
                         0240 05ff fea0 8e08 ff02 0000 0000 0000
                         0000 0000 0000 0001 8600 d38d 4000 0708
                         0000 7530 0000 03e8 0101 0040 05a0 8e08
                         0501 0000 0000 05dc 0304 40c0 0027 8d00
                         0009 3a80 0000 0000 2001 0218 0420 0000
                         0000 0000 0000 0000
</pre>
	</li>
<li class="listitem">ホストはこの広告を受けとり、グローバル IPv6 アドレスと
	デフォルトルーターを設定します。
	ホストで <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ndp+8+NetBSD-5.1+i386">ndp(8)</a> を走らせることで、一番最近の router advertisement
	の詳細を見ることができます。

<pre class="programlisting">
% ifconfig ne2
ne2: flags=8863&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        media: Ethernet manual
        inet6 fe80::a00:5aff:fe38:6f86%ne2 prefixlen 64 scopeid 0x1
        inet6 2001:218:420:0:a00:5aff:fe38:6f86 prefixlen 64
</pre>
	</li>
<li class="listitem">オプションとして、ホストは ICMPv6 "ルーター要請 (router solicitation)" パケットを送って、
	ルーターからの広告を要請することができます。
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsol+8+NetBSD-5.1+i386">rtsol(8)</a> は router solicitation パケットを送ります。
	もし移動するノードを運用するのなら、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsold+8+NetBSD-5.1+i386">rtsold(8)</a> を走らせて
	定期的に router solicitations を送出するのもいいでしょう。
	このパケットは次のようになっています:

<pre class="programlisting">
14:18:20.300501 fe80::a00:5aff:fe38:6f86 &gt; ff02::2: icmp6: router solicitation\
(src lladdr: 8:0:5a:38:6f:86) (len 16, hlim 255)
			 6000 0000 0010 3aff fe80 0000 0000 0000
			 0a00 5aff fe38 6f86 ff02 0000 0000 0000
			 0000 0000 0000 0002 8500 d7b0 0000 0000
			 0101 0800 5a38 6f86
</pre>
	</li>
</ul></div>

	<p>この方法は <span class="emphasis"><em>ステートレス</em></span>アドレス自動設定と呼ばれますが、
	これはルーター側でステート (状態) を管理する必要がないからです。
	これは非常に単純で堅固で効果的な自動設定の仕組みです。</p>

	<p>ルーターは自動設定できないことに注意してください。
	ルーターは本当に手動で設定する必要があります。</p>

</div>
<div class="sect3" title="IPv6ルーターの設定">
<div class="titlepage"><div><div><h4 class="title">
<a name="setup_router"></a>IPv6ルーターの設定</h4></div></div></div>


	<p>まず、IPv6グローバルアドレスを上流組織から入手すべきでしょう。
	手にいれたなら、以下の手順をふんでください。</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">ネットワークインターフェースの手動設定を
	<code class="filename">/etc/ifconfig.<em class="replaceable"><code>&lt;IF&gt;</code></em></code> (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a>) または
	<code class="filename">/etc/netstart.local</code> に記述します。
	詳しくは<a class="ulink" href="#setup_manual" target="_top">下記の項目</a>
	をご覧ください。</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> の以下の行を設定します。
<pre class="programlisting">
    <code class="varname">ip6mode</code>="router"
    <code class="varname">rtsol</code>="NO"
    <code class="varname">rtadvd</code>="YES"                <code class="varname">rtadvd_flags</code>="sm1 ne2"  # set interfaces to advertise
</pre>
	</li>
<li class="listitem">
<code class="filename">/etc/rtadvd.conf</code> (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtadvd.conf+5+NetBSD-5.1+i386">rtadvd.conf(5)</a>) を編集して、 router advertisement のタイマーを
		微調整してもいいでしょう。</li>
<li class="listitem">RIPngを使って経路を広告したければ、
		<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> を <a href="http://netbsd.gw.com/cgi-bin/man-cgi?route6d+8+NetBSD-5.1+i386">route6d(8)</a> を起動するように設定します。</li>
<li class="listitem">ルーターを再起動します。</li>
</ul></div>

	<p>IPv6 の仕様上の制限のため、
	ルーターを自動設定することはできません。
	設定の微調整をしようとしないでください。
	結果として、予期しない結果に終わることになるでしょう。</p>

</div>
<div class="sect3" title="IPv6ホストの設定">
<div class="titlepage"><div><div><h4 class="title">
<a name="setup_host"></a> IPv6ホストの設定</h4></div></div></div>


	<p>IPv6ルーターがネットワーク上にいるなら、以下の手順をふめばホストの設定が完了します。
	再起動の後、ホストは隣接ルーター上の <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtadvd+8+NetBSD-5.1+i386">rtadvd(8)</a> が放送した router advertisement
	によって自動設定されます。</p>
	
	<div class="procedure"><ol class="procedure" type="1">
<li class="step" title="Step 1">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> の以下の行を設定します。

<pre class="programlisting">
    <code class="varname">ip6mode</code>="autohost"
    <code class="varname">rtsol</code>="YES"  <code class="varname">rtsol_flags</code>="sm1"      # set your interface here
</pre>

	この 2 行目を書くかわりに、 /etc/ifconfig.{IF}
	に以下のように書くこともできます。

<pre class="programlisting">
    up
    !rtsol $int
</pre>
	</li>
<li class="step" title="Step 2">ホストを再起動します。</li>
</ol></div>

	<p>IPv6ルーターがネットワーク上にいない場合、
	手動設定が必要です。
	詳しくは
	<a class="ulink" href="#setup_manual" target="_top">次の項目</a>をご覧ください。</p>

	<p>また、 IPv6 の仕様の制限のため、多数の外部インターフェース
	(たとえば二つのイーサネットインターフェースなど)
	を持つホストでの自動設定は、推奨されません。
	この場合は手動設定してください。
	詳しくは
	<a class="ulink" href="#setup_manual" target="_top">次の項目を</a>ご覧ください。</p>

</div>
<div class="sect3" title="手動設定">
<div class="titlepage"><div><div><h4 class="title">
<a name="setup_manual"></a> 手動設定</h4></div></div></div>


	<p>IPv6 の主な新機能のひとつは、どこででも自動設定が使えることです。
	IPv6 アドレスは 128 ビットあるので、
	手動設定では間違えやすくなっています。
	できるかぎり手動設定は避けるよう、強くおすすめします。
	たとえば:</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">ルーターに経路の設定をする場合は、
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?route6d+8+NetBSD-5.1+i386">route6d(8)</a> のようなルーティングデーモンを走らせます。</li>
<li class="listitem">ホストのインターフェースアドレスを設定する場合は、
	<code class="code">ip6mode=autohost</code> と <code class="code">rtsol=YES</code> を設定して、
	隣接ルーターから情報を入手します (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> 参照) 。</li>
</ul></div>

	<p>手動設定したほうが簡単だと思うかもしれませんが、それは間違いです。
	手動設定をすると、保守作業のツケを将来にまわすことになります。</p>

	<p>もし、本当に手動設定が必要なら、この先の説明を読んでください。</p>

	<p>ノードの設定を手動でしなければならない場合、
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> にネットワークインターフェースの手動設定を
	加えてください。</p>

	<p>最初に、下のように <code class="varname">ip6mode</code> を設定して、
	そのノードの種類 (ホストかルーターか) を明示する必要があります。</p>

<pre class="programlisting">
    ip6mode="router"        # パケットを他に転送する
    ip6mode="host"          # パケットを他に転送しない
</pre>

	<p>そして、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> 、または <code class="code">/etc/rc.d/network</code> に記述されている
	<code class="code">/etc/ifconfig.xxN</code> のようなファイルに、インターフェースの設定を追加してください。
	<code class="code">/etc/ifconfig.xxN</code> は、下記のように
	複数の行を使うことができます:</p>

<pre class="programlisting">
    inet 10.1.1.1 netmask 0xffffff00
    inet6 2001:db8:1234::1 prefixlen 64 alias
</pre>

	<p>行末の <code class="code">"alias"</code> に注意してください。
	IPv6 では複数のインターフェースアドレスがあるため、
	このキーワードは必須です。</p>

	<p>設定が <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rc.conf+5+NetBSD-5.1+i386">rc.conf(5)</a> でカバーされていない場合は、
	<code class="code">/etc/netstart.local</code> または
	<code class="code">/etc/rc.local</code>
	に設定を書き加えることができます。
	次のようなプログラムを使う必要があるでしょう:</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a> - ネットワークインターフェースの設定を見たり変更したりする。</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?route+8+NetBSD-5.1+i386">route(8)</a> - 経路表を操作する。</li>
</ul></div>

</div>
<div class="sect3" title="ネットワーク上のノードに名前をつける">
<div class="titlepage"><div><div><h4 class="title">
<a name="naming_a_node"></a> ネットワーク上のノードに名前をつける</h4></div></div></div>


	<p>文字列のホスト名をIPv6アドレスの数字に変換するには、
	<code class="filename">/etc/hosts</code> (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?hosts+5+NetBSD-5.1+i386">hosts(5)</a>) やDNSが使えます。
	これはIPv4の場合と同じです。
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?yp+8+NetBSD-5.1+i386">yp(8)</a> も多分使えると思いますが、著者はIPv6アドレスを解決するのに
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?yp+8+NetBSD-5.1+i386">yp(8)</a> を使ったことがありません。</p>

	<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<code class="filename">/etc/hosts</code> (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?hosts+5+NetBSD-5.1+i386">hosts(5)</a>):
	ノードが少ししかない小規模なネットワークでは、各ノードの
	/etc/hostsにホスト名/IPアドレスの対応を書くとよいでしょう。

      <p><span class="emphasis"><em>/etc/hosts:</em></span></p>
      <pre class="programlisting">
2001:db8:1234::a:b:c:d  host2.example.net host2
      </pre>
      </li>
<li class="listitem">

	<p>DNS: ネームサーバー (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?named+8+NetBSD-5.1+i386">named(8)</a>) を介してアクセスできるゾーンファイルで
	ホスト名の対応を集中管理することもできます
	(DNSの設定や管理について
	<a class="ulink" href="http://www.dns.net/dnsrd/docs/" target="_top">www.dns.net</a>
	にたくさんのドキュメントがあります)。</p>

	<p><span class="emphasis"><em>正索きゾーンファイルのエントリー</em></span></p>

<pre class="programlisting">
host2  IN AAAA     2001:db8:1234::a:b:c:d
</pre>

	<p><span class="emphasis"><em>逆索きゾーンファイルのエントリー</em></span></p>

<pre class="programlisting">
d.0.0.0.c.0.0.0.b.0.0.0.a.0.0.0.0.0.0.0.4.3.2.1.8.b.d.0.1.0.0.2.ip6.arpa.
	IN PTR   host2.example.net
</pre>

	<p>注意: DNS の A6 レコードやビットストリングラベルについてお聞きになったことがあるかもしれませんが、
	現在これらは実験的な状態なので、
	気にする必要はありません。
	AAAA は商用サービス用に使われることとなっており、満足に機能しています。</p>

	<p>また、逆索き DNS テーブルが <code class="code">ip6.int</code> から <code class="code">ip6.arpa</code>
	に移行していることにも注意してください。本稿執筆時点では、6Bone (3ffe)
	アドレスは ip6.int としてのみ知られていますが、ip6.int が消えた時には、
	商用アドレスは ip6.arpa の下でアナウンスされるはずです。</p>

	</li>
</ol></div>

	<p>以下のアドレスは、グローバル DNS クラウドに出しては「いけない」ことに注意してください:</p>

	<div class="variablelist"><dl>
<dt><span class="term">リンクローカルアドレス (fe80::/10 に該当するもの、たとえば fe80::1)</span></dt>
<dd><p>これは、グローバル到達性がありません。</p></dd>
<dt><span class="term">ユニークローカルアドレス (fc00::/7 に該当するもの、たとえば fd00::1)</span></dt>
<dd><p>これも、グローバル到達性がありません。
		これはプライベートアドレスに相当するものなので、
		イントラネットの DNS クラウドで使うことができます。</p></dd>
<dt><span class="term">v4 射影アドレス ( ::ffff:0.0.0.0/96 に該当するもの、たとえば ::ffff:10.1.1.1)</span></dt>
<dd><p>このアドレスはノード内での内部向け専用です。
		これを直接 DNS データベースに入れないでください。</p></dd>
</dl></div>

	<p>以下のアドレスは、 DNS クラウドに入れることは推奨しません:</p>

	<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">マルチキャストアドレス (ff00::/8 に該当するもの、たとえば ff05::1)</li></ol></div>

	<p>NetBSD/KAME の IPv6 コードは、以下のアドレスには対応していないため、
	本来の用途には使えません:</p>

	<div class="variablelist"><dl>
<dt><span class="term">v4 互換アドレス ( ::0.0.0.0/96 に該当するもの、たとえば ::10.1.1.1)</span></dt>
<dd><p>NetBSD/KAME は RFC2893 auto tunnel に対応していません。</p></dd>
</dl></div>

</div>
<div class="sect3" title="IPv6 ユニキャストアドレス割り当て">
<div class="titlepage"><div><div><h4 class="title">
<a name="addressing"></a> IPv6 ユニキャストアドレス割り当て</h4></div></div></div>


	<p>IPv6 アドレスの割り当てと IPv4 のそれとでは、
	二つの点で違いがあります。</p>
	
	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>IPv6 サブネットのプレフィックス長は常に /64 であり、これと異なることはありません。
	これにより、たくさんの
	IPv6 デバイスをネットワークメディアとすることができます。</p>
<p>
	IPv4 では、プレフィックス長はサブネットごとに様々であるため、
	サブネットの振りなおしはうんざりする苦痛になります
	(たとえば、 IPv4 サブネットを /28 から /29 に、
	あるいはその逆に振り直すことを想像してください) 。</p>
</li>
<li class="listitem">
<p>普通のリーフサイトはいつも、アドレス空間に /48 をとり、
	これにより、サイトの振りなおしが容易になり、また、
	ISP の乗り換えも容易になります。</p>
<p>IPv4 では、
	割り当てはサイトの規模によって異なるため、たとえば
	ISP を乗り換える際には、大変な負担がかかることになります。</p>
</li>
</ul></div>

</div>
<div class="sect3" title="IPv6上流組織への接続">
<div class="titlepage"><div><div><h4 class="title">
<a name="upstream"></a> IPv6上流組織への接続</h4></div></div></div>


	<p>周辺の ISP の状況によっては、  (IPv4 で行なっているような) ネイティブな
	IPv6 接続ができるかもしれませんし、トンネルされた接続 (IPv6 パケットを
	IPv4 パケットにカプセル化する) ができるかもしれません。
	ここでは、後者の場合について説明します。</p>

	<p><a class="ulink" href="http://www.6bone.net/" target="_top">"6bone"</a>という名前のIPv6実験ネットワークに
	あなたのマシンを接続することができます。
	最も近くの6boneサイトと相談して、IPv6プレフィックスアドレスを
	割り当ててもらいましょう。
	なお、6boneに接続するには通常固定のIPv4グローバルアドレスが必要です。</p>

	<p>(ISPにダイアルアップ接続しているなどで)固定のIPv4グローバルアドレスがなくても
	慌てないでください。
	<a class="ulink" href="http://www.freenet6.net/" target="_top">Freenet6</a>に接続できます。
	Freenet6はダイアルアップ接続するたびにIPv6ネットワークに再接続できるよう、
	webインターフェースを提供しています。</p>

	<p>どちらの場合にも、あなたのIPv6ルーターに、
	IPv6-over-IPv4トンネリングインターフェースを設定する必要があります。
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?gif+4+NetBSD-5.1+i386">gif(4)</a> のマニュアルも参照してください。</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p><span class="bold"><strong>gifトンネルの設定</strong></span>:
	以下の内容をもつ <code class="code">/etc/ifconfig.gif0</code> ファイルを作ります。
	最初の引数 (<code class="code">x.x.x.x</code>) は自分の IPv4 アドレス、二番目の引数
	(<code class="code">y.y.y.y</code>) は相手方の IPv4 アドレスです。</p>

<pre class="programlisting">
create		(1.5 より後でのみ必要)
tunnel x.x.x.x y.y.y.y
</pre>

	<p>または、以下の行を
	<code class="code">/etc/netstart.local</code> か
	<code class="code">/etc/rc.local</code> に追加します。</p>

<pre class="programlisting">
# ifconfig gif0 create		(1.5 より後でのみ必要)
# ifconfig gif0 tunnel x.x.x.x y.y.y.y
</pre>



	</li>
<li class="listitem">

	<p><span class="bold"><strong>トンネルがうまく機能しているか確認します
	</strong></span>: 最初に、次のコマンドを念じながら試します
	:</p>

<pre class="programlisting">
# ping6 -n ff02::1%gif0
</pre>

	<p>ローカルノードからのパケットとリモートノードからのパケットの二つが
	観測されれば、トンネルはうまく機能しています。
	もし x.x.x.x と y.y.y.y の間で IPv4 到達性に問題があれば、
	応答は一つだけ、あるいはまったくないでしょう。
	問題がある場合は以下の点を調べてください:</p>
	
	<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">通信相手との間に NAT 箱がないことを確認します。
		トンネルされた IPv6 パケットは NAT 箱を通り抜けられません。</li>
<li class="listitem">通信相手との間に IPv4 パケットフィルターがないことを
		確認します。</li>
</ul></div>

	</li>
<li class="listitem">

	<p><span class="bold"><strong>経路交換</strong></span>:
	上流の設定によって、デフォルトルートを上流に設定する必要があるか、
	または、ルーティングデーモンを走らせる必要があるかもしれません。</p>

	</li>
</ul></div>

	<p>上記の設定は RFC2893 IPv6-over-IPv4 設定されたトンネルを使います。
	RFC2893 パケットは NAT ルーターを通り抜けられないことに注意してください
	(トンネルの端点それ自体─ NetBSD 箱─が NAT ルーターである場合は、
	その問題は起こらないでしょう)。</p>

	<p>以下もあわせて参照してください:
	</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><a class="ulink" href="http://www.6bone.net/" target="_top">6bone</a></li>
<li class="listitem"><a class="ulink" href="http://www.freenet6.net/" target="_top">Freenet6.net</a></li>
<li class="listitem"><a class="ulink" href="http://www.feyrer.de/NetBSD/6to4.html" target="_top">6to4 Explained</a></li>
<li class="listitem">
<a class="ulink" href="http://www.onlamp.com/pub/a/onlamp/2001/06/01/ipv6_tutorial.html" target="_top">Getting Connected with 6to4</a> by Hubert Feyrer</li>
<li class="listitem"><a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/hf6to4/README.html" target="_top"><code class="filename">net/hf6to4</code></a></li>
</ul></div>
<p>
        </p>

</div>
<div class="sect3" title="典型的な IPv6 ネットワークのセットアップ - 上流から /48 のプレフィックスが割り当てられている場合">
<div class="titlepage"><div><div><h4 class="title">
<a name="typical1"></a> 典型的な IPv6 ネットワークのセットアップ - 上流から /48 のプレフィックスが割り当てられている場合</h4></div></div></div>


	<p>上流から、自分のホームネットワークのアドレスに、アドレスプレフィックス
	2001:db8:1234::/48 が 割り当てられていると仮定します。
	自宅には以下のように二つのイーサネットセグメントがあります。
	myrouter A と myrouter B はいずれも IPv6 が使える NetBSD を走らせます。
	IPv4 アドレスは以下のとおり指定されています。
	x.x.0.1/24 内にある myrouter A から、 y.y.y.10 の上流のルーターまで
	IPv6-over-IPv4 トンネルを経由して、上流に接続したいものとします。</p>

<pre class="programlisting">
myrouter A
  | IPv4 x.x.0.1/24
  |
==+=== ethernet 0
  |
  | IPv4 x.x.0.2/24
myrouter B
  | IPv4 x.x.1.2/24
  |
==+=== ethernet 1
</pre>

	<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">

	<p>最初に、 myrouter A から上流へのトンネルの設定が必要です。
	myrouter A 上で、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a> を使ってトンネルの設定をしてから、
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ping6+8+NetBSD-5.1+i386">ping6(8)</a> を使って到達性を確かめてください。
	"ff02::1" は全ノードマルチキャストアドレスと呼ばれ、このトンネル上の
	すべてのノード (この例では myrouter A と上流のルーター) に到達するはずです。
	二つのノードからの応答があれば、トンネルはうまく機能しています。
	一方のノード (myrouter A 自身) からしか応答がない場合は、
	上流との間に何か問題があります。
	これは IPv4 フィルタリングのせいかもしれませんし、どちらかの側での設定誤り、
	あるいは別の原因のせいかもしれません。
	先に進む前に、問題を突き止めてください。</p>

<pre class="programlisting">
# ifconfig gif0 create		(1.5 より後でのみ必要)
# ifconfig gif0 tunnel x.x.0.1 y.y.y.10
# ping6 -I gif0 -n ff02::1
PING6(56=40+8+8 bytes) fe80::a00:5aff:fe38:6f86 --&gt; ff02::1
16 bytes from fe80::a00:5aff:fe38:6f86%lo0, icmp_seq=0 hlim=64 time=0.334 ms
16 bytes from fe80::240:5ff:fea7:f092%gif0, icmp_seq=0 hlim=64 time=3.416 ms(DUP!)
</pre>

	</li>
<li class="listitem">

	<p>次に、あなたのアドレスブロック 2001:db8:1234::/48 から、
	二つのイーサネットセグメントにサブネットアドレスを割り当てる必要があります。
	IPv6 サブネットのプレフィックス長は常に /64 なので、
	65536 個ものサブネットを割り当てることができます!
	ここでは単に ethernet 0 に 2001:db8:1234:0::/64 を、
	ethernet 1 に 2001:db8:1234:1::/64 を割り当てます。</p>

<pre class="programlisting">
myrouter A ---- tunnel -------&gt;	上流
  | IPv4 x.x.0.1/24		IPv4 y.y.y.10
  |
==+=== ethernet 0: x.x.0.0/24, 2001:db8:1234:0::/64
  |
  | IPv4 x.x.0.2/24
myrouter B
  | IPv4 x.x.1.2/24
  |
==+=== ethernet 1: x.x.1.0/24, 2001:db8:1234:1::/64
</pre>

	</li>
<li class="listitem">

	<p>ルーターに IPv6 グローバルアドレスを割り当てましょう。
	ルーターは「かならず」手動設定する必要があるので、
	手動設定の節で説明したように "ifconfig" をする必要があります。
	myrouter A で、 ("fe80" から始まる) リンクローカル IPv6 アドレスを調べ、
	その下位 64 ビットを、サブネットアドレスの上位 64 ビットと組み合わせ、
	それを設定します。
	リブートしても設定がなくならないようにするには、この設定を
	/etc/ifconfig.ne2 に加えます。</p>

<pre class="programlisting">
# ifconfig ne2
ne2: flags=8863&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
	address: 08:00:5a:38:6f:86
	media: Ethernet manual
	inet x.x.0.1 netmask 0xffffff00 broadcast x.x.0.255
	inet6 fe80::a00:5aff:fe38:6f86%ne2 prefixlen 64 scopeid 0x1
# ifconfig ne2 inet6 2001:db8:1234:0:a00:5aff:fe38:6f86 prefixlen 64 alias
# echo 'inet6 2001:db8:1234:0:a00:5aff:fe38:6f86 prefixlen 64 alias' &gt;&gt; /etc/ifconfig.ne2
</pre>

	<p>myrouter B でも同様に設定します。</p>

<pre class="programlisting">
# ifconfig tlp0 inet6 2001:db8:1234:0:a00:5aff:fe38:8765 prefixlen 64 alias
	(ethernet 0 側)
# ifconfig tlp1 inet6 2001:db8:1234:1:a00:5aff:fe38:9710 prefixlen 64 alias
	(ethernet 1 側)
</pre>

	</li>
<li class="listitem">

	<p>経路情報交換のため、両方のルーターで <a href="http://netbsd.gw.com/cgi-bin/man-cgi?route6d+8+NetBSD-5.1+i386">route6d(8)</a> を走らせます。
	上流が経路情報の集約を要求している場合は、
	マニュアルページでコマンドラインオプションを調べてください。
	これで上流への接続性が得られたはずですので、外部の IPv6 ノードへ ping
	を試してみましょう。
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ping6+8+NetBSD-5.1+i386">ping6(8)</a> に "-n" オプションを指定するのを忘れないでください。 IPv6
	アドレス逆引きには非常に長い時間がかかることがあるので、テストのときはそれを避けましょう。</p>

<pre class="programlisting">
# route6d	(両方のルーターで)
# ping6 -n www.6bone.net
</pre>

	</li>
<li class="listitem">

	<p>ネットワーク上に末端ホスト (ルーター以外のノード) がある場合は、
	サブネットの情報をルーターから末端ホストに広告させるとよいかもしれません。
	そうすれば、末端ホストが自動設定可能になります。
	そのためには、 /etc/rtadvd.conf を用意して <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtadvd+8+NetBSD-5.1+i386">rtadvd(8)</a> を走らせる必要があります。
	上流のルーターからのサブネット情報は広告すべきだということに注意してください。
	図中、 myrouter A は ethernet 0 に対して広告すべきで、 myrouter
	B は ethernet 0 と 1 に対して広告すべきです。
	myrouter B から ethernet 0 への広告を抑制したいと思うかもしれません。
	というのも、 B は下流にあって、デフォルトルーターとして最適ではないからです
	(ただし、この広告を抑制すると、 myrouter A がお亡くなりになられた時、
	ethernet 0 にあるマシンが ethernet 1 にあるマシンと対話できなくなります)。</p>

<pre class="programlisting">
# rtadvd ne2	(myrouter A から ethernet 0 への広告)
# rtadvd tlp0 tlp1	(myrouter B から ethernet 0 と 1 への広告)
</pre>

	<p>そして、自動設定のために、エンドノード上で
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsol+8+NetBSD-5.1+i386">rtsol(8)</a> か <a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsold+8+NetBSD-5.1+i386">rtsold(8)</a> を走らせます。</p>

	</li>
</ol></div>

	<p>場合によっては、上流組織が、上記の筋書きとは異なる設定をするよう
	求めてくるかもしれません。</p>

</div>
<div class="sect3" title="典型的な IPv6 ネットワークのセットアップ - 6to4 を介して /48 プレフィックスを使う場合">
<div class="titlepage"><div><div><h4 class="title">
<a name="typical2"></a> 典型的な IPv6 ネットワークのセットアップ - 6to4 を介して /48 プレフィックスを使う場合</h4></div></div></div>


	<p>固定の IPv4 グローバルアドレスが複数ある場合は、
	自分の /48 IPv6 プレフィックスに対して 6to4 の仕組み (RFC3056)
	を使うことができます。</p>


	<p>「公開 6to4 リレールーター」と呼ばれるルーターが公開されており、
	他のサイトへのトンネルになってくれます。
	あなたのマシンの一台を、IPv6 パケットを IPv4 パケットで包んで公開 6to4
	リレールーターに投げ (、逆に、リレールーターから IPv4 パケットを受け取って
	IPv6 パケットを抽出す) る 6to4 ゲートウェイとして設定する必要があります。
	IPv4 アドレスが x.y.z.u であるとすると、IPv6 プレフィックスは
	2002:xxyy:zzuu::/48 となります (xx, yy, zz, uu は、それぞれ
	x, y, z, u の十六進表記)。</p>

	<p>ISP から割り当てられた IPv4 アドレスがプライベートアドレス
	(10.x.x.x など) の場合は、残念ながら 6to4 の仕組みは使えません。
	この仕組みは NAT デバイスをまたいでは動かないのです。</p>

	<p>以下のような構成を仮定し、myrouter A の IPv4 アドレスは
	x.y.z.u であるとします。
	myrouter B の IPv4 アドレスは何でもかまいません。</p>

<pre class="programlisting">
myrouter A
  | IPv4 x.y.z.u
  |
==+=== ethernet 0
  |
myrouter B
  |
==+=== ethernet 1
</pre>

	<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">

	<p>最初に、myrouter A で 6to4 トンネルインターフェースの設定をする必要があります。
	トンネル内では IPv6 サブネットのプレフィックスとして 2002:xxyy:zzuu:0000::/64
	を使うことにします。RFC 3068 によれば、6to4 を使う場合は常に、
	デフォルトルーターを 2002:c058:6301:: に設定すべきです。これは、最寄りの
	(BGP の用語でいえば anyhow) リレールーターを表す特別なエニーキャストアドレスです。
	利用可能な公開 6to4 リレールーターの<a class="ulink" href="http://www.kfu.com/~nsayer/6to4/" target="_top">一覧</a>
	もあります。
	注意: stf0 インターフェースでは IPv6 マルチキャストができないため、
	ff02::1 を使ったテストはできません。
	古い NetBSD リリースでは、GENERIC カーネルで
	stf0 インターフェースが標準で有効にはなっていなかったため、
	このインターフェースを有効にしてカーネルを再コンパイルする必要があるかもしれません
	(NetBSD 4.0 では、そうする必要はなくなっています)。</p>

<pre class="programlisting">
# ifconfig stf0 create		(1.5 より後でのみ必要)
# ifconfig stf0 inet6 2002:xxyy:zzuu:0000::1 prefixlen 16 alias
# route add -inet6 default 2002:c058:6301::	  (または、<a class="ulink" href="http://www.kfu.com/~nsayer/6to4/" target="_top">この一覧</a>にあるもののどれか)
</pre>

	</li>
<li class="listitem">

	<p>次に、お持ちのアドレスブロック 2002:xxyy:zzuu::/48 のなかから、
	二つのイーサネットセグメントのサブネットアドレスを割り当てる必要があります。
	2002:xxyy:zzuu:0000::/64 はトンネル用に使っているので、
	これはイーサネットインターフェース用には使えません。
	ここでは 2002:xxyy:zzuu:0001::/64 と 2002:xxyy:zzuu:0002::/64 を使うことにします。</p>

<pre class="programlisting">
  : 6to4 トンネル、2002:xxyy:zzuu:0000::/64
  :
myrouter A
  | IPv4 x.y.z.u
  |
==+=== ethernet 0: 2002:xxyy:zzuu:0001::/64
  |
myrouter B
  |
==+=== ethernet 1: 2002:xxyy:zzuu:0002::/64
</pre>

	</li>
<li class="listitem">

	<p>これで、<a class="ulink" href="#typical1" target="_top">前の項目</a>に戻って
	myrouter B、RIPng ルーティングと、ルーター広告の設定ができる状態になりました。</p>

	</li>
</ol></div>

	<p>以下もあわせて参照してください:
	</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><a class="ulink" href="http://www.feyrer.de/NetBSD/6to4.html" target="_top">6to4 Explained</a></li>
<li class="listitem">
<a class="ulink" href="http://www.6bone.net/6bone_6to4.html" target="_top">6to4 information</a> at www.6bone.net</li>
<li class="listitem">
<a class="ulink" href="http://www.onlamp.com/pub/a/onlamp/2001/06/01/ipv6_tutorial.html" target="_top">Getting Connected with 6to4</a> by Hubert Feyrer</li>
</ul></div>
<p>
	</p>

</div>
<div class="sect3" title="IPv6 クラウド上での DNS 名前解決">
<div class="titlepage"><div><div><h4 class="title">
<a name="resolve"></a> IPv6 クラウド上での DNS 名前解決</h4></div></div></div>


	<p> (IPv4 を含まない) 完全な IPv6環境に移行するには、 IPv6 をしゃべる
	ネームサーバーに接触する必要があります。
	これは簡単なことです: <a href="http://netbsd.gw.com/cgi-bin/man-cgi?resolv.conf+5+NetBSD-5.1+i386">resolv.conf(5)</a> に IPv6 アドレスを書けばよいだけです。
	IPv6 トランスポートに対応した DNS サーバーを走らせたければ 
	<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/bind9/README.html" target="_top"><code class="filename">net/bind9</code></a> をお試しください。
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?resolv.conf+5+NetBSD-5.1+i386">resolv.conf(5)</a> の設定例は以下のようになります:</p>

<pre class="programlisting">
    nameserver 2001:200:0:1::f
</pre>

	<p>上のアドレスで IPv6 に対応した DNS サーバーが走っているので、
	どうぞご自由にお試しください。</p>

</div>
<div class="sect3" title="FAITH TCP リレートランスレーターの利用">
<div class="titlepage"><div><div><h4 class="title">
<a name="faith_translate"></a> FAITH TCP リレートランスレーターの利用</h4></div></div></div>


	<p>IPv6 だけに対応したクライアント と IPv4 だけに対応したサーバーを直接つないだり、
	その逆はできません。
	これには、 <span class="emphasis"><em>"トランスレーター"</em></span> と呼ばれるデバイスが必要になります。</p>

	<p>NetBSD には、 IPv6 だけ (あるいは IPv4/v6) のクライアント が IPv6 TCP を使って
	IPv4 だけのサーバーに接触するのを可能にする
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?faithd+8+NetBSD-5.1+i386">faithd(8)</a> TCP リレートランスレーターが含まれています。
	<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/totd/README.html" target="_top"><code class="filename">net/totd</code></a> DNS proxy サーバーを利用すれば、
	以下のような IPv6-to-IPv4 トランスレーター環境の導入ができます:</p>

<pre class="programlisting">
+--IPv6 だけのクラウド ---------+
|                               |
|IPv6 だけの                <a href="http://netbsd.gw.com/cgi-bin/man-cgi?faithd+8+NetBSD-5.1+i386">faithd(8)</a>                   IPv4 だけの
|クライアント == IPv6 ===&gt; が走っている ----- IPv4 --&gt;  サーバー
|                tcp     トランスレーター     tcp
|                               |
+-------------------------------+
</pre>

	<p>実際の設定には、次のドキュメントを参照してください。</p>

	<p>以下もあわせて参照してください:
	</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><a class="ulink" href="http://www.ietf.org/html.charters/ngtrans-charter.html" target="_top">
		IETF ngtrans working group</a></li>
<li class="listitem">RFC3142: 
		"An IPv6-to-IPv4 transport relay translator",
		<a href="http://netbsd.gw.com/cgi-bin/man-cgi?faithd+8+NetBSD-5.1+i386">faithd(8)</a> がどのように機能するかを説明したインターネットドラフト
		(<a class="ulink" href="http://www5d.biglobe.ne.jp/~stssk/rfc3142j.html" target="_top">日本語訳</a>)</li>
<li class="listitem"><a href="http://cvsweb.NetBSD.org/bsdweb.cgi/src/usr.sbin/faithd/README?rev=HEAD&amp;content-type=text/x-cvsweb-markup">src/usr.sbin/faithd/README</a></li>
<li class="listitem"><a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/totd/README.html" target="_top"><code class="filename">net/totd</code></a></li>
</ul></div>
<p>
	</p>

</div>
<div class="sect3" title="IPv6 に IPv4-only ルーターあるいは NAT ルーターを跨がせる">
<div class="titlepage"><div><div><h4 class="title">
<a name="with_nat"></a> IPv6 に IPv4-only ルーターあるいは NAT ルーターを跨がせる</h4></div></div></div>


	<p>あなたの組織に IPv4 だけのルーターや IPv4 NAT ルーターがあるなどして、
	直接 IPv6 でのネットワークを組むことの障害になっているなら、
	次の方法でこれらの障害を乗り越えることができます。
	あなたのネットワーク構成に最適な方法を選んでください:</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">二つのイーサネットセグメントの間に、二つのルーターを置くことができます。
一つは IPv4 用、もう一つは IPv6 用です。
	IPv6 専用ルーターを二つのセグメントの間に置くことにより、
	IPv6 のルーティングだけをさせられます。
	この方法なら、 IPv4 ネットワークには触らないままにしておくことができます。
<pre class="programlisting">
外部へのルーター
  |
==+=======================+=== IPv4/v6 サブネット A
  |                       |
IPv4 専用ルーター         IPv6 専用ルーター
  | (IPv4 だけを          | (IPv6 だけを
  |  転送)                |  転送)
==+=======================+=== IPv4/v6 サブネット B
</pre>

	</li>
<li class="listitem">IPv4 での プライベート/グローバル アドレスの使い方は、
IPv6 ネットワークには全く影響しません。
	あなたのネットワークの管理ポリシーで認められていれば、
	IPv4 ネットワークが NAT 箱/ファイヤーウォールによって
	グローバルアドレスセグメントとプライベートアドレスセグメントにわけられていても、
	それとは関係なく、グローバル IPv6 到達性を持たせるように設定できます。
<pre class="programlisting">
外部へのルーター
  |
==+=======================+=== サブネット A: IPv4 グローバル、 IPv6 グローバル
  |                       |
IPv4 専用 NAT ルーター  IPv6 専用ルーター
  |                       |
==+=======================+=== サブネット B: IPv4 プライベート、 IPv6 グローバル
</pre>

	</li>
<li class="listitem">いくつかの場合、通常の IPv4 ルーターを使ったセグメント間を跨いで
IPv6 トラフィックをブリッジすることができます。
	IPv4 ルーターを、イーサネットプロトコルタイプ 0x86dd
	をブリッジさせるように設定できるなら、 IPv6 トラフィックだけをブリッジできます。
	この場合、 サブネット割り当ては IPv4 と IPv6 で異なることになります
	- もし、やりすぎると頭痛の種になるかもしれません……。
<pre class="programlisting">
外部へのルーター
  |
==+======== ether セグメント 1: IPv4 サブネット A、 IPv6 サブネット X
  |
IPv4 専用ルーター (ether type 0x86dd をブリッジ)
  |
==+======== ether セグメント 2: IPv4 サブネット B、 IPv6 サブネット X (同上)
</pre>

	</li>
<li class="listitem">あなたの組織から相手までに IPv4 到達性があれば、
IPv6-over-IPv4 トンネルを両者の
IPv4 だけのネットワークの間をまたぐのに使えます。
<pre class="programlisting">
        +--- IPv4 だけのクラウド----------------+
        |                                       |
  +&lt;================ IPv6-over-IPv4 トンネル ============&gt;+
  |     |                                       |         |
  |     +---------------------------------------+         |
  |                                                       |
IPv4/v6 ルーター                                        IPv4/v6 ルーター
  |                                                       |
==+======= IPv4/v6 セグメント 1                         ==+======= IPv4/v6 セグメント 2
</pre>

	</li>
</ul></div>

</div>
<div class="sect3" title="Twists">
<div class="titlepage"><div><div><h4 class="title">
<a name="twists"></a> Twists</h4></div></div></div>


	<p>IPv6 はまだ幼年期にあるので、
	いくつかの非標準なものや仕様の穴があります。
	KAME IPv6 実装はそれらに取り組んでいます。</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">

	<p>IPv6 の仕様では、「スコープ付きの (scoped) 」アドレス、すなわち、
	世界規模で一意ではないアドレスを規定しています。
	スコープ付きアドレスを明確にするために、
	アドレスのスコープを明示的に定義する必要があります。
	たとえば、仕様では "リンクローカルアドレス" を規定していますが、
	これは単一のリンク上だけでユニークです。
	アドレスを明確にするために、リンクローカルアドレスには、
	どの「リンク」のものかを明示する必要があります。</p>

	<p>KAME の IPv6 コードでは、カーネル内部構造中で
	スコープ付きアドレスの 3 バイト目と 4 バイト目にスコープ識別子を組み込んでいます。
	このため、時々 "fe80:1::abcd:1234:abcd:1234"
	のような内部形式を見かけると思います。これは
	"fe80:0000:0000:0000:abcd:1234:abcd:1234 on scope 1" を意味します。
	このような内部形式での指定は可能な限りしないでください。</p>

	<p>スコープ付きアドレスを明確にするには、以下の二つの方法があります:</p>

      <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ping6+8+NetBSD-5.1+i386">ping6(8)</a> に対する -I オプションのような、特別なコマンドラインオプションを使います。</li>
<li class="listitem">アドレス指定に、 <code class="code">fe80::1%de0</code> のような、
	  拡張されたスコープ付きアドレスの記法を使います。
	  この記法は、いくつかの限られたアプリケーションのみで使えることに注意してください
	  (<a href="http://netbsd.gw.com/cgi-bin/man-cgi?getaddrinfo+3+NetBSD-5.1+i386">getaddrinfo(3)</a> を使うアプリケーションがこの記法を扱えます)。</li>
</ul></div>
</li>
<li class="listitem">ローカルネットワークで何らかの実験を行う時は、
      サイトローカルユニキャストアドレスを使わないでください。
      仕様書の書き方は、曖昧すぎます。
      隔離された (外部につながっていない) ネットワークを動かしたい場合は、
      ユニークローカルアドレスを使うのがよいでしょう。
      ユニークローカルアドレスは RFC2893 で仕様が定められています。</li>
<li class="listitem">その他、実装についての詳細は、
	<a class="ulink" href="http://orange.kame.net/dev/cvsweb.cgi/kame/IMPLEMENTATION" target="_top">
	KAME implementation document</a> にあります。</li>
</ul></div>

	<p>仕様に関する事柄ではありませんが、挙げておく価値のある事柄がいくつかあります:</p>

	<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">すべてのツールで IPv6 通信の準備ができているわけではありません。
      <a href="http://netbsd.gw.com/cgi-bin/man-cgi?yp+8+NetBSD-5.1+i386">yp(8)</a> では、データベース中に IPv6 アドレスを入れることはできますが、
      IPv6 通信には対応していません
      (IPv6 クラウド上では名前解決ができません)。</li>
<li class="listitem">pkgsrc ディレクトリーのいくつかのものは、 <code class="code">USE_INET6</code>
      で IPv4/v6 両対応のものの構築と IPv4 だけに対応したものの構築を切り替えます。
      <code class="code">USE_INET6</code> を定義しておけば、自動的に、
      IPv6 の準備のできている NetBSD システム向けのものになります。</li>
<li class="listitem">この実装は自動トンネル (RFC2893) にも 6over4 (RFC2529)
      にも対応していません。これらの標準は、広く使われてはおらず、
      IPv6 コミュニティーでは廃れたものと考えられているからです。</li>
<li class="listitem">
<code class="code">AF_INET6</code> ワイルドカードリスニングソケットは、必要な設定をした場合に限って
      IPv4 コネクションを捕捉します (このふるまいは RFC2553 に記述されています)。
      これは、仕様上のセキュリティーホールを塞ぐためです。
      詳しくは <a href="http://netbsd.gw.com/cgi-bin/man-cgi?inet6+4+NetBSD-5.1+i386">inet6(4)</a> および <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ip6+4+NetBSD-5.1+i386">ip6(4)</a> をご覧ください。</li>
<li class="listitem">IPv6 は、ネットワークインターフェースにマルチキャストへの対応を要求します。
	ドライバーのマルチキャストへの対応に何らかの問題がある場合
	(対応していない、マルチキャストフィルター設定にバグがある、など)、
	IPv6 は全く動きません。
	この種の問題がありましたら、
	<a class="ulink" href="../../../support/send-pr.html" target="_top">バグ報告をしていただく</a>ようお願いします。</li>
<li class="listitem">NetBSD には getipnodebyname(3) と getipnodebyaddr(3) がありません。
	これらは、 IPv6 の基本的な API 仕様で事実上非推奨であるからです。
	これらはまた、スコープ付きの形式の IPv6 アドレスに対応していません。
	これらの代わりに、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?getaddrinfo+3+NetBSD-5.1+i386">getaddrinfo(3)</a> と <a href="http://netbsd.gw.com/cgi-bin/man-cgi?getnameinfo+3+NetBSD-5.1+i386">getnameinfo(3)</a> を使ってください。</li>
</ul></div>

</div>
<div class="sect3" title="質問をする場所">
<div class="titlepage"><div><div><h4 class="title">
<a name="questions"></a> 質問をする場所</h4></div></div></div>


	<p>何か疑問がありましたら、
	ためらわずに tech-net メーリングリストや
	<a class="ulink" href="http://www.ipv6.org/" target="_top">users@ipv6.org</a> へ質問してください。
	ネットワーク設定について質問する場合は、「かならず」あなたのサイトの
	ネットワーク構成図をつけてください。
	ネットワーク構成図がなければ、誰もあなたのネットワーク設定を推測できません。</p>

</div>
<div class="sect3" title="管理">
<div class="titlepage"><div><div><h4 class="title">
<a name="maintenance"></a> 管理</h4></div></div></div>


<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">監視に便利なツール
      <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a> - ネットワークインターフェースのパラメーターを設定したり調べたりする</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?route+8+NetBSD-5.1+i386">route(8)</a> - 経路表を操作する</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ping6+8+NetBSD-5.1+i386">ping6(8)</a> - ICMPv6 ECHO_REQUESTパケットをネットワーク上のノードに向けて送る</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?traceroute6+8+NetBSD-5.1+i386">traceroute6(8)</a> - パケットがノードに到着するまでの経路を表示</li>
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/tcpdump/README.html" target="_top"><code class="filename">net/tcpdump</code></a> - ネットワークインターフェース上のトラフィックを選択して表示</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?netstat+1+NetBSD-5.1+i386">netstat(1)</a> - ネットワーク状態の表示</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ndp+8+NetBSD-5.1+i386">ndp(8)</a> - <a href="http://netbsd.gw.com/cgi-bin/man-cgi?arp+8+NetBSD-5.1+i386">arp(8)</a> の IPv6 版</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifmcstat+8+NetBSD-5.1+i386">ifmcstat(8)</a> - カーネルのマルチキャストグループ設定の確認</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?systat+1+NetBSD-5.1+i386">systat(1)</a> 'systat netstat' - ネットワーク接続を動的に表示</li>
</ul></div>
</li>
<li class="listitem">IPv6 自動設定
      <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtadvd+8+NetBSD-5.1+i386">rtadvd(8)</a> - ルーターから router advertisement の発信</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsold+8+NetBSD-5.1+i386">rtsold(8)</a> - ホストに使い、定期的に router solicitation を送信</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rtsol+8+NetBSD-5.1+i386">rtsol(8)</a> - ホストに使い、単一の router solicitation を送信</li>
</ul></div>
</li>
<li class="listitem">ルーティングデーモン
      <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?route6d+8+NetBSD-5.1+i386">route6d(8)</a> - <a href="http://netbsd.gw.com/cgi-bin/man-cgi?routed+8+NetBSD-5.1+i386">routed(8)</a> のような RIPng ルーティングデーモン</li>
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/pim6dd/README.html" target="_top"><code class="filename">net/pim6dd</code></a> - PIMv6 dense mode マルチキャストルーティングデーモン</li>
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/pim6sd/README.html" target="_top"><code class="filename">net/pim6sd</code></a> - PIMv6 sparse mode マルチキャストルーティングデーモン</li>
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/net/zebra/README.html" target="_top"><code class="filename">net/zebra</code></a> - zebra ルーティングデーモン、 RIPng, BGP4+ および OSPFv6 に対応</li>
</ul></div>
</li>
<li class="listitem">IPv6 関連の疑似インターフェース
      <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?faith+4+NetBSD-5.1+i386">faith(4)</a> - IPv6-to-IPv4 TCP リレー捕捉インターフェース、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?faithd+8+NetBSD-5.1+i386">faithd(8)</a> を補助</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?gif+4+NetBSD-5.1+i386">gif(4)</a> - IPv[46] over IPv[46] をおこなう汎用トンネルインターフェース</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a> - "tunnel" サブコマンドによる <a href="http://netbsd.gw.com/cgi-bin/man-cgi?gif+4+NetBSD-5.1+i386">gif(4)</a> 設定</li>
<li class="listitem">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?stf+4+NetBSD-5.1+i386">stf(4)</a> - 6to4 トンネルインターフェース (RFC3056)</li>
</ul></div>
      </li>
</ul></div>

	<p>以下もあわせて参照してください:
	</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="ulink" href="http://www.kame.net/" target="_top">かめプロジェクト</a></li></ul></div>
<p>
	</p>

</div>
<div class="sect3" title="ユーザーアプリケーション">
<div class="titlepage"><div><div><h4 class="title">
<a name="userland"></a> ユーザーアプリケーション</h4></div></div></div>


<p>
基本システムにある次のプログラムでは IPv6 が利用できます:
<code class="code">
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?dig+1+NetBSD-5.1+i386">dig(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?finger+1+NetBSD-5.1+i386">finger(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?fstat+1+NetBSD-5.1+i386">fstat(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ftp+1+NetBSD-5.1+i386">ftp(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?host+1+NetBSD-5.1+i386">host(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?netstat+1+NetBSD-5.1+i386">netstat(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rlogin+1+NetBSD-5.1+i386">rlogin(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rsh+1+NetBSD-5.1+i386">rsh(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?systat+1+NetBSD-5.1+i386">systat(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?telnet+1+NetBSD-5.1+i386">telnet(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?tftp+1+NetBSD-5.1+i386">tftp(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?whois+1+NetBSD-5.1+i386">whois(1)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?faithd+8+NetBSD-5.1+i386">faithd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?fingerd+8+NetBSD-5.1+i386">fingerd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ftpd+8+NetBSD-5.1+i386">ftpd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?inetd+8+NetBSD-5.1+i386">inetd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?lpd+8+NetBSD-5.1+i386">lpd(8)</a> (と関連プログラム),
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?mld6query+8+NetBSD-5.1+i386">mld6query(8)</a>,

<a href="http://netbsd.gw.com/cgi-bin/man-cgi?named+8+NetBSD-5.1+i386">named(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ndp+8+NetBSD-5.1+i386">ndp(8)</a>,


<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ping6+8+NetBSD-5.1+i386">ping6(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?pppd+8+NetBSD-5.1+i386">pppd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rdate+8+NetBSD-5.1+i386">rdate(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rip6query+8+NetBSD-5.1+i386">rip6query(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rlogind+8+NetBSD-5.1+i386">rlogind(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?route6d+8+NetBSD-5.1+i386">route6d(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?rshd+8+NetBSD-5.1+i386">rshd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?sendmail+8+NetBSD-5.1+i386">sendmail(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?syslogd+8+NetBSD-5.1+i386">syslogd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?tcpdchk+8+NetBSD-5.1+i386">tcpdchk(8)</a> (と関連プログラム),
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?telnetd+8+NetBSD-5.1+i386">telnetd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?tftpd+8+NetBSD-5.1+i386">tftpd(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?traceroute6+8+NetBSD-5.1+i386">traceroute6(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?trpt+8+NetBSD-5.1+i386">trpt(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?X+7+NetBSD-5.1+i386">X(7)</a> (X サーバーとライブラリー)
</code>.
</p>

<p>RPC と NFS も IPv6 に対応しました。</p>

<p>また、 IPv6 に対応した
<a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README-IPv6.html" target="_top">パッケージ</a>も、ますます多くなっています。</p>

	<p>IPv6対応した外部のソフトウェアを利用したい場合、
	多くの場合IPv6パッチを入手しないといけません。
	ネットワークのいろんな場所にIPv6パッチがおかれています。</p>

	<p>以下もあわせて参照してください:
	</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><a class="ulink" href="ftp://ftp.kame.net/pub/kame/misc/" target="_top">ftp://ftp.kame.net/pub/kame/misc/</a></li>
<li class="listitem"><a class="ulink" href="http://www.ipv6.org/" target="_top">ipv6.org</a></li>
</ul></div>
<p>
	</p>

</div>

<p>この <a class="ulink" href="http://www.ipv6.euronet.be/webring/" target="_top">IPv6
Configuration Help</a> サイトは <a class="ulink" href="/ja/" target="_top">The NetBSD
Project</a> が所有しています。</p>

<p>
[
<a class="ulink" href="http://go.webring.yahoo.com/go?ring=ipv6&amp;id=3&amp;prev" target="_top">戻る</a> |
<a class="ulink" href="http://go.webring.yahoo.com/go?ring=ipv6&amp;id=3&amp;next" target="_top">進む</a> |
<a class="ulink" href="http://go.webring.yahoo.com/go?ring=ipv6&amp;id=3&amp;random" target="_top">ランダム</a> |
<a class="ulink" href="http://nav.webring.yahoo.com/hub?ring=ipv6&amp;list" target="_top">サイト一覧</a>
]
</p>

</div>
</div>
</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
