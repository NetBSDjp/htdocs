<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<!-- Copyright (c) 1998-2004
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@jp.NetBSD.org">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<title>Diskless NetBSD HOW-TO, ローカルブートローダー</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<a href="intro.html">戻る</a> |
<a href="rarp.html">進む</a> |
<a href="./">目次</a>

<hr>

<h1>Diskless NetBSD HOW-TO, ローカルブートローダー</h1>

<h3>ローカルブートローダー</h3>

このブート方法は、抜群に柔軟で応用のきく方法です。これはなによりです。
欠点は、何らかのブート可能なメディア (ハードディスクドライブ、Zip ドライブ、
フロッピードライブ、またはテープドライブ) がローカルで必要なことです。
どんなブート可能なメディアが使えるかは、プラットフォームによって異なります。
<p>

ブートローダーだけをインストールしておき、カーネルはディスクレスサーバーから取得する方法
(ローカルメディアにカーネルを置くだけの容量がない場合) と、
ブートローダーとカーネルを両方ローカルメディアに置く方法の、どちらも可能です。
<p>

<ul>
<li><big><b>ブートローダーだけをローカルに置く場合:</b></big>
<p>

注意: この方法は、マシンをリセットまたは電源再投入した後、
最初にブートする際に、前回と同じメディアからブートする
(ブートローダーのデフォルトの挙動) ことがないようにするため、ユーザーの操作が必要です。
以下の例は hp300 のものですが、プラットフォームによっては挙動が異なるでしょう。
<p>

<ol>
<li>ブートブロックをローカルデバイス (ハードディスクドライブ、フロッピードライブ、
   またはテープドライブ) にインストールします
<p>

<li>ブートローダーのロードが完了したところで、以下のコマンドを打ちます
<pre>&gt;&gt; NetBSD/hp300 Primary Boot, Revision 1.9
&gt;&gt; (scottr@polka, Fri Mar 13 18:11:29 CST 1998)
&gt;&gt; HP 9000/340 SPU
&gt;&gt; Enter "reset" to reset system.
Boot: [[[rd0a:]netbsd][-s][-a][-d]] :- <b>le0a:/netbsd [-s]</b></pre>

ここで <tt>le0</tt> は、ブートに使用するイーサネットカードの NetBSD でのデバイス名です。
</ol>
<p>

これで、ブートローダーは序説で概説した手順を踏むようになります。
ブートローダーが rarp&amp;bootparams を使うか bootp|dhcp&amp;tftp
を使うかは、プラットフォームにより異なります。これについては、
<a href="intro.html#platdaemon">プラットフォームとデーモンの対応一覧表</a>
に載っています。
<p>

<a href="rarp.html"><tt>rarp</tt></a> の設定に進む<br>
<a href="bootpd.html"><tt>bootpd</tt></a> の設定に進む<br>
<a href="dhcpd.html"><tt>dhcpd</tt></a> の設定に進む
<p>

<li><big><b>ブートローダーとカーネルをローカルメディアに置く場合:</b></big>
<p>

<ol>
<li>ブートブロックとファイルシステムをローカルメディアにインストールします
<li>常にディスクレスルートを使うようにした
<a href="../../kernel/#how_to_build_a_kernel">カーネルを作ります</a>:<br>
<pre>config root on (network-device, e.g. ln0) swap on (etc.)</pre>
<li>このカーネルをローカルメディアに置きます
</ol>
<p>

<a href="bootpd.html"><tt>bootpd</tt></a> の設定に進む<br>
<a href="dhcpd.html"><tt>dhcpd</tt></a> の設定に進む
</ul>
<p>

<hr>

<a href="intro.html">戻る</a> |
<a href="rarp.html">進む</a> |
<a href="./">目次</a>

<hr> 

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../../"><img
        src="../../../../images/NetBSD-flag.png" border="0"
        width="90" height="90" alt=""></a> 
  </td><td>
    <a href="../../../"><img
        src="../../../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></table>
</td><td>
  <table><tr><td> 
    <a href="../../../docs/"><img
        src="../../../../images/NetBSD-flag.png" border="0"
        width="90" height="90" alt=""></a>
  </td><td>
    <a href="../../../docs/"><img
        src="../../../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">Documentation top level</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@jp.NetBSD.org">日本語:
       www@jp.NetBSD.org</a>)<br>
  $NetBSD: local.html,v 1.3 2007/08/01 15:36:02 kano Exp $<br>
  <!-- Based on english version: -->
  <!-- NetBSD: local.html,v 1.3 2007/08/01 15:36:02 kano Exp   -->
  <a href="../../../about/disclaimer.html">Copyright &copy; 1998-2004
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
