<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/docs/kernel/." title="NetBSD ドキュメンテーション: カーネル">
<link rel="previous" href="../../../ja/docs/kernel/programming.html" title="NetBSD ドキュメンテーション: カーネルプログラミング FAQ">
<link rel="next" href="../../../ja/docs/kernel/vfork.html" title="NetBSD ドキュメンテーション: なぜ伝統的な vfork()を実装したのか">
<link rel="first" href="../../../ja/docs/kernel/lazyfpu.html" title="NetBSD ドキュメンテーション: どのように lazy FPU コンテキストスイッチは動作するのか">
<link rel="last" href="../../../ja/docs/kernel/elf-notes.html" title="NetBSD ドキュメンテーション: ベンダー特有の ELF 記号要素(Note Elements)">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD ドキュメンテーション: UVM、新しい仮想メモリーシステム</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-docs-kernel-uvm"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch"><form method="get" action="http://www.google.com/custom">
<input class="whiteOnBlack" type="text" name="q" onfocus="if(this.value==this.defaultValue ) this.value='';" size="12" maxlength="255" value="Search"><input type="hidden" name="cof" value="L:http://www.NetBSD.org/images/NetBSD-smaller.png;LH:200;LW:200;AH:center;AWFID:4f6b0499f0f58d2c;"><input type="hidden" name="domains" value="NetBSD.org"><input type="hidden" name="sitesearch" value="www.NetBSD.org"><input type="submit" value="検索">
</form></div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD ドキュメンテーション: UVM、新しい仮想メモリーシステム</h1>
<div class="sect1">
<div class="titlepage"></div>
<div class="sect2" title="関連する他のリンク">
<div class="titlepage"><div><div><h3 class="title">
<a name="other-links"></a>関連する他のリンク</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<a class="ulink" href="vfork.html" target="_top">なぜ伝統的な vfork() を実装したのか</a>
</li>
<li class="listitem">Charles D. Cranor の論文、<span class="quote">“<span class="quote">UVM の設計と実装</span>”</span>
(270 ページ、<a class="ulink" href="http://chuck.cranor.org/p/diss.ps.gz" target="_top">gzip された PostScript</a>,
<a class="ulink" href="http://chuck.cranor.org/p/diss.pdf" target="_top">pdf</a>)
</li>
<li class="listitem">
<a class="ulink" href="http://www.usenix.org/events/usenix99/full_papers/cranor/" target="_top">UVM 仮想メモリーシステム</a>
- Charles D. Cranor と Gurudatta M. Parulkar の論文
</li>
</ul></div>
</div>
</div>
<h3 class="title"><a name="uvm-faq">UVM FAQ</a></h3>
<ul>
<li><a href="#what-is-uvm">UVMとは何ですか?</a></li>
<li><a href="#who-wrote-uvm">誰がUVMを書いたのですか?</a></li>
<li><a href="#uvm-out-of-memory">UVM はメモリー不足をどのようにあつかうか?</a></li>
<li><a href="#which-ports-use-uvm">どのポートが UVM を使っているのですか?</a></li>
<li><a href="#for-what-does-the-u-stand">UVM の U って何ですか?</a></li>
<li><a href="#vm-how-big">私のマシンの仮想メモリーのサイズはいくらですか?</a></li>
<li><a href="#what-is-top-down">``top down'' メモリー割り当てって何ですか?</a></li>
<li><a href="#which-ports-use-top-down">どのポートが ``top down'' メモリー割り当てを使っているのですか?</a></li>
</ul>
<hr>
<h3 class="title">UVM FAQ</h3>
<h4 class="title">
<a name="what-is-uvm"></a>UVMとは何ですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
<span class="bold"><strong>UVM</strong></span> は NetBSD の仮想メモリーシステムの完全な書き換えで、 
その性能はMach VM システムよりも遥かに優れていることが実証されました。
<span class="bold"><strong>UVM</strong></span> はまたページ貸付けのような進んだ機能を提供し、これは
NetBSD のための統合化バッファー・ページキャッシュの開発に用いられています。
</p>

<h4 class="title">
<a name="who-wrote-uvm"></a>誰がUVMを書いたのですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
Chuck Cranor が <span class="bold"><strong> UVM </strong></span> を設計して実装しました。
Matthew Green は統合化作業を担当し、swap サブシステムを書きました。
Chuck Silvers は匿名メモリーオブジェクトページャー(これにより共有メモリー
がサポートされます)を書きました。他にもたくさんの開発者がそれぞれのポート
に関わる部分を書き直しました。 Andrew Brown は <span class="bold"><strong>UVM</strong></span> に変更を加え、
<span class="bold"><strong><a class="ulink" href="#what-is-top-down" target="_top">top down</a></strong></span>メモリー管理を
可能にしました。
</p>

<h4 class="title">
<a name="uvm-out-of-memory"></a>UVM はメモリー不足をどのようにあつかうか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
UVM は、遅延割り当て(lazy allocation)をおこないます。この事は、プログラム
が仮想メモリーの過剰割り当てが可能である事を意味します。UVM が、完全に
VM が不足している状況と、遅延割り当てされたメモリーの断片へのアクセスを
検知した時、そのプロセスは kill され、システムはそのまま動作し続けます。
ページングシステムで使用するために予約されたわずかなバッファーが存在します。
これにより、フリーメモリーが存在しない時に pagedaemon が動作することが
できます。Chuck Silvers が、これに関するほとんどの作業をおこないました。
</p>

<h4 class="title">
<a name="which-ports-use-uvm"></a>どのポートが UVM を使っているのですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
<span class="bold"><strong> UVM </strong></span> は 1.3.X のディストリビューションでは使えませんが、 
1.4 以降では全てのポートで使われるようになります。
</p>

<h4 class="title">
<a name="for-what-does-the-u-stand"></a>UVM の U って何ですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
<span class="bold"><strong>UVM</strong></span>は Chuck Cranor が作業していた "U" の文字
("universal" でした)で始まる別のプロジェクトの一部分でした。
しかし、そのプロジェクトはただの UVM に生まれ変わりました。
ですから、"U"はもはや他の何かを意味するものではありません: "UVM"とは
単に"vm"とは異なった(しかしよく似た)名前です。
</p>

<h4 class="title">
<a name="vm-how-big"></a>私のマシンの仮想メモリーのサイズはいくらですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
UVM では、仮想メモリーのサイズは、物理メモリー(カーネルのオーバーヘッド
をひいた)とすべてのスワップパーティションの合計と等しくなります。つまり、
物理メモリーはページングデバイスによる裏打ちを持つ必要はありません。
</p>

<h4 class="title">
<a name="what-is-top-down"></a>``top down'' メモリー割り当てって何ですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
これは、特にアドレスを指定しない <a href="http://netbsd.gw.com/cgi-bin/man-cgi?mmap+2+NetBSD-5.1+i386">mmap(2)</a> されたメモリー割り当てを、
中間から上方にではなく、スタック直下から割り当て始め、<span class="bold"><strong>下方へ向かって
(top down)</strong></span> 割り当ててゆくように再編するものです。
こうすることで、ヒープの成長分用に確保される領域と、
mmap(2) されたメモリー割り当て用に確保される領域が統合されます。
つまり、ヒープが従来より大きく成長するか、または、プロセスが従来より多数
もしくは大きなオブジェクトを mmap することが可能になったということです。
カーネルは依然として、内部のメモリー割り当てに、従来の ``bottom up''
な仕組みを使うことができます。
</p>

<h4 class="title">
<a name="which-ports-use-top-down"></a>どのポートが ``top down'' メモリー割り当てを使っているのですか? (<a href="#uvm-faq">top</a>)
  </h4>
<p>
<span class="bold"><strong>top down</strong></span> メモリー割り当ての仕組みは、現在、
<span class="bold"><strong><a class="ulink" href="../../ports/i386/" target="_top">i386</a></strong></span> ポートと
PowerPC のポート群でカーネルオプションとして提供されています: 
<span class="bold"><strong><a class="ulink" href="../../ports/bebox/" target="_top">bebox</a></strong></span>、
<span class="bold"><strong><a class="ulink" href="../../ports/macppc/" target="_top">macppc</a></strong></span>、
<span class="bold"><strong><a class="ulink" href="../../ports/mvmeppc/" target="_top">mvmeppc</a></strong></span>、
<span class="bold"><strong><a class="ulink" href="../../ports/ofppc/" target="_top">ofppc</a></strong></span>、
<span class="bold"><strong><a class="ulink" href="../../ports/pmppc/" target="_top">pmppc</a></strong></span>、
<span class="bold"><strong><a class="ulink" href="../../ports/prep/" target="_top">prep</a></strong></span> と
<span class="bold"><strong><a class="ulink" href="../../ports/sandpoint/" target="_top">sandpoint</a></strong></span> です。
いずれ、ほとんどのポートは、無条件に <span class="bold"><strong>top down</strong></span> を使うよう
移行することになるものと思われます。
さらなる情報は、
<span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?options+4+NetBSD-5.1+i386">options(4)</a></strong></span>
マニュアルページを参照してください。
</p>
</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2011 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
