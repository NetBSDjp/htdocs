<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../../ja/docs/kernel/." title="NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12459;&#12540;&#12493;&#12523;">
<link rel="previous" href="../../../../ja/docs/kernel/kgdb.html" title="NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: GDB &#12434;&#20351;&#12356; NetBSD &#12459;&#12540;&#12493;&#12523;&#12434;&#12487;&#12496;&#12483;&#12464;&#12377;&#12427; HOWTO">
<link rel="next" href="../../../../ja/docs/kernel/pseudo/." title="NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#25836;&#20284;&#12487;&#12496;&#12452;&#12473;&#12398;&#26360;&#12365;&#26041;">
<link rel="first" href="../../../../ja/docs/kernel/lazyfpu.html" title="NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12393;&#12398;&#12424;&#12358;&#12395; lazy FPU &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12473;&#12452;&#12483;&#12481;&#12399;&#21205;&#20316;&#12377;&#12427;&#12398;&#12363;">
<link rel="last" href="../../../../ja/docs/kernel/elf-notes.html" title="NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12505;&#12531;&#12480;&#12540;&#29305;&#26377;&#12398; ELF &#35352;&#21495;&#35201;&#32032;(Note Elements)">
<link rel="stylesheet" href="../../../../global.css" type="text/css">

    

    <title>NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464; HOWTO</title>
  </head>
<body class="website"><div class="webpage">
<a name="ja-docs-kernel-profiling-index"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">Skip to main content.</a></div>
<div id="centralHeader">
<div id="logo">
<a href="../../../../"><img alt="[NetBSD Logo]" src="../../../../images/NetBSD-smaller.png"></a><div id="name"><a href="../../../../">
	  The NetBSD Project
	</a></div>
<div id="slogan"><a href="../../../../">
	  &#8220;Of course it runs NetBSD&#8221;
	</a></div>
</div>
<div id="headerTools">
<div id="header-cse-search-form">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
		  google.load('search', '1', {language : 'ja'});
		  google.setOnLoadCallback(function() {
		    var header_customSearchControl = new google.search.CustomSearchControl('016685087845965994609:5539h4dkepg');
		    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
		    var header_options = new google.search.DrawOptions();
		    header_options.enableSearchboxOnly("http://google.com/cse?cx=016685087845965994609:5539h4dkepg");    
		    header_customSearchControl.draw('header-cse-search-form', header_options);
		  }, true);
		</script>
</div>
</div>
<div id="navBar" role="navigation">
<span class="doNotDisplay">
	  &#26696;&#20869;:
	</span><ul>
<li><a href="../../../../ja/">
	  &#12507;&#12540;&#12512;</a></li>
<li>
<a href="../../../../ja/">
	  &#12491;&#12517;&#12540;&#12473;&#12392;&#12513;&#12487;&#12451;&#12450;</a><ul>
<li><a href="../../../../ja/changes/">
	    &#26368;&#36817;&#12398;&#22793;&#26356;</a></li>
<li><a href="http://blog.NetBSD.org/">
	    NetBSD&#12502;&#12525;&#12464;</a></li>
<li><a href="../../../../ja/gallery/events.html">
	    &#12452;&#12505;&#12531;&#12488;</a></li>
<li><a href="../../../../ja/changes/rss.html">
	    &#12501;&#12451;&#12540;&#12489;</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/about/">
	  &#27010;&#35201;</a><ul>
<li><a href="../../../../ja/about/">
	    NetBSD</a></li>
<li><a href="../../../../ja/foundation/">
	    The NetBSD Foundation</a></li>
<li><a href="../../../../ja/gallery/">
	    &#25512;&#34214;</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/docs/">
	  &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;</a><ul>
<li><a href="../../../../ja/docs/misc/index.html">
	    FAQ&#12392;HOWTO</a></li>
<li><a href="../../../../ja/docs/guide/en/">
	    &#12460;&#12452;&#12489;</a></li>
<li><a href="http://man.NetBSD.org/">
	    &#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;</a></li>
<li><a href="http://wiki.NetBSD.org/">
	    Wiki</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/support/">
	  &#12469;&#12509;&#12540;&#12488;</a><ul>
<li><a href="../../../../ja/support/send-pr.html">
	    &#21839;&#38988;&#22577;&#21578;&#12460;&#12452;&#12489;</a></li>
<li><a href="../../../../cgi-bin/sendpr.cgi?gndb=netbsd">
	    &#12496;&#12464;&#12398;&#22577;&#21578;</a></li>
<li><a href="../../../../ja/support/query-pr.html">
	    &#12496;&#12464;&#12398;&#29031;&#20250;</a></li>
<li><a href="../../../../ja/support/security/">
	    &#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12540;</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/community/">
	  &#12467;&#12511;&#12517;&#12491;&#12486;&#12451;&#12540;</a><ul>
<li><a href="http://onetbsd.org/">
	    &#12502;&#12525;&#12464;</a></li>
<li><a href="../../../../ja/mailinglists/">
	    &#12513;&#12540;&#12522;&#12531;&#12464;&#12522;&#12473;&#12488;</a></li>
<li><a href="http://mail-index.NetBSD.org/">
	    &#12513;&#12540;&#12522;&#12531;&#12464;&#12522;&#12473;&#12488;&#12450;&#12540;&#12459;&#12452;&#12502;</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/developers/">
	  &#38283;&#30330;&#32773;</a><ul>
<li><a href="http://cvsweb.NetBSD.org/">
	    &#12477;&#12540;&#12473;&#12434;&#38322;&#35239;</a></li>
<li><a href="http://nxr.NetBSD.org/">
	    &#12463;&#12525;&#12473;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;</a></li>
<li><a href="http://releng.NetBSD.org/">
	    &#12522;&#12522;&#12540;&#12473;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;</a></li>
<li><a href="http://wiki.NetBSD.org/projects/">
	    &#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12522;&#12473;&#12488;</a></li>
</ul>
</li>
<li>
<a href="../../../../ja/ports/">
	  &#27231;&#31278;</a><ul>
<li><a href="../../../../ja/ports/history.html">
	    &#27508;&#21490;</a></li>
<li><a href="../../../../ja/ports/emulators.html">
	    &#12456;&#12511;&#12517;&#12524;&#12540;&#12479;&#12540;</a></li>
</ul>
</li>
<li>
<a href="http://www.pkgsrc.org/">
	  &#12497;&#12483;&#12465;&#12540;&#12472;</a><ul>
<li><a href="http://www.pkgsrc.se/">
	    &#12497;&#12483;&#12465;&#12540;&#12472;&#12434;&#38322;&#35239;</a></li>
<li><a href="http://releng.NetBSD.org/index-pkgsrc.html">
	    &#12522;&#12522;&#12540;&#12473;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;</a></li>
</ul>
</li>
</ul>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464; HOWTO</h1>
<p>&#12371;&#12398;&#25991;&#31456;&#12395;&#12399;&#12393;&#12398;&#12424;&#12358;&#12395;&#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12364;&#21205;&#20316;&#12375;&#12289;
    &#12393;&#12358;&#20351;&#12358;&#12398;&#12363;&#12364;&#26360;&#12363;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12399; Matthias Drochner
    <code class="email">&lt;<a class="email" href="mailto:drochner@zel459.zel.kfa-juelich.de">drochner@zel459.zel.kfa-juelich.de</a>&gt;</code> &#12398;&#31558;&#12395;&#12424;&#12426;&#12414;&#12377;&#12290;</p>
<h3 class="title"><a name="kern-prof">&#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;</a></h3>
<ul>
<li><a href="#how-does-it-work">&#12393;&#12398;&#12424;&#12358;&#12395;&#21205;&#20316;&#12377;&#12427;&#12398;&#12363;</a></li>
<li><a href="#call-graph-recording">&#21628;&#12403;&#20986;&#12375;&#12464;&#12521;&#12501;&#12398;&#35352;&#37682;</a></li>
<li><a href="#statistical-profiling">&#32113;&#35336;&#30340;&#12394;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;</a></li>
<li><a href="#how-to-use-it">&#20351;&#12356;&#26041;</a></li>
</ul>
<hr>
<h3 class="title">&#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;</h3>
      <h4 class="title">
<a name="how-does-it-work"></a>&#12393;&#12398;&#12424;&#12358;&#12395;&#21205;&#20316;&#12377;&#12427;&#12398;&#12363; (<a href="#kern-prof">&#12488;&#12483;&#12503;</a>)
  </h4>


      <p>&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#28168;&#12415;&#12398;&#12467;&#12540;&#12489;&#12398;&#25391;&#12427;&#33310;&#12356;&#12395;&#38306;&#12377;&#12427;&#12289;
	2&#31278;&#39006;&#12398;&#12487;&#12540;&#12479;&#12364;&#20491;&#21029;&#12395;&#35352;&#37682;&#12373;&#12428;&#12414;&#12377;:
	&#20840;&#38306;&#25968;&#12398;&#21628;&#12403;&#20986;&#12375;&#38971;&#24230; (&#21628;&#12403;&#20986;&#12375;&#12464;&#12521;&#12501;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;)
	&#12392;&#21508;&#38306;&#25968;&#12398;&#20966;&#29702;&#12395;&#12363;&#12363;&#12387;&#12383;&#26178;&#38291;&#12391;&#12377;&#12290;
	&#12371;&#12428;&#12425;&#12399;&#12289;&#36969;&#24403;&#12395;&#12469;&#12531;&#12503;&#12523;&#12373;&#12428;&#12383;&#26178;&#12395;&#38306;&#25968;&#20869;&#12395;&#12354;&#12427;&#12503;&#12525;&#12464;&#12521;&#12512;&#12459;&#12454;&#12531;&#12479;&#12540;&#12398;&#30906;&#29575;&#12395;&#12424;&#12387;&#12390;&#27010;&#31639;&#12373;&#12428;&#12289;
	&#12381;&#12398;&#30906;&#29575;&#12399;&#12289;&#35519;&#12409;&#12390;&#12356;&#12427;&#38306;&#25968;&#12364;&#23455;&#34892;&#20013;&#12395;&#36215;&#12371;&#12427;&#12289;
	&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12479;&#12452;&#12510;&#12540;&#12398;&#21106;&#12426;&#36796;&#12415;&#29575;&#12395;&#12424;&#12387;&#12390;&#36870;&#12395;&#27010;&#31639;&#12373;&#12428;&#12414;&#12377;&#12290;
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?gprof+1+NetBSD-6.0+i386">gprof(1)</a> &#12392;&#12356;&#12358;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12540;&#12434;&#20351;&#12387;&#12390;&#12289;&#12487;&#12540;&#12479;&#12434;&#35299;&#37320;&#12375;&#12414;&#12377;&#12290;
	&#12375;&#12363;&#12375;&#12289;&#20108;&#12388;&#12398;&#12487;&#12540;&#12479;&#12398;&#30456;&#38306;&#24615;&#12364;&#12394;&#12356;&#12383;&#12417;&#12289;&#12356;&#12367;&#12388;&#12363;&#21046;&#38480;&#12364;&#20986;&#12390;&#12365;&#12414;&#12377;&#12290;
	&#12371;&#12428;&#12399;&#12289;man&#12506;&#12540;&#12472;&#12398;BUGS&#12398;&#31456;&#12395;&#26360;&#12363;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;</p>

      <p>&#12459;&#12540;&#12493;&#12523;&#12398;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12392;&#12518;&#12540;&#12470;&#12540;&#12503;&#12525;&#12464;&#12521;&#12512;&#12398;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12399;&#12289;
	&#12424;&#12367;&#20284;&#12390;&#12356;&#12414;&#12377;;
	&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12487;&#12540;&#12479;&#12434;&#20966;&#29702;&#12377;&#12427;&#26041;&#27861;&#12392;&#12289;
	&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#12377;&#12427;&#26041;&#27861;&#12364;&#33509;&#24178;&#36949;&#12358;&#31243;&#24230;&#12391;&#12377;&#12290;</p>

      <p>&#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12395;&#38306;&#20418;&#12377;&#12427;&#12487;&#12540;&#12479;&#12399;&#12289;
	&#12464;&#12525;&#12540;&#12496;&#12523;&#27083;&#36896;&#20307;&#12398; <span class="bold"><strong><code class="code">_gmonparam</code></strong></span> &#20869;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290;
	&#12371;&#12398;&#27083;&#36896;&#20307;&#12399;&#12289;(
	<span class="bold"><strong><code class="filename">kern/subr_prof.c</code></strong></span> &#20013;&#12398;) <span class="bold"><strong><code class="code">kmstartup()</code></strong></span> &#12395;&#12424;&#12426;&#12289;
	&#12471;&#12473;&#12486;&#12512;&#12364;&#21021;&#26399;&#21270;&#12377;&#12427;&#38555;&#12395;&#21021;&#26399;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290;
	&#12518;&#12540;&#12470;&#12540;&#12524;&#12505;&#12523;&#12398;&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#12354;&#12427; <span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?kgmon+8+NetBSD-6.0+i386">kgmon(8)</a></strong></span> &#12399;&#12289;
	&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#12392;&#12487;&#12540;&#12479;&#12450;&#12463;&#12475;&#12473;&#12398;&#12383;&#12417;&#12395;
	<span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?sysctl+3+NetBSD-6.0+i386">sysctl(3)</a></strong></span> &#12434;&#21628;&#12403;&#20986;&#12375;&#12289;
	&#19968;&#37096; <span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?kvm+3+NetBSD-6.0+i386">kvm(3)</a></strong></span> &#12450;&#12463;&#12475;&#12473;&#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12356;&#12414;&#12377;
	(&#21205;&#20316;&#12375;&#12390;&#12356;&#12427;&#12459;&#12540;&#12493;&#12523;&#12364;&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#12373;&#12428;&#12427;&#27161;&#28310;&#30340;&#12394;&#22580;&#21512;&#12418;&#12391;&#12377;!) &#12290;</p>
    
	<h4 class="title">
<a name="call-graph-recording"></a>&#21628;&#12403;&#20986;&#12375;&#12464;&#12521;&#12501;&#12398;&#35352;&#37682; (<a href="#kern-prof">&#12488;&#12483;&#12503;</a>)
  </h4>

	<p>&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12398;&#12501;&#12521;&#12464; (<span class="bold"><strong><code class="code">-pg</code></strong></span>) &#12395;&#12424;&#12426;&#12289;
	  &#12467;&#12531;&#12497;&#12452;&#12521;&#12540;&#12399;&#38306;&#25968;&#12398;&#12456;&#12531;&#12488;&#12522;&#12540;&#12372;&#12392;&#12395; <span class="bold"><strong><code class="code">mcount()</code></strong></span>
	  &#12434;&#21628;&#12403;&#20986;&#12375;&#12414;&#12377;&#12290;
	  &#12371;&#12428;&#12399;&#12289;&#12510;&#12471;&#12531;&#29420;&#33258;&#12398;&#27211;&#28193;&#12375;&#12395;&#12424;&#12387;&#12390;&#12289;
	  <span class="bold"><strong><code class="code">_mcount(frompc,selfpc)</code></strong></span> &#12408;&#36865;&#12425;&#12428;&#12414;&#12377;&#12290;
	  <span class="bold"><strong><code class="code">_mcount(frompc,selfpc)</code></strong></span> &#12399;
	  <span class="bold"><strong><code class="filename">sys/lib/libkern/mcount.c</code></strong></span> &#12391;&#23455;&#35013;&#12373;&#12428;&#12414;&#12377;&#12290;
	  <span class="bold"><strong><code class="code">frompc</code></strong></span>
	  &#12399;&#38306;&#25968;&#12434;&#21628;&#12403;&#20986;&#12377;&#12450;&#12489;&#12524;&#12473;&#12391;&#12289; <span class="bold"><strong><code class="code">selfpc</code></strong></span>
	  &#12399;&#21628;&#12400;&#12428;&#12427;&#38306;&#25968;&#33258;&#20307;&#12398;&#12450;&#12489;&#12524;&#12473;&#12391;&#12377;&#12290;</p>

	<p>&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#20013;&#12395;&#36973;&#36935;&#12377;&#12427;&#20840;&#12390;&#12398; (<span class="bold"><strong><code class="code">frompc</code></strong></span>, <span class="bold"><strong><code class="code">selfpc</code></strong></span>)
	  &#29992;&#12395;&#12289; <span class="bold"><strong><code class="code">struct tostruct</code></strong></span>
	  &#12399; <span class="bold"><strong><code class="code">_gmonparam.tos</code></strong></span> &#12364;&#31034;&#12377;&#37197;&#21015;&#12363;&#12425;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12414;&#12377;&#12290;
	  &#12456;&#12531;&#12488;&#12522;&#12540;&#12399;&#26368;&#21021;&#12395;&#20351;&#29992;&#12377;&#12427;&#38918;&#30058;&#12391;&#12289;
	  &#22987;&#12417;&#12363;&#12425;&#32066;&#12431;&#12426;&#12414;&#12391;&#21336;&#32020;&#12395;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12414;&#12377;&#12290; <span class="bold"><strong><code class="code">kmstartup()</code></strong></span> &#20869;&#12398;&#12354;&#12427;&#12510;&#12472;&#12483;&#12463;&#12395;&#12424;&#12387;&#12390;&#12289;
	  &#12459;&#12540;&#12493;&#12523;&#12398;&#12486;&#12461;&#12473;&#12488;&#12469;&#12452;&#12474;&#12363;&#12425;&#37197;&#21015;&#12398;&#12469;&#12452;&#12474;&#12364;&#27770;&#12417;&#12425;&#12428;&#12414;&#12377; --
	  &#19968;&#31278;&#12398;"&#32076;&#39443;&#21063;" &#12398;&#12424;&#12358;&#12391;&#12377;&#12290;</p>

	<p><span class="bold"><strong><code class="code">struct tostruct</code></strong></span> 
	  &#12398;&#12456;&#12531;&#12488;&#12522;&#12540;&#12399;&#12289;&#12498;&#12473;&#12488;&#12464;&#12521;&#12512;&#12459;&#12454;&#12531;&#12479;&#12540;&#12392;&#19968;&#32210;&#12395;&#12289;&#21628;&#12400;&#12428;&#12383;&#38306;&#25968;
	  (<span class="bold"><strong><code class="code">selfpc</code></strong></span>)
	  &#12398;&#12450;&#12489;&#12524;&#12473;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290;
	  &#21516;&#12376;&#21628;&#12403;&#20986;&#12375;&#12450;&#12489;&#12524;&#12473;&#12395;&#12354;&#12427;&#12456;&#12531;&#12488;&#12522;&#12540;&#12399;&#12289;&#12522;&#12531;&#12463;&#12375;&#12383;&#19968;&#35239;&#12434;&#24418;&#25104;&#12375;&#12414;&#12377;&#12290;
	  &#19968;&#35239;&#12398;&#12504;&#12483;&#12489; (&#12388;&#12414;&#12426;&#12289;&#29305;&#23450;&#12398;&#21628;&#12403;&#20986;&#12375;&#12450;&#12489;&#12524;&#12473;&#12395;&#23646;&#12377;&#12427;
	  <span class="bold"><strong><code class="code">_gmonparam.tos</code></strong></span>
	  &#37197;&#21015;&#20869;&#12398;&#26368;&#21021;&#12398;&#12456;&#12531;&#12488;&#12522;&#12540;&#12398;&#35211;&#20986;&#12375;) &#12399;&#12289;
	  <span class="bold"><strong><code class="code">_gmonparam.froms</code></strong></span>
	  &#12392;&#12356;&#12358;&#20108;&#12388;&#30446;&#12398;&#12487;&#12540;&#12479;&#37197;&#21015;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290;&#12371;&#12398;
	  <span class="bold"><strong><code class="code">_gmonparam.froms</code></strong></span> &#12399;&#12289;
	  &#12354;&#12427;&#20516;&#12395;&#12424;&#12387;&#12390;&#20998;&#21106;&#12373;&#12428;&#12383;&#21628;&#12403;&#20986;&#12375;&#12450;&#12489;&#12524;&#12473;
	  (<span class="bold"><strong><code class="code">frompc</code></strong></span>)
	  &#12395;&#12424;&#12426;&#12289;&#35211;&#20986;&#12375;&#12434;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377; (&#12354;&#12427;&#20516;&#12399;&#12289;&#12467;&#12540;&#12489;&#20869;&#12398;&#20108;&#12388;&#12398;&#21628;&#12403;&#20986;&#12375;&#12398;&#26368;&#30701;&#36317;&#38626;
	  &#12424;&#12426;&#38263;&#12367;&#12394;&#12427;&#12371;&#12392;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435; - <span class="bold"><strong><code class="filename">sys/sys/gmon.h</code></strong></span> &#12395;&#12354;&#12427;&#12467;&#12513;&#12531;&#12488;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;) &#12290;</p>

	<p>&#27161;&#28310;&#30340;&#12394;&#38306;&#25968;&#21628;&#12403;&#20986;&#12375;&#12395;&#12399;&#12289;&#12381;&#12428;&#12382;&#12428;&#12398;
	  <span class="bold"><strong><code class="code">frompc</code></strong></span> &#12395;&#23550;&#12375;&#12390;
	  <span class="bold"><strong><code class="code">selfpc</code></strong></span> &#12364;&#12402;&#12392;&#12388;&#12375;&#12363;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
	  &#12381;&#12398;&#32080;&#26524;&#12289;&#20856;&#22411;&#30340;&#12394;&#19968;&#35239;&#12364;&#19968;&#12388;&#12398;&#12513;&#12531;&#12496;&#12540;&#12398;&#12415;&#12391;&#27083;&#25104;&#12373;&#12428;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;</p>
      
	<h4 class="title">
<a name="statistical-profiling"></a>&#32113;&#35336;&#30340;&#12394;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464; (<a href="#kern-prof">&#12488;&#12483;&#12503;</a>)
  </h4>

	<p>&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12364;&#22987;&#12414;&#12427;&#12392;&#12289;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12479;&#12452;&#12510;&#12540;&#12398;&#21106;&#12426;&#36796;&#12415;&#12364;
	  &#12475;&#12483;&#12488;&#12373;&#12428;&#12289; <span class="bold"><strong><code class="code">statclock()</code></strong></span> &#12434;&#21628;&#12403;&#20986;&#12375;&#12414;&#12377; (
	  <span class="bold"><strong><code class="filename">sys/kern/kern_clock.c</code></strong></span> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;) &#12290;
	  &#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12479;&#12452;&#12510;&#12540;&#12399;&#12289;&#38306;&#25968;&#12408;&#12398;&#24178;&#28169;&#12364;&#12471;&#12473;&#12486;&#12512;&#12398;&#12463;&#12525;&#12483;&#12463;&#12392;
	  &#21516;&#26399;&#12375;&#12390;&#21205;&#12363;&#12394;&#12367;&#12394;&#12425;&#12394;&#12356;&#12424;&#12358;&#12395;&#12289;&#36890;&#24120;&#12398;&#12471;&#12473;&#12486;&#12512;&#12463;&#12525;&#12483;&#12463;&#12363;&#12425;&#29420;&#31435;&#12375;&#12383;
	  &#12479;&#12452;&#12510;&#12540;&#12391;&#12354;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; <span class="bold"><strong><code class="code">statclock()</code></strong></span> &#12399;&#12518;&#12540;&#12470;&#12540;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#12418;&#12289;
	  &#12459;&#12540;&#12493;&#12523;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12391;&#12418;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290;</p>

	<p>&#12354;&#12427;&#20516;&#12391;&#20877;&#20998;&#21106;&#12373;&#12428;&#12390;&#12356;&#12428;&#12400;&#12289;
	  &#21106;&#12426;&#36796;&#12415;&#26178;&#12395;&#12503;&#12525;&#12464;&#12521;&#12512;&#12459;&#12454;&#12531;&#12479;&#12540;&#12399;&#35211;&#20986;&#12375;&#12392;&#12375;&#12390;&#20351;&#12431;&#12428;&#12390;&#12289;
	  &#12498;&#12473;&#12488;&#12464;&#12521;&#12512;&#12398; <span class="bold"><strong><code class="code">_gmonparam.kcount</code></strong></span>
	  &#12395;&#35352;&#37682;&#12373;&#12428;&#12289;&#35442;&#24403;&#12377;&#12427;&#12475;&#12523;&#12398;&#20516;&#12364;&#22679;&#12360;&#12414;&#12377;&#12290;</p>
      
	<h4 class="title">
<a name="how-to-use-it"></a>&#20351;&#12356;&#26041; (<a href="#kern-prof">&#12488;&#12483;&#12503;</a>)
  </h4>


	<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12459;&#12540;&#12493;&#12523;&#12434;&#27083;&#31689;&#12375;&#12289;&#12502;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290;
	    &#12371;&#12428;&#12395;&#12399;&#12289; <span class="bold"><strong><code class="code">-p</code></strong></span> &#12501;&#12521;&#12464;&#12434;&#29992;&#12356;&#12390;
	    <span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?config+8+NetBSD-6.0+i386">config(8)</a></strong></span> &#12375;&#12414;&#12377;&#12290;
	    &#29992;&#12356;&#12394;&#12369;&#12428;&#12400;&#12289;&#29305;&#21029;&#12394;&#12371;&#12392;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12459;&#12540;&#12493;&#12523;&#12399;
	    &#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#12513;&#12483;&#12475;&#12540;&#12472;&#12434;&#33258;&#21205;&#35373;&#23450;&#24460;&#12289;&#12523;&#12540;&#12488;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12364;
	    &#12510;&#12454;&#12531;&#12488;&#12373;&#12428;&#12427;&#21069;&#12395;&#20986;&#21147;&#12375;&#12414;&#12377;&#12290;
	    <pre class="programlisting">Profiling kernel, textsize=1611256 [f0100000..f02895f8]</pre>
	    </li>
<li class="listitem">
<span class="bold"><strong><code class="code">/netbsd</code></strong></span> &#12364;&#29694;&#22312;&#21205;&#20316;&#12375;&#12390;&#12356;&#12427;&#12459;&#12540;&#12493;&#12523;&#12391;&#12354;&#12427;&#12363;
	    &#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12418;&#12375;&#36949;&#12360;&#12400;&#12289;&#19979;&#12398;
	    <span class="bold"><strong><a href="http://netbsd.gw.com/cgi-bin/man-cgi?kgmon+8+NetBSD-6.0+i386">kgmon(8)</a></strong></span> &#12398;&#21628;&#12403;&#20986;&#12375;&#12391;&#12289; <span class="bold"><strong><code class="code">-N</code></strong></span>
	    &#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;</li>
<li class="listitem">
<span class="bold"><strong><code class="code">kgmon -b</code></strong></span> &#12391;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12434;&#38283;&#22987;&#12375;&#12414;&#12377;&#12290;</li>
<li class="listitem">&#12356;&#12367;&#12388;&#12363;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#36215;&#21205;&#12375;&#12390;&#12289;&#12471;&#12473;&#12486;&#12512;&#12398;&#20013;&#12391;&#12418;&#35519;&#12409;&#12383;&#12356;&#37096;&#20998;&#12395;
	    &#36000;&#25285;&#12434;&#12363;&#12369;&#12414;&#12377;&#12290;</li>
<li class="listitem">
<span class="bold"><strong><code class="code">kgmon -h</code></strong></span> &#12391;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12434;&#27490;&#12417;&#12414;&#12377;&#12290;</li>
<li class="listitem">
<span class="bold"><strong><code class="code">kgmon -p</code></strong></span> &#12434;&#36215;&#21205;&#12375;&#12390;&#12289;&#21454;&#38598;&#12375;&#12383;&#12487;&#12540;&#12479;&#12434;
	    <span class="bold"><strong><code class="filename">gmon.out</code></strong></span> &#12392;&#12356;&#12358;&#12501;&#12449;&#12452;&#12523;&#12395;&#26360;&#12365;&#36796;&#12415;&#12414;&#12377;&#12290;</li>
<li class="listitem">&#20182;&#12398;&#12418;&#12398;&#12434;&#35336;&#28204;&#12377;&#12427;&#21069;&#12395;&#12289; <span class="bold"><strong><code class="code">kgmon -r</code></strong></span>
	    &#12391;&#12459;&#12540;&#12493;&#12523;&#20869;&#12398;&#12503;&#12525;&#12501;&#12449;&#12452;&#12522;&#12531;&#12464;&#12487;&#12540;&#12479;&#12398;&#12496;&#12483;&#12501;&#12449;&#12540;&#12434;&#12522;&#12475;&#12483;&#12488;&#12375;&#12414;&#12377;&#12290;</li>
<li class="listitem">
<span class="bold"><strong><code class="filename">gmon.out</code></strong></span>
	    &#12363;&#12425;&#20154;&#38291;&#12364;&#21028;&#35501;&#12391;&#12365;&#12427;&#35299;&#37320;&#12434;&#20837;&#25163;&#12377;&#12427;&#12383;&#12417;&#12289;
	    &#20197;&#19979;&#12398;&#12467;&#12510;&#12531;&#12489;&#12434;&#23455;&#34892;&#12375;&#12414;&#12377;&#12290;
	    <pre class="programlisting">% gprof /netbsd gmon.out &gt; gprof.txt</pre>
</li>
<li class="listitem">&#12487;&#12540;&#12479;&#12398;&#35299;&#37320;&#12434;&#12375;&#12414;&#12377;&#12290;</li>
</ul></div>
      <hr>Back to  <em><a href="../">NetBSD &#12489;&#12461;&#12517;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;: &#12459;&#12540;&#12493;&#12523;</a></em>
</div></div></div>
<div class="navfoot"></div>
<div id="footer"><div id="footerContent"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  &#36899;&#32097;</a> |
      </span><span class="footcopy"><a href="../../../../about/disclaimer.html">
      &#20813;&#36012;&#20107;&#38917;</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup>&#12399;
	 NetBSD Foundation, Inc. &#12398;&#30331;&#37682;&#21830;&#27161;&#12391;&#12377;&#12290;</span>
</center></div></div>
</div></body>
</html>
