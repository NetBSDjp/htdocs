<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Chapter 15. The pkginstall framework</title>
<link rel="stylesheet" type="text/css" href="/global.css">
<meta name="generator" content="DocBook XSL Stylesheets VX.X.X">
<link rel="home" href="index.html" title="The pkgsrc guide">
<link rel="up" href="developers-guide.html" title="Part II. The pkgsrc developer's guide">
<link rel="prev" href="buildlink.html" title="Chapter 14. Buildlink methodology">
<link rel="next" href="options.html" title="Chapter 16. Options handling">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Chapter 15. The pkginstall framework</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="buildlink.html">Prev</a> </td>
<th width="60%" align="center">Part II. The pkgsrc developer's guide</th>
<td width="20%" align="right"> <a accesskey="n" href="options.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="chapter" title="Chapter 15. The pkginstall framework">
<div class="titlepage"><div><div><h2 class="title">
<a name="pkginstall"></a>Chapter 15. The pkginstall framework</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="pkginstall.html#files-and-dirs-outside-prefix">15.1. Files and directories outside the installation prefix</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="pkginstall.html#dirs-outside-prefix">15.1.1. Directory manipulation</a></span></dt>
<dt><span class="sect2"><a href="pkginstall.html#files-outside-prefix">15.1.2. File manipulation</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="pkginstall.html#conf-files">15.2. Configuration files</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="pkginstall.html#conf-files-sysconfdir">15.2.1. How <code class="varname">PKG_SYSCONFDIR</code> is set</a></span></dt>
<dt><span class="sect2"><a href="pkginstall.html#conf-files-configure">15.2.2. Telling the software where configuration files are</a></span></dt>
<dt><span class="sect2"><a href="pkginstall.html#conf-files-patching">15.2.3. Patching installations</a></span></dt>
<dt><span class="sect2"><a href="pkginstall.html#conf-files-disable">15.2.4. Disabling handling of configuration files</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="pkginstall.html#rcd-scripts">15.3. System startup scripts</a></span></dt>
<dd><dl><dt><span class="sect2"><a href="pkginstall.html#rcd-scripts-disable">15.3.1. Disabling handling of system startup scripts</a></span></dt></dl></dd>
<dt><span class="sect1"><a href="pkginstall.html#users-and-groups">15.4. System users and groups</a></span></dt>
<dt><span class="sect1"><a href="pkginstall.html#shells">15.5. System shells</a></span></dt>
<dd><dl><dt><span class="sect2"><a href="pkginstall.html#shells-disable">15.5.1. Disabling shell registration</a></span></dt></dl></dd>
<dt><span class="sect1"><a href="pkginstall.html#fonts">15.6. Fonts</a></span></dt>
<dd><dl><dt><span class="sect2"><a href="pkginstall.html#fonts-disable">15.6.1. Disabling automatic update of the fonts databases</a></span></dt></dl></dd>
</dl>
</div>
<p>This chapter describes the framework known as
<code class="literal">pkginstall</code>, whose key features are:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Generic installation and manipulation of directories and files
    outside the pkgsrc-handled tree, <code class="varname">LOCALBASE</code>.</p></li>
<li class="listitem"><p>Automatic handling of configuration files during installation,
    provided that packages are correctly designed.</p></li>
<li class="listitem"><p>Generation and installation of system startup scripts.</p></li>
<li class="listitem"><p>Registration of system users and groups.</p></li>
<li class="listitem"><p>Registration of system shells.</p></li>
<li class="listitem"><p>Automatic updating of fonts databases.</p></li>
</ul></div>
<p>The following sections inspect each of the above points in detail.</p>
<p>You may be thinking that many of the things described here could be
easily done with simple code in the package's post-installation target
(<code class="literal">post-install</code>).  <span class="emphasis"><em>This is incorrect</em></span>,
as the code in them is only executed when building from source.  Machines
using binary packages could not benefit from it at all (as the code itself
could be unavailable).  Therefore, the only way to achieve any of the items
described above is by means of the installation scripts, which are
automatically generated by pkginstall.</p>
<div class="sect1" title="15.1. Files and directories outside the installation prefix">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="files-and-dirs-outside-prefix"></a>15.1. Files and directories outside the installation prefix</h2></div></div></div>
<p>As you already know, the <code class="filename">PLIST</code> file holds a list
of files and directories that belong to a package.  The names used in it
are relative to the installation prefix (<code class="filename">${PREFIX}</code>),
which means that it cannot register files outside this directory (absolute
path names are not allowed).  Despite this restriction, some packages need
to install files outside this location; e.g., under
<code class="filename">${VARBASE}</code> or
<code class="filename">${PKG_SYSCONFDIR}</code>.  The only way to achieve this
is to create such files during installation time by using
installation scripts.</p>
<p>The generic installation scripts are shell scripts that can
contain arbitrary code.  The list of scripts to execute is taken from
the <code class="varname">INSTALL_FILE</code> variable, which defaults to
<code class="filename">INSTALL</code>.  A similar variable exists for package
removal (<code class="varname">DEINSTALL_FILE</code>, whose default is
<code class="filename">DEINSTALL</code>).  These scripts can run arbitrary
commands, so they have the potential to create and manage files
anywhere in the file system.</p>
<p>Using these general installation files is not recommended, but
may be needed in some special cases.  One reason for avoiding them is
that the user has to trust the packager that there is no unwanted or
simply erroneous code included in the installation script. Also,
previously there were many similar scripts for the same functionality,
and fixing a common error involved finding and changing all of
them.</p>
<p>The pkginstall framework offers another, standardized way.  It
provides generic scripts to abstract the manipulation of such files
and directories based on variables set in the package's
<code class="filename">Makefile</code>.  The rest of this section describes
these variables.</p>
<div class="sect2" title="15.1.1. Directory manipulation">
<div class="titlepage"><div><div><h3 class="title">
<a name="dirs-outside-prefix"></a>15.1.1. Directory manipulation</h3></div></div></div>
<p>The following variables can be set to request the creation of
directories anywhere in the file system:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="varname">MAKE_DIRS</code> and <code class="varname">OWN_DIRS</code>
    contain a list of directories that should be created and should attempt
    to be destroyed by the installation scripts.  The difference between
    the two is that the latter prompts the administrator to remove any
    directories that may be left after deinstallation (because they were
    not empty), while the former does not.</p></li>
<li class="listitem">
<p><code class="varname">MAKE_DIRS_PERMS</code> and
    <code class="varname">OWN_DIRS_PERMS</code> contain a list of tuples describing
    which directories should be created and should attempt to be destroyed
    by the installation scripts.  Each tuple holds the following values,
    separated by spaces: the directory name, its owner, its group and its
    numerical mode.  For example:</p>
<pre class="programlisting">
MAKE_DIRS_PERMS+=         ${VARBASE}/foo/private ${ROOT_USER} ${ROOT_GROUP} 0700
</pre>
<p>The difference between the two is exactly the same as their
    non-<code class="varname">PERMS</code> counterparts.</p>
</li>
</ul></div>
</div>
<div class="sect2" title="15.1.2. File manipulation">
<div class="titlepage"><div><div><h3 class="title">
<a name="files-outside-prefix"></a>15.1.2. File manipulation</h3></div></div></div>
<p>Creating non-empty files outside the installation prefix is tricky
because the <code class="filename">PLIST</code> forces all files to be inside it.
To overcome this problem, the only solution is to extract the file in the
known place (i.e., inside the installation prefix) and copy it to the
appropriate location during installation (done by the installation scripts
generated by pkginstall).  We will call the former the <span class="emphasis"><em>master
file</em></span> in the following paragraphs, which describe the variables
that can be used to automatically and consistently handle files outside the
installation prefix:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p><code class="varname">CONF_FILES</code> and
    <code class="varname">SUPPORT_FILES</code> are pairs of master and target files.
    During installation time, the master file is copied to the target one
    if and only if the latter does not exist.  Upon deinstallation, the
    target file is removed provided that it was not modified by the
    installation.</p>
<p>The difference between the two is that the latter prompts the
    administrator to remove any files that may be left after
    deinstallation (because they were not empty), while the former does
    not.</p>
</li>
<li class="listitem">
<p><code class="varname">CONF_FILES_PERMS</code> and
    <code class="varname">SUPPORT_FILES_PERMS</code> contain tuples describing master
    files as well as their target locations.  For each of them, it also
    specifies their owner, their group and their numeric permissions, in
    this order.  For example:</p>
<pre class="programlisting">
SUPPORT_FILES_PERMS+= ${PREFIX}/share/somefile ${VARBASE}/somefile ${ROOT_USER} ${ROOT_GROUP} 0700
</pre>
<p>The difference between the two is exactly the same as their
    non-<code class="varname">PERMS</code> counterparts.</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1" title="15.2. Configuration files">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="conf-files"></a>15.2. Configuration files</h2></div></div></div>
<p>Configuration files are special in the sense that they are installed
in their own specific directory, <code class="varname">PKG_SYSCONFDIR</code>, and
need special treatment during installation (most of which is automated by
pkginstall).  The main concept you must bear in mind is that files marked
as configuration files are automatically copied to the right place (somewhere
inside <code class="varname">PKG_SYSCONFDIR</code>) during installation <span class="emphasis"><em>if
and only if</em></span> they didn't exist before.  Similarly, they will not
be removed if they have local modifications.  This ensures that
administrators never lose any custom changes they may have made.</p>
<div class="sect2" title="15.2.1. How PKG_SYSCONFDIR is set">
<div class="titlepage"><div><div><h3 class="title">
<a name="conf-files-sysconfdir"></a>15.2.1. How <code class="varname">PKG_SYSCONFDIR</code> is set</h3></div></div></div>
<p>As said before, the <code class="varname">PKG_SYSCONFDIR</code> variable
specifies where configuration files shall be installed.  Its contents are
set based upon the following variables:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="varname">PKG_SYSCONFBASE</code>: The configuration's root
    directory.  Defaults to <code class="filename">${PREFIX}/etc</code> although it may
    be overridden by the user to point to his preferred location (e.g.,
    <code class="filename">/etc</code>, <code class="filename">/etc/pkg</code>, etc.).
    Packages must not use it directly.</p></li>
<li class="listitem">
<p><code class="varname">PKG_SYSCONFSUBDIR</code>: A subdirectory of
    <code class="varname">PKG_SYSCONFBASE</code> under which the configuration files
    for the package being built shall be installed.  The definition of this
    variable only makes sense in the package's
    <code class="filename">Makefile</code> (i.e., it is not user-customizable).</p>
<p>As an example, consider the Apache package,
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/www/apache2/README.html" target="_top"><code class="filename">www/apache2</code></a>, which places its
    configuration files under the
    <code class="filename">httpd/</code> subdirectory of
    <code class="varname">PKG_SYSCONFBASE</code>.  This should be set in the package
    Makefile.</p>
</li>
<li class="listitem"><p><code class="varname">PKG_SYSCONFVAR</code>: Specifies the name of the
    variable that holds this package's configuration directory (if
    different from <code class="varname">PKG_SYSCONFBASE</code>).  It defaults to
    <code class="varname">PKGBASE</code>'s value, and is always prefixed with
    <code class="literal">PKG_SYSCONFDIR</code>.</p></li>
<li class="listitem"><p><code class="varname">PKG_SYSCONFDIR.${PKG_SYSCONFVAR}</code>: Holds the
    directory where the configuration files for the package identified by
    <code class="varname">PKG_SYSCONFVAR</code>'s shall be placed.</p></li>
</ul></div>
<p>Based on the above variables, pkginstall determines the value of
<code class="varname">PKG_SYSCONFDIR</code>, which is the <span class="emphasis"><em>only</em></span>
variable that can be used within a package to refer to its configuration
directory.  The algorithm used to set its value is basically the
following:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>If <code class="varname">PKG_SYSCONFDIR.${PKG_SYSCONFVAR}</code> is set,
    its value is used.</p></li>
<li class="listitem"><p>If the previous variable is not defined but
    <code class="varname">PKG_SYSCONFSUBDIR</code> is set in the package's
    <code class="filename">Makefile</code>, the resulting value is
    <code class="filename">${PKG_SYSCONFBASE}/${PKG_SYSCONFSUBDIR}</code>.</p></li>
<li class="listitem"><p>Otherwise, it is set to
    <code class="filename">${PKG_SYSCONFBASE}</code>.</p></li>
</ol></div>
<p>It is worth mentioning that <code class="filename">${PKG_SYSCONFDIR}</code> is
automatically added to <code class="filename">OWN_DIRS</code>.  See <a class="xref" href="pkginstall.html#dirs-outside-prefix" title="15.1.1. Directory manipulation">Section 15.1.1, &#8220;Directory manipulation&#8221;</a> what this means.  This does not apply to
subdirectories of <code class="filename">${PKG_SYSCONFDIR}</code>, they still have to
be created with OWN_DIRS or MAKE_DIRS.</p>
</div>
<div class="sect2" title="15.2.2. Telling the software where configuration files are">
<div class="titlepage"><div><div><h3 class="title">
<a name="conf-files-configure"></a>15.2.2. Telling the software where configuration files are</h3></div></div></div>
<p>Given that pkgsrc (and users!) expect configuration files to be in a
known place, you need to teach each package where it shall install its
files.  In some cases you will have to patch the package Makefiles to
achieve it.  If you are lucky, though, it may be as easy as passing an
extra flag to the configuration script; this is the case of GNU Autoconf-
generated files:</p>
<pre class="programlisting">
CONFIGURE_ARGS+= --sysconfdir=${PKG_SYSCONFDIR}
</pre>
<p>Note that this specifies where the package has to <span class="emphasis"><em>look
for</em></span> its configuration files, not where they will be originally
installed (although the difference is never explicit,
unfortunately).</p>
</div>
<div class="sect2" title="15.2.3. Patching installations">
<div class="titlepage"><div><div><h3 class="title">
<a name="conf-files-patching"></a>15.2.3. Patching installations</h3></div></div></div>
<p>As said before, pkginstall automatically handles configuration files.
This means that <span class="strong"><strong>the packages themselves must not
touch the contents of <code class="filename">${PKG_SYSCONFDIR}</code>
directly</strong></span>.  Bad news is that many software installation scripts
will, out of the box, mess with the contents of that directory.  So what is
the correct procedure to fix this issue?</p>
<p>You must teach the package (usually by manually patching it) to
install any configuration files under the examples hierarchy,
<code class="filename">share/examples/${PKGBASE}/</code>.  This way, the
<code class="filename">PLIST</code> registers them and the administrator always
has the original copies available.</p>
<p>Once the required configuration files are in place (i.e., under the
examples hierarchy), the pkginstall framework can use them as master copies
during the package installation to update what is in
<code class="filename">${PKG_SYSCONFDIR}</code>.  To achieve this, the variables
<code class="varname">CONF_FILES</code> and <code class="varname">CONF_FILES_PERMS</code> are
used.  Check out <a class="xref" href="pkginstall.html#files-outside-prefix" title="15.1.2. File manipulation">Section 15.1.2, &#8220;File manipulation&#8221;</a> for information
about their syntax and their purpose.  Here is an example, taken from the
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/mail/mutt/README.html" target="_top"><code class="filename">mail/mutt</code></a> package:</p>
<pre class="programlisting">
EGDIR=        ${PREFIX}/share/doc/mutt/samples
CONF_FILES=   ${EGDIR}/Muttrc ${PKG_SYSCONFDIR}/Muttrc
</pre>
<p>Note that the <code class="varname">EGDIR</code> variable is specific to that
package and has no meaning outside it.</p>
</div>
<div class="sect2" title="15.2.4. Disabling handling of configuration files">
<div class="titlepage"><div><div><h3 class="title">
<a name="conf-files-disable"></a>15.2.4. Disabling handling of configuration files</h3></div></div></div>
<p>The automatic copying of config files can be toggled by setting the
environment variable <code class="varname">PKG_CONFIG</code> prior to package
installation.</p>
</div>
</div>
<div class="sect1" title="15.3. System startup scripts">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="rcd-scripts"></a>15.3. System startup scripts</h2></div></div></div>
<p>System startup scripts are special files because they must be
installed in a place known by the underlying OS, usually outside the
installation prefix.  Therefore, the same rules described in <a class="xref" href="pkginstall.html#files-and-dirs-outside-prefix" title="15.1. Files and directories outside the installation prefix">Section 15.1, &#8220;Files and directories outside the installation prefix&#8221;</a> apply, and the same solutions
can be used.  However, pkginstall provides a special mechanism to handle
these files.</p>
<p>In order to provide system startup scripts, the package has
to:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>Store the script inside <code class="filename">${FILESDIR}</code>, with
    the <code class="literal">.sh</code> suffix appended.  Considering the
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/print/cups/README.html" target="_top"><code class="filename">print/cups</code></a> package as an example, it has a
    <code class="filename">cupsd.sh</code> in its files directory.</p></li>
<li class="listitem">
<p>Tell pkginstall to handle it, appending the name of the script,
    without its extension, to the <code class="varname">RCD_SCRIPTS</code> variable.
    Continuing the previous example:</p>
<pre class="programlisting">
RCD_SCRIPTS+=   cupsd
</pre>
</li>
</ol></div>
<p>Once this is done, pkginstall will do the following steps for each
script in an automated fashion:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>Process the file found in the files directory applying all the
    substitutions described in the <code class="filename">FILES_SUBST</code>
    variable.</p></li>
<li class="listitem"><p>Copy the script from the files directory to the examples
    hierarchy, <code class="filename">${PREFIX}/share/examples/rc.d/</code>.  Note
    that this master file must be explicitly registered in the
    <code class="filename">PLIST</code>.</p></li>
<li class="listitem"><p>Add code to the installation scripts to copy the startup script
    from the examples hierarchy into the system-wide startup scripts
    directory.</p></li>
</ol></div>
<div class="sect2" title="15.3.1. Disabling handling of system startup scripts">
<div class="titlepage"><div><div><h3 class="title">
<a name="rcd-scripts-disable"></a>15.3.1. Disabling handling of system startup scripts</h3></div></div></div>
<p>The automatic copying of config files can be toggled by setting the
environment variable <code class="varname">PKG_RCD_SCRIPTS</code> prior to package
installation.  Note that the scripts will be always copied inside the
examples hierarchy, <code class="filename">${PREFIX}/share/examples/rc.d/</code>, no
matter what the value of this variable is.</p>
</div>
</div>
<div class="sect1" title="15.4. System users and groups">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="users-and-groups"></a>15.4. System users and groups</h2></div></div></div>
<p>If a package needs to create special users and/or groups during
installation, it can do so by using the pkginstall framework.</p>
<p>Users can be created by adding entries to the
<code class="varname">PKG_USERS</code> variable.  Each entry has the following
syntax:</p>
<pre class="programlisting">
user:group
</pre>
<p>Further specification of user details may be done by setting
per-user variables.
<code class="varname">PKG_UID.<em class="replaceable"><code>user</code></em></code> is the
numeric UID for the user.
<code class="varname">PKG_GECOS.<em class="replaceable"><code>user</code></em></code> is the
user's description or comment.
<code class="varname">PKG_HOME.<em class="replaceable"><code>user</code></em></code> is the
user's home directory, and defaults to
<code class="filename">/nonexistent</code> if not specified.
<code class="varname">PKG_SHELL.<em class="replaceable"><code>user</code></em></code> is the
user's shell, and defaults to <code class="filename">/sbin/nologin</code> if
not specified.</p>
<p>Similarly, groups can be created by adding entries to the
<code class="varname">PKG_GROUPS</code> variable, whose syntax is:</p>
<pre class="programlisting">
group
</pre>
<p>The numeric GID of the group may be set by defining
<code class="varname">PKG_GID.<em class="replaceable"><code>group</code></em></code>.</p>
<p>If a package needs to create the users and groups at an earlier
stage, then it can set <code class="varname">USERGROUP_PHASE</code> to
either <code class="literal">configure</code> or <code class="literal">build</code> to
indicate the phase before which the users and groups are created.  In
this case, the numeric UIDs and GIDs of the created users and groups
are automatically hardcoded into the final installation scripts.</p>
</div>
<div class="sect1" title="15.5. System shells">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="shells"></a>15.5. System shells</h2></div></div></div>
<p>Packages that install system shells should register them in the shell
database, <code class="filename">/etc/shells</code>, to make things easier to the
administrator.  This must be done from the installation scripts to keep
binary packages working on any system.  pkginstall provides an easy way to
accomplish this task.</p>
<p>When a package provides a shell interpreter, it has to set the
<code class="varname">PKG_SHELL</code> variable to its absolute file name.  This will
add some hooks to the installation scripts to handle it.  Consider the
following example, taken from <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/shells/zsh/README.html" target="_top"><code class="filename">shells/zsh</code></a>:</p>
<pre class="programlisting">
PKG_SHELL=      ${PREFIX}/bin/zsh
</pre>
<div class="sect2" title="15.5.1. Disabling shell registration">
<div class="titlepage"><div><div><h3 class="title">
<a name="shells-disable"></a>15.5.1. Disabling shell registration</h3></div></div></div>
<p>The automatic registration of shell interpreters can be disabled by
the administrator by setting the <code class="filename">PKG_REGISTER_SHELLS</code>
environment variable to <code class="literal">NO</code>.</p>
</div>
</div>
<div class="sect1" title="15.6. Fonts">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="fonts"></a>15.6. Fonts</h2></div></div></div>
<p>Packages that install X11 fonts should update the database files
that index the fonts within each fonts directory.  This can easily be
accomplished within the pkginstall framework.</p>
<p>When a package installs X11 fonts, it must list the directories in
which fonts are installed in the
<code class="varname">FONTS_DIRS.<em class="replaceable"><code>type</code></em></code> variables,
where <em class="replaceable"><code>type</code></em> can be one of <span class="quote">&#8220;<span class="quote">ttf</span>&#8221;</span>,
<span class="quote">&#8220;<span class="quote">type1</span>&#8221;</span> or <span class="quote">&#8220;<span class="quote">x11</span>&#8221;</span>.  This will add hooks to the
installation scripts to run the appropriate commands to update the fonts
database files within each of those directories.  For convenience, if the
directory path is relative, it is taken to be relative to the package's
installation prefix.  Consider the following example, taken from <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/fonts/dbz-ttf/README.html" target="_top"><code class="filename">fonts/dbz-ttf</code></a>:</p>
<pre class="programlisting">
FONTS_DIRS.ttf= ${PREFIX}/lib/X11/fonts/TTF
</pre>
<div class="sect2" title="15.6.1. Disabling automatic update of the fonts databases">
<div class="titlepage"><div><div><h3 class="title">
<a name="fonts-disable"></a>15.6.1. Disabling automatic update of the fonts databases</h3></div></div></div>
<p>The automatic update of fonts databases can be disabled by
the administrator by setting the <code class="filename">PKG_UPDATE_FONTS_DB</code>
environment variable to <code class="literal">NO</code>.</p>
</div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="buildlink.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="developers-guide.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="options.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 14. Buildlink methodology </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 16. Options handling</td>
</tr>
</table>
</div>
</body>
</html>
