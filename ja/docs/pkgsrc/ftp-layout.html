<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Appendix C. Directory layout of the pkgsrc FTP server</title>
<link rel="stylesheet" type="text/css" href="/global.css">
<meta name="generator" content="DocBook XSL Stylesheets VX.X.X">
<link rel="home" href="index.html" title="The pkgsrc guide">
<link rel="up" href="index.html" title="The pkgsrc guide">
<link rel="prev" href="logs.html" title="Appendix B. Build logs">
<link rel="next" href="editing.html" title="Appendix D. Editing guidelines for the pkgsrc guide">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Appendix C. Directory layout of the pkgsrc FTP server</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="logs.html">Prev</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="editing.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="appendix" title="Appendix C. Directory layout of the pkgsrc FTP server">
<div class="titlepage"><div><div><h2 class="title">
<a name="ftp-layout"></a>Appendix C. Directory layout of the pkgsrc FTP server</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="ftp-layout.html#ftp-distfiles">C.1. <code class="filename">distfiles</code>: The distributed source files</a></span></dt>
<dt><span class="sect1"><a href="ftp-layout.html#ftp-misc">C.2. <code class="filename">misc</code>: Miscellaneous things</a></span></dt>
<dt><span class="sect1"><a href="ftp-layout.html#ftp-packages">C.3. <code class="filename">packages</code>: Binary packages</a></span></dt>
<dt><span class="sect1"><a href="ftp-layout.html#ftp-reports">C.4. <code class="filename">reports</code>: Bulk build reports</a></span></dt>
<dt><span class="sect1"><a href="ftp-layout.html#ftp-source">C.5. <code class="filename">current</code>,
<code class="filename">pkgsrc-20<em class="replaceable"><code>xx</code></em>Q<em class="replaceable"><code>y</code></em></code>:
source packages</a></span></dt>
</dl>
</div>
<p>As in other big projects, the directory layout of pkgsrc
	is quite complex for newbies. This chapter explains where you
	find things on the FTP server. The base directory on
	<code class="filename">ftp.NetBSD.org</code> is <a class="ulink" href="ftp://ftp.NetBSD.org/pub/pkgsrc/" target="_top"><code class="filename">/pub/pkgsrc/</code></a>.
	On other servers it may be different, but inside this directory,
	everything should look the same, no matter on which server you
	are. This directory contains some subdirectories, which are
	explained below.</p>
<div class="sect1" title="C.1. distfiles: The distributed source files">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ftp-distfiles"></a>C.1. <code class="filename">distfiles</code>: The distributed source files</h2></div></div></div>
<p>The directory <code class="filename">distfiles</code> contains lots
	of archive files from all pkgsrc packages, which are mirrored
	here. The subdirectories are called after their package names
	and are used when the distributed files have names that don't
	explicitly contain a version number or are otherwise too generic
	(for example <code class="filename">release.tar.gz</code>).</p>
</div>
<div class="sect1" title="C.2. misc: Miscellaneous things">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ftp-misc"></a>C.2. <code class="filename">misc</code>: Miscellaneous things</h2></div></div></div>
<p>This directory contains things that individual pkgsrc
	developers find worth publishing.</p>
</div>
<div class="sect1" title="C.3. packages: Binary packages">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ftp-packages"></a>C.3. <code class="filename">packages</code>: Binary packages</h2></div></div></div>
<p>This directory contains binary packages for the various
	platforms that are supported by pkgsrc.
	Each subdirectory is of the form <em class="replaceable"><code>OPSYS</code></em>/<em class="replaceable"><code>ARCH</code></em>/<em class="replaceable"><code>OSVERSION_TAG</code></em>. The meaning of these variables is:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="varname">OPSYS</code> is the name of the
	operating system for which the packages have been built. The
	name is taken from the output of the <span class="command"><strong>uname</strong></span>
	command, so it may differ from the one you are used to
	hear.</p></li>
<li class="listitem"><p><code class="varname">ARCH</code> is the hardware
	architecture of the platform for which the packages have been
	built. It also includes the <code class="varname">ABI</code> (Application
	Binary Interface) for platforms that have several of
	them.</p></li>
<li class="listitem"><p><code class="varname">OSVERSION</code> is the version of
	the operating system. For version numbers that change often (for
	example NetBSD-current), the often-changing part should be
	replaced with an <code class="literal">x</code>, for example
	<code class="literal">4.99.x</code>.</p></li>
<li class="listitem"><p><code class="varname">TAG</code> is either
	<code class="literal">20<em class="replaceable"><code>xx</code></em>Q<em class="replaceable"><code>y</code></em></code>
	for a stable branch, or <code class="literal">head</code> for packages
	built from the HEAD branch. The latter should only be used when
	the packages are updated on a regular basis. Otherwise the date
	from checking out pkgsrc should be appended, for example
	<code class="literal">head_20071015</code>.</p></li>
</ul></div>
<p>The rationale for exactly this scheme is that the pkgsrc users looking for binary packages
	can quickly click through the directories on the
	server and find the best binary packages for their machines. Since they
	usually know the operating system and the hardware architecture, OPSYS
	and ARCH are placed first. After these choices, they can select the
	best combination of OSVERSION and TAG together, since it is usually the
	case that packages stay compatible between different version of the
	operating system.</p>
<p>In each of these directories, there is a
	whole binary packages collection for a specific platform. It has a directory called
	<code class="filename">All</code> which contains all binary packages.
	Besides that, there are various category directories that
	contain symbolic links to the real binary packages.</p>
</div>
<div class="sect1" title="C.4. reports: Bulk build reports">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ftp-reports"></a>C.4. <code class="filename">reports</code>: Bulk build reports</h2></div></div></div>
<p>Here are the reports from bulk builds, for those who want
	to fix packages that didn't build on some of the platforms. The
	structure of subdirectories should look like the one in <a class="xref" href="ftp-layout.html#ftp-packages" title="C.3. packages: Binary packages">Section C.3, &#8220;<code class="filename">packages</code>: Binary packages&#8221;</a>.</p>
</div>
<div class="sect1" title="C.5. current, pkgsrc-20xxQy: source packages">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ftp-source"></a>C.5. <code class="filename">current</code>,
<code class="filename">pkgsrc-20<em class="replaceable"><code>xx</code></em>Q<em class="replaceable"><code>y</code></em></code>:
source packages</h2></div></div></div>
<p>These directories contain the <span class="quote">&#8220;<span class="quote">real</span>&#8221;</span> pkgsrc,
	that is the files that define how to create binary packages from
	source archives.</p>
<p>The directory <code class="filename">pkgsrc</code> contains a
	snapshot of the CVS repository, which is updated regularly. The
	file <code class="filename">pkgsrc.tar.gz</code> contains the same as the
	directory, ready to be downloaded as a whole.</p>
<p>In the directories for the quarterly branches, there is an
	additional file called
	<code class="filename">pkgsrc-20<em class="replaceable"><code>xx</code></em>Q<em class="replaceable"><code>y</code></em>.tar.gz</code>,
	which contains the state of pkgsrc when it was branched.</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="logs.html">Prev</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="editing.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Appendix B. Build logs </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Appendix D. Editing guidelines for the pkgsrc guide</td>
</tr>
</table>
</div>
</body>
</html>
