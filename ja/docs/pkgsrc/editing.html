<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Appendix D. Editing guidelines for the pkgsrc guide</title>
<link rel="stylesheet" type="text/css" href="/global.css">
<meta name="generator" content="DocBook XSL Stylesheets VX.X.X">
<link rel="home" href="index.html" title="The pkgsrc guide">
<link rel="up" href="index.html" title="The pkgsrc guide">
<link rel="prev" href="ftp-layout.html" title="Appendix C. Directory layout of the pkgsrc FTP server">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Appendix D. Editing guidelines for the pkgsrc guide</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ftp-layout.html">Prev</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> </td>
</tr>
</table>
<hr>
</div>
<div class="appendix" title="Appendix D. Editing guidelines for the pkgsrc guide">
<div class="titlepage"><div><div><h2 class="title">
<a name="editing"></a>Appendix D. Editing guidelines for the pkgsrc guide</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="editing.html#targets">D.1. Make targets</a></span></dt>
<dt><span class="sect1"><a href="editing.html#procedure">D.2. Procedure</a></span></dt>
</dl>
</div>
<p>This section contains information on editing the pkgsrc
	guide itself.</p>
<div class="sect1" title="D.1. Make targets">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="targets"></a>D.1. Make targets</h2></div></div></div>
<p>The pkgsrc guide's source code is stored in
	<code class="filename">pkgsrc/doc/guide/files</code>, and several files
	are created from it:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="filename">pkgsrc/doc/pkgsrc.txt</code></p></li>
<li class="listitem"><p><code class="filename">pkgsrc/doc/pkgsrc.html</code></p></li>
<li class="listitem"><p><a class="ulink" href="http://www.NetBSD.org/docs/pkgsrc/" target="_top">http://www.NetBSD.org/docs/pkgsrc/</a></p></li>
<li class="listitem"><p><a class="ulink" href="http://www.NetBSD.org/docs/pkgsrc/pkgsrc.pdf" target="_top">http://www.NetBSD.org/docs/pkgsrc/pkgsrc.pdf</a>:
	The PDF version of the pkgsrc guide.</p></li>
<li class="listitem"><p><a class="ulink" href="http://www.NetBSD.org/docs/pkgsrc/pkgsrc.ps" target="_top">http://www.NetBSD.org/docs/pkgsrc/pkgsrc.ps</a>:
	PostScript version of the pkgsrc guide.</p></li>
</ul></div>
</div>
<div class="sect1" title="D.2. Procedure">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="procedure"></a>D.2. Procedure</h2></div></div></div>
<p>The procedure to edit the pkgsrc guide is:</p>
<div class="procedure"><ol class="procedure" type="1">
<li class="step" title="Step 1"><p>Make sure you have the packages needed to
	regenerate the pkgsrc guide (and other XML-based NetBSD
	documentation) installed. These are <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-doc/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-doc</code></a> for creating the
	ASCII and HTML versions, and <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-doc-print/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-doc-print</code></a> for the
	PostScript and PDF versions. You will need both packages
	installed, to make sure documentation is consistent across all
	formats.</p></li>
<li class="step" title="Step 2"><p>Run <span class="command"><strong>cd doc/guide</strong></span> to get to the
	right directory. All further steps will take place
	here.</p></li>
<li class="step" title="Step 3"><p>Edit the XML file(s) in
	<code class="filename">files/</code>.</p></li>
<li class="step" title="Step 4"><p>Run <span class="command"><strong>bmake</strong></span> to check the pkgsrc
	guide for valid XML and to build the final output files. If you
	get any errors at this stage, you can just edit the files, as
	there are only symbolic links in the working directory, pointing
	to the files in <code class="filename">files/</code>.</p></li>
<li class="step" title="Step 5"><p><span class="command"><strong>(cd files &amp;&amp; cvs
	commit)</strong></span></p></li>
<li class="step" title="Step 6"><p>Run <span class="command"><strong>bmake clean &amp;&amp; bmake</strong></span> to
	regenerate the output files with the proper RCS
	Ids.</p></li>
<li class="step" title="Step 7">
<p>Run <span class="command"><strong>bmake regen</strong></span> to install and
	commit the files in both <code class="filename">pkgsrc/doc</code> and
	<code class="filename">htdocs</code>.</p>
<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>If you have added, removed or renamed some chapters,
	you need to synchronize them using <span class="command"><strong>cvs add</strong></span> or
	<span class="command"><strong>cvs delete</strong></span> in the htdocs
	directory.</p>
</div>
</li>
</ol></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ftp-layout.html">Prev</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> </td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Appendix C. Directory layout of the pkgsrc FTP server </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> </td>
</tr>
</table>
</div>
</body>
</html>
