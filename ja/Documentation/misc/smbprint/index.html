<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>

<!-- DO NOT EDIT THIS FILE. EDIT 'index.list' AND RUN 'make' -->

<!-- Copyright (c) 1994-2004
        The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@jp.NetBSD.org">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<title>Printing to a remote SMB printer from NetBSD</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<table><tr><td>
    <a href="../../../Misc/disclaimer.html#bsd-daemon"><img
     align="middle" src="../../../../images/BSD-daemon.jpg" origlink="../../../images/BSD-daemon.jpg" border="0"
     width=146 height=129 alt="BSD daemon"></a>
  </td><td align=center>
    <h1>NetBSD ドキュメンテーション:</h1>
    <h1>NetBSD からリモート SMB プリンターへの印刷</h1>
</td></tr></table>
<p>

NetBSD マシンから、MS Windows マシン(あるいは、プリンターを共有するために 
SMB を使用しているマシン)に接続されたプリンターへ印刷する方法

<h2><a name="top">NetBSD からリモート SMB プリンターへの印刷</a></h2>
<ul>
<li>
<a href="#introduction">概要</a></li>
<li>
<a href="#prerequisites">事前準備</a></li>
<li>
<a href="#setting-up">samba を使ったリモート印刷のための設定</a></li>
</ul>


<hr>
<h2>NetBSD からリモート SMB プリンターへの印刷</h2><hr>
<p><h3>
<a name="introduction">概要</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
今から説明する設定は、ポストスクリプトドキュメントを、NetBSD マシンから 
MS Windows PC に接続された HP Laserjet 4L で印刷するために、数年間使われ
ているものです。この設定は、1) GhostScript を使い、PS 出力を 非 PS プリ
ンター(この場合は HP-PCL)が理解できる形式に変換し、2) /etc/printcap を
設定し、lpr で印刷したものを SMB を話すプリンターへ送信する例です。

</dd></dl>
<p><h3>
<a name="prerequisites">事前準備</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
まだ準備が完了していなければ、以下の手順を、NetBSD からリモート SMB 
プリンターに印刷するための設定をおこなう前に実行しておいてください。
<p>
<ol>
<li><a href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/net/samba/README.html">samba</a> パッケージのインストール
<p>
<li>もし、ポストスクリプトでないプリンターでポストスクリプトファイル
(つまり、アプリケーションがポストスクリプトを出力するという事です)を
印刷したい場合、<a href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/print/ghostscript/README.html">ghostscript</a> パッケージをインストール
してください。
</ol>

</dd></dl>
<p><h3>
<a name="setting-up">samba を使ったリモート印刷のための設定</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
以下の手順で、プリンター共有のために samba を使い、NetBSD からリモート
プリンターへ印刷できるようになります。
<p>
<ol>
<li>ファイル 「<A HREF="smbprint">smbprint</A>」を /usr/local/bin に置き、
実行パーミッションを設定してください。
<p>
<li>リモートプリンター毎に、printcap のエントリーを作成してください。ここ
にあるファイル「<A HREF="printcap">printcap</A>」の例が参考になるでしょう。
<p>
<li>リモートプリンター毎に、/etc/lpd/PRINTERNAME ディレクトリーを作成し、
そこに config ファイルを置いてください。ここにあるファイル「<A HREF="config">
config</A>」が参考になるでしょう。
<p>
<li>printcap のエントリーで指定したスプールディレクトリーを作成して
ください。
<p>
<li>リモートマシン上のプリンターに接続できるかどうか、手動で確認して
ください:
<p><pre>
	smbclient //machinename/printername
</pre><p>
もし、smb: \&gt; プロンプトが表示されれば、たぶん大丈夫です。もし、表示
されない場合は、/usr/local/bin/smbprint の中の smbclient コマンドの引数
に、「-I IPアドレス」を追加する必要があります。できれば、nmblookup を
使ってリモートマシンの SMB 名から IP アドレスを求める方法を使うことを
お勧めします。そうすれば、アドレスをハードコードしなくてすみます(ハード
コードすると、スクリプトはある一台のプリンター専用になってしまいます)。
<p>
<li>何か印刷してみてください。もし、config ファイルの中で gs デバイスを
指定している場合は、lpr で PostScript ファイルを印刷 <i> しなければ
ならない </i> 事を覚えておいてください。a2ps のようなプログラムの出力を
パイプで lpr に渡すか、Ghostscript のディストリビューションに含まれる
サンプルを印刷するとよいでしょう。
<p>
<li>printcap の中の二つの異なるエントリーを指定することができる事に注意
してください。ひとつは Ghostscript で変換され、もうひとつは 変換なしです
(これらの config ファイルは異なるディレクトリーにおいて、同じ「server=」
オプション、異なる「device=」オプションを使用してください)です。これに
より、プリンターのネイティブ言語(例えば PCL)や、必要なら単なる ASCII 
を送信することができ、かつ PostScript を出力するプログラムのための
デバイスも使用することができます。
</ol>

</dd></dl>
<hr>

<a href="../"><em>NetBSD ドキュメンテーション: Miscellaneous</em>にもどる</a>
<hr>

<table width="100%"><tr><td>
<table border="0" summary="Footer navigation"><tr>
<td class="foothome"><span class="foothome"><a href="../../../"><img src="../../../../images/NetBSD-flag.png" origlink="../../../images/NetBSD-flag.png" alt="" border="0" width="90" height="90"></a></span></td>
<td class="foothome">
<span class="foothome"><a href="../../../">ホームページ</a></span><br>
</td>
</tr></table>
</td><td>
<table border="0" summary="Footer navigation"><tr>
<td class="foothome"><span class="foothome"><a href="../../../Documentation/"><img src="../../../../images/NetBSD-flag.png" origlink="../../../images/NetBSD-flag.png" alt="" border="0" width="90" height="90"></a></span></td>
<td class="foothome">
<span class="foothome"><a href="../../../Documentation/">Documentation top level</a></span><br>
</td>
</tr></table>

</td></tr></table>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@jp.NetBSD.org">日本語:
       www@jp.NetBSD.org</a>)<br>
  $NetBSD: index.html,v 1.11 2005/02/07 16:46:06 kano Exp $<br>
  <!-- based on english translation: -->
  <!-- NetBSD: index.list,v 1.9 2004/08/28 16:24:19 hubertf Exp   -->
  <a href="../../../Misc/disclaimer.html">Copyright &copy; 1994-2004
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
