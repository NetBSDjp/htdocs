<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 1994-2002
        The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<link rel="shortcut icon" href="../../../favicon.ico" origlink="/favicon.ico" type="image/x-icon">
<title>GPRS, CDPD HowTo</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<HEADING>GPRS、 CDPD を使った NetBSD ネットワーキング

<LIST>

<ENTRY>intro はじめに

GPRS/CDPD では、
カードは純技術的にはモデムですが、普通の感覚ではモデムにはは見えないでしょう。
たとえば、カードは PSTN 電話番号をダイアルしたり、キャリアーを受け取ったり、
速度をネゴシエートしたり、シリアルデータを前後に渡したりしません。
<p>

カードはセルラーのパケットを使ってセルラーの基地局と喋ります。このパケットに
IP データグラムが含まれており、基地局はこのデータグラムをインターネットへ
送ります。クライアントは基地局に 'ppp' を喋りません。
クライアントはカードに対してだけ ppp で喋ります。カードは ppp
からパケットを抽出して CDPD または GPRS パケットに包み直し、
アンテナから基地局へ送出します。カードは、クライアントに対しては、
クライアントのオペレーティングシステムのドライバーの設定が容易になるように、
PPP インターフェースを提供しています。ご覧のとおり、単に設定すればいいだけで、
NetBSD ユーティリティーを作り直す必要はありません。
<p>

GPRS の場合、モデムは (私が思うに) 5 つのプロバイダー設定を持ちます。
それぞれの設定を、あなたがお使いのサービスプロバイダー用に設定します。
そのために、
"AT" コマンドを使って指定するパラメーターがあります。
<p>

CDPD でも AT コマンドを使って設定しますが、こちらは各プロバイダーに対して
ひとつの設定があるだけです。
<p>

'kermit' は、 (モデムをメーカから受け取った後の) 最初の AT 設定コマンドを
モデムに送るために使うことができます。一旦モデムを設定してしまえば、
再度 'kermit' を使う必要はありません。配布に含まれているので 'tip'
を使うこともできますが、設定方法や使用方法を文書で説明するのは
こちらのほうが難しいでしょう。
モデム自体の設定については、この文書の守備範囲外ですので、
お使いのベンダーのドキュメンテーションを確認してください。
GPRS などで、プロバイダーが顧客向けにカードをあらかじめ設定したり、
カードに早見表を附属させることが可能です。おそらく、携帯電話と同様で、
プロバイダーからの購入時に設定してもらえるでしょう。
<p>

いずれにせよ、 PPP 開始用のコマンドは機種特有です。
<p>


<ENTRY>gprs General Packet Radio Service (GPRS) カードを使う

NovatelWireless GPRS ワイヤレスデータカードを使うためには、まず
カードのメーカーとプロバイダーの設定に応じてカードを設定する必要があります。
お使いのプロバイダーに連絡を取ってください。
テスト済の GPRS カードとしては NovatelWireless Merlin G100 と
NovatelWireless Merlin G201 があります。
<p>

それが済んだら、いくつかファイルを編集する必要があります。以下のとおりです:
<p>

<dl>
<dt> <tt>/etc/ppp/options.gprs</tt>:
<dd>
<pre>
/dev/tty03
115200
defaultroute
ipcp-accept-local
ipcp-accept-remote
noauth
novj
connect 'chat -v -f chatscript.gprs'
user dummy
usepeerdns
mru 1500
mtu 1500
</pre>
</dd></dt>

<dt> <tt>/etc/ppp/chatscript.gprs</tt>:
<dd>
<pre>
ABORT BUSY ABORT 'NO CARRIER' ABORT ERROR '' AT OK 'ATDT*99#' CONNECT
</pre>
</dd></dt>

<dt> <tt>/etc/ppp/chap-secrets</tt>:
<dd>
<pre>
* * "dummy"
</pre>
</dd></dt>


ファイルの編集後、コマンドラインで以下のようにして始めます:
<p>

<pre>
pppd file /etc/ppp/options.gprs
</pre>

これで、このカード用のデフォルトのプロバイダーとして設定されます。
カードの別のコンフィグスロットに設定された別のプロバイダーに接続するには、
/etc/ppp/chatscript.gprs ファイル中の "ATDT" 文字列を、
NovatelWireless
のドキュメンテーションに従って書き換える必要があります。
<p>

/etc/ppp/options.gprs ファイル中の tty を適切に書き換えてください。
モデム・ com ポート・ IR ポートを内蔵した典型的なラップトップでは、
NovatelWireless モデムは tty03 になります。
<p>

また、 /etc/ppp/chap-secrets に、お使いのプロバイダーでの
あなたのユーザー名とパスワードが書いてあることを確認してください。
<p>

NetBSD での PPP ネットワーキングの使用について、詳細は
<a href="./">ネットワーキングドキュメンテーション</a>を参照してください。
<p>
</dl>


<ENTRY> cdpd Cellular Digital Packet Data (CDPD) カードを使う

NovatelWireless GPRS ワイヤレスデータカードを使うためには、まず
カードのメーカーとプロバイダーの設定に応じてカードを設定する必要があります。
お使いのプロバイダーに連絡を取ってください。
これまでにテスト済のカードは NovatelWireless Merlin CDPD だけです。
<p>

こちらも、いくつかファイルを編集する必要があります。以下のとおりです:

<dl>
<dt> <tt>/etc/ppp/options.cdpd</tt>:
<dd>
<pre>
/dev/tty03
115200
defaultroute
ipcp-accept-local
ipcp-accept-remote
noipdefault
novj
noauth
connect 'chat -v -f /etc/ppp/chatscript.cdpd'
mru 1500
mtu 1500
</pre>
</dd></dt>

<dt> <tt>/etc/ppp/chatscript.cdpd</tt>:
<dd>
<pre>
ABORT BUSY ABORT 'NO CARRIER' ABORT ERROR '' AT OK 'AT\\APPP' CONNECT
</pre>
</dd></dt>


ファイルの編集後、コマンドラインで以下のようにして始めます:
<p>

<pre>
pppd file /etc/ppp/options.cdpd
</pre>

/etc/ppp/options.cdpd ファイル中の tty を適切に書き換えてください。
モデム・ com ポート・ IR ポートを内蔵した典型的なラップトップでは、
NovatelWireless モデムは tty03 になります。
<p>


NetBSD での PPP ネットワーキングの使用について、詳細は
<a href="./">ネットワーキングドキュメンテーション</a>を参照してください。
<p>
</dl>

</LIST>
 
<a href="./"><em>NetBSD ドキュメンテーション: ネットワーク</em>に戻る</a>
<hr>

<DOCLINK>

<hr>
<address>
  <small>
  (連絡先 - <a href="../../../Misc/feedback.html">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: gprs.list,v 1.6 2002/08/18 16:38:10 jschauma Exp $<br>
  <a href="../../../Misc/disclaimer.html">Copyright &copy; 1994-2002
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>
 
</body>
</html>
