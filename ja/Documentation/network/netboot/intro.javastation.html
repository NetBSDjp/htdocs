<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
<!-- Copyright (c) 1998, 1999, 2000
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>Introduction (JavaStation specific), Diskless NetBSD HOW-TO</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<a href="intro.html">Previous</a> |
<a href="dhcpd.html">Next</a> |
<a href="./">Table of Contents</a>

<hr>

<h1>Introduction (Open Firmware-based JavaStation-specific), Diskless
NetBSD HOW-TO</h1>

<h2>Sun Firmware procedures</h2>
<dl><dt><dd>
<big><b>Which JavaStations can netboot</b></big>
<p>

All JavaStations default to booting over a network interface. 
<p>

There are currently two supported JavaStation models, the JavaStation-1
and the JavaStation-10.  Some JavaStation-1 units have OpenBoot PROM 2,
and you should follow the directions in the normal <a
href="intro.sun.html">sparc-specific</a> Diskless NetBSD HOW-TO.  Some
JavaStation-1 and all JavaStation-10 units have Open Firmware.  You should
follow the directions below for these units.
<p>

<big><b>Determining your ethernet hardware address</b></big>
<p>
When you power on your machine, it will print out its MAC address.  If it
claims your ethernet address is <tt>ff:ff:ff:ff:ff:ff</tt>, then your
NVRAM battery is dead.  See the 
<a href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html">Sun
NVRAM/Hostid FAQ</a>.  Your system will not netboot without a working NVRAM.
<p>

<big><b>Obtaining an IP address and downloading the boot loader</b></big>
<p>

Open Firmware-based JavaStations first try to acquire an IP address using
the Dynamic Host Configuration protocol (DHCP) The dhcpd server uses the
ethernet address (MAC) of the client machine to determine its IP address
and a bootloader filename. If this request is successful, Open Firmware
expects to be able to download a second-stage boot program via the Trivial
File Transfer Protocol (TFTP). It will do this by setting up a TFTP
connection to the server that answered the earlier DHCP request, and
asking for the file name returned by the server. The second-stage boot
program then loads the kernel using NFS from the server and path specified
by the DHCP request.

<p>You should use the <tt>bootjs.elf</tt> bootloader for Open Firmware-based
JavaStations, <i>not</i> <tt>boot.net</tt>.
</dd></dt></dl>

<h2>Open Firmware commands</h2>
<dl><dt><dd>
The default boot device is <tt>net</tt>.  You should not even need to enter
the Open Firmware environment to netboot a JavaStation.  If you wish to specify
an alternate NetBSD kernel name (e.g. <tt>netbsd-test</tt>), type at the Open
Firmware prompt:
<pre>0 &gt; <b>boot net netbsd-test</b></pre>
</dd></dl>

<h2>Begin setting things up (suggested order):</h2>
<dl><dt><dd>
Get <tt>bootjs.elf</tt> from the NetBSD/sparc distribution.  This is what
is sent by TFTP.  Copy this file to <tt>/tftpboot</tt>
<p>

<ol>
<li><a href="dhcpd.html"><tt>dhcpd</tt></a>
<li><a href="tftpd.html"><tt>tftpd</tt></a>
<li><a href="nfs.html"><tt>nfs</tt></a>
<li><a href="files.html">client filesystem</a>
<li><a href="finish.html">finishing up</a>
</ol>
</dd></dl>

<hr>

<a href="intro.html">Previous</a> |
<a href="dhcpd.html">Next</a> |
<a href="./">Table of Contents</a>

<hr> 

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../../"><img
        src="../../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a> 
  </td><td>
    <a href="../../../"><img
        src="../../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">Home Page</a>
  </td></tr></table>
</td><td>
  <table><tr><td> 
    <a href="../../../Documentation/"><img
        src="../../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../../Documentation/"><img
        src="../../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">Documentation top level</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  <a href="../../../Misc/feedback.html">(Contact us)</a>
  $NetBSD: intro.javastation.html,v 1.1 2002/03/06 06:19:18 mbw Exp $<br>
  <a href="../../../Misc/disclaimer.html">Copyright &copy;
    1998, 1999, 2000
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
