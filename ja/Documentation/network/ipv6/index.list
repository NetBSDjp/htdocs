<html>
<head>
<!-- Copyright (c) 1998-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>IPv6 Networking FAQ</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<HEADING>NetBSD IPv6 ネットワーキング

このページは作成中ですので、
<a href="http://www.netbsd.org/cgi-bin/feedback.cgi">コメントや提案</a>を歓迎します。

<LIST>
<h2>関連リンク</h2>
<ul>
  <li><a href="http://www.kame.net/">かめプロジェクト</a>,
	現在マージされているIPv6実装のでもと
  <li><a href="http://www.6bone.net/">
	6bone: worldwide IPv6 experimental network</A>
  <li><a href="http://www.freenet6.net/">Freenet6.net</A>
  <li><a href="http://www.ipv6.org/">ipv6.org</A>
  <li><a href="http://faq.v6.wide.ad.jp/">IPv6 FAQs by WIDE project</A>
  <li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/netinet6/IMPLEMENTATION">src/sys/netinet6/IMPLEMENTATION</a>
	実装に関する詳細情報
</ul>

<SECTION>IPv6ネットワーキングFAQ

<ENTRY>getting_started はじめましょう
IPv6は、
1999年6月以降のNetBSD-current、NetBSD 1.5およびそれ以降の
NetBSDの配布にマージされています。
IPv6設定はほとんどIPv4の場合と同じですので、
IPv4ネットワーキングのための説明も参照ください。
<P>

現時点では、IPv6を使うには
<TT>GENERIC.v6</TT>に含まれている設定をカーネル設定ファイルに追加して、
カーネルを再構築しないといけません。
ユーザープログラムは、(可能な限り)IPv6サポートを標準で含んでいますので、
再構築の必要はありません。
<P>

NetBSD 1.4を利用しているなら、
<A HREF="http://www.kame.net/">かめプロジェクト</A>のwebpageを見て
IPv6サポートのためのパッチを入手するとよいでしょう。

<ENTRY>configuration_files  ネットワーク設定ファイル
ネットワークは、テキスト形式の設定ファイルによって設定されます。
ホスト(ルーターでないノード)を自動設定する場合、
以下のファイルのうちいくつかは編集しなくて済みます。
<ul>
  <li>/etc/rc.conf - システムの初期化時に、ネットワークサービスを
	含むシステムサービスを自動的に開始するための設定。
  <li>/etc/hosts - ホスト名とIPv6アドレスの対応を含むことができます。
  <li>/etc/ifconfig.{<em>IF</em>}. - ifconfig(8)を使ったIPv6ネットワークの
	設定をここに含めることができます。
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>router_or_host  このマシンはルーターかホストか?
IPv6では、ルーターとホストは明示的に区別されています。
自分宛でないパケットをフォワードするノードを<EM>ルーター</EM>、
そうでないノードを<EM>ホスト</EM>といいます。
ルーターは手動で設定する必要があります。
ルーターはrtadvd(8)デーモンを使って、サブネットの情報を広告します。
ホストは多くの場合、ネットワークインタフェースを1つしか持っていません
(これは仕様の一部で仮定されています)。
ホストは多くの場合、広告されたサブネットに関する情報をもとに自動設定されます。
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>setup_router  IPv6ルーターの設定
まず、IPv6グローバルアドレスを上流組織から入手すべきでしょう。
手にいれたなら、以下の手順をふんでください。
<ul>
	<li>ネットワークインタフェースの手動設定をrc.conf(8)またはrc.netに
		記述します。
	<li>rc.conf(8)の以下の行を設定します。<br>
<SAMP>
ipv6forwarding="YES"<br>
rtsol="NO"<br>
rtadvd="YES"		rtadvd_flags="sm1 ne2"	# set interfaces to advertise
</SAMP>
	<li>/etc/rtadvd.confを編集して、router advertisementのタイマーを
		微調整してもいいでしょう。
	<li>RIPngを使って経路を広告したければ、
		rc.conf(8)をroute6d(8)を起動するように設定します。
	<li>ルーターを再起動します。
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>setup_host  IPv6ホストの設定
IPv6ルーターがネットワーク上にいるなら、以下の手順をふめばホストの設定が
完了します。
再起動の後、ホストは隣接ルーター上のrtadvd(8)が放送したrouter advertisement
によって自動設定されます。
<ul>
	<li>rc.conf(8)の以下の行を設定します。<br>
<SAMP>
ipv6forwarding="NO"<br>
rtsol="YES"	rtsol_flags="sm1"	# set your interface here
</SAMP>
	<li>ホストを再起動します。
</ul>
<P>

IPv6ルーターがネットワーク上にいない場合、手動設定が必要です。
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>setup_manual  手動設定
ノードを手動設定する場合、以下の2つのプログラムをネットワーク初期化スクリプト
(/etc/netstart)の中で使って設定できます。

<ul>
  <li>ifconfig(8) - ネットワークインタフェースの設定を見たり変更したりする。
  <li>route(8) - 経路表を操作する。
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>naming_a_node  ネットワーク上のノードに名前をつける
文字列のホスト名をIPv6アドレスの数字に変換するには、
/etc/hosts(5)やDNSが使えます。
これはIPv4の場合と同じです。
yp(8)も多分使えると思いますが、著者はIPv6アドレスを解決するのに
yp(8)を使ったことがありません。


<ol>
  <li>/etc/hosts: ノードが少ししかない小規模なネットワークでは、各ノードの
      /etc/hostsにホスト名/IPアドレスの対応を書くとよいでしょう。
      <p>
      <em>/etc/hosts:</em><br>
      <samp>
      fec0::a:b:c:d  host2.mydomain.org.au host2<br>
      </samp>
      <p>
  <li>DNS: ネームサーバー(named(8))を介してアクセスできるゾーンファイルで
	ホスト名の対応を集中管理することもできます
      (DNSの設定や管理について
      <a href="http://www.dns.net/dnsrd/docs/">www.dns.net</a>
      にたくさんのドキュメントがあります)。
      <p>
      <em>正索きゾーンファイルのエントリー</em><br>
      <samp>
      host2  IN AAAA     fec0::a:b:c:d
      </samp>
      <p>
      <em>逆索きゾーンファイルのエントリー</em><br>
      <samp>
      d.0.0.0.c.0.0.0.b.0.0.0.a.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.c.e.f.ip6.int.
	IN PTR   host2.mydomain.org.au.
      </samp>
</ol>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>

<ENTRY>upstream  IPv6上流組織への接続
<A HREF="http://www.6bone.net/">"6bone"</A>という名前のIPv6実験ネットワークに
あなたのマシンを接続することができます。
最も近くの6boneサイトと相談して、IPv6プレフィックスアドレスを
割り当ててもらいましょう。
なお、6boneに接続するには通常固定のIPv4グローバルアドレスが必要です。
<P>

(ISPにダイアルアップ接続しているなどで)固定のIPv4グローバルアドレスがなくても
慌てないでください。
<A HREF="http://www.freenet6.net/">Freenet6</A>に接続できます。
Freenet6はダイアルアップ接続するたびにIPv6ネットワークに再接続できるよう、
webインタフェースを提供しています。
<P>

どちらの場合にも、あなたのIPv6ルーターに、
IPv6-over-IPv4トンネリングインタフェースを設定する必要があります。
gif(4)のマニュアルも参照してください。
<ul>
  <li>gifトンネルの設定: 以下の行をnetstartかrc.localに追加。<br>
      <samp>
      gifconfig gif0 x.x.x.x. y.y.y.y
      </samp>
      <p>
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
	<li><a href="http://www.6bone.net/">6bone</A>
	<li><a href="http://www.freenet6.net/">Freenet6.net</A>
      </ul>
</ul>

<ENTRY>maintenance  管理
<ul>
  <li>監視に便利なツール
      <ul>
        <li>ifconfig(8) - ネットワークインタフェースのパラメーターを設定したり調べたりする。
        <li>route(8) - 経路表を操作する
        <li>ping6(8) - ICMPv6 ECHO_REQUESTパケットをネットワーク上のノードに向けて送る
        <li>traceroute6(8) - パケットがノードに到着するまでの経路を表示
        <li>tcpdump(1) - ネットワークインタフェース上のトラフィックを選択して表示
        <li>netstat(1) - ネットワーク状態の表示
        <li>systat(8) 'systat netstat' - ネットワーク接続を動的に表示
      </ul>
  <li>経路制御デーモン
      <ul>
        <li>route6d(8) - RIPngデーモン、routed(8)に類似
        <li>pim6dd(8) - PIMv6 dense mode マルチキャスト経路制御デーモン
        <li><A HREF="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/net/zebra/README.html">zebra</A>
		- zebra 経路制御デーモン、RIPng, BGP4+とOSPFv6をサポート
      </ul>
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
	<li><a href="http://www.kame.net/">かめプロジェクト</a>
      </ul>
</ul>

<ENTRY>userland  ユーザーアプリケーション
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html">パッケージ</A>
ディレクトリーのうちいくつかはIPv6対応しています。
mk.confの<TT>USE_INET6</TT>の説明を参照。
<P>

IPv6対応した外部のソフトウェアを利用したい場合、
多くの場合IPv6パッチを入手しないといけません。
ネットワークのいろんな場所にIPv6パッチがおかれています。
<ul>
  <li><h3>See also:</h3>
      <ul>
	<li><a href="ftp://ftp.kame.net/pub/kame/misc/">ftp://ftp.kame.net/pub/kame/misc/</a>
	<li><a href="http://www.ipv6.org/">ipv6.org</A>
      </ul>
</ul>

<!-- このドキュメントは更新されておらず、現在の list2html.pl が動作しません。
     したがって、.html を生成できるように最低限の変更をおこないました。-->
<!-- ENDLIST -->
</LIST>

<BASELINKS>

<hr>
<address>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: index.list,v 1.4 1999/07/27 03:22:33 itojun Exp $<br>
  <a href="/Misc/disclaimer.html" origlink="../../../Misc/disclaimer.html">Copyright &copy; 1998-2003
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
