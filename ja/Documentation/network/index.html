<html>
<head>
<!-- Copyright (c) 1998
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>The NetBSD Networks FAQ</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1 align="center">Welcome to Basic NetBSD Networking</h1>

This page is developing, and we welcome any
<a href="../../Misc/feedback.html">comments or suggestions</a>.

<ul>
  <li><a href="#GETTING_STARTED">Getting Started</a>
  <li><a href="#NETWORK_CONFIGURATION_FILES">Network Configuration Files</a>
  <li><a href="#NETWORK_CONFIGURATION_PROGRAMS">Network Configuration Programs</a>
  <li><a href="#ADDING_A_NEW_HOST">Adding a New Host to the Network</a>
  <li><a href="#NAMING_A_NEW_HOST">Naming a New Host on the Network</a>
  <li><a href="#INTERNETWORKING">Inter-networking</a>
  <li><a href="#USING_PPP">Inter-networking with PPP</a>
  <li><a href="#MAINTENANCE">Maintenance</a>
  <li><a href="#SECURITY">Security</a>
  <li><a href="#RUNNING_APPLETALK">Running Appletalk</a>
  <li><a href="#OTHER_LINKS">Other Links</a>
  <p>
  <li><a href="netboot/index.html">HOWTO Netboot a diskless machine</a>
  </p>
</ul>
<hr>

<!-- Installing an operating system configures the network interface -------------- -->
<h2><a name="GETTING_STARTED">Getting Started</a></h2>
The NetBSD install process includes basic network configuration, which
implements a standard workstation setup. This configuration can be
extended to take advantage of NetBSD's many networking features.
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li><a href="http://www.cis.ohio-state.edu/htbin/rfc/rfc1918.htmlRFC">RFC 1918</a>
            - Address Allocation for Private Internets
      </ul>
</ul>
<hr>

<!-- List the network configuration files ---------------------------------------- -->
<h2><a name="NETWORK_CONFIGURATION_FILES">Network Configuration Files</a></h2>
The network configuration is defined in a set of text
configuration files.
<ul>
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/rc.conf;5">/etc/rc.conf</a>
      - specifies system services , including the the network
      services, to be automatically started at system
      initialisation.
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/hosts;5">/etc/hosts</a>
      - the most basic hostname/IP map. 
  <li>/etc/myname - the fully qualified hostname.
  <li>/etc/ifconfig.{<em>IF</em>}. - the definition of
      network interface <em>IF</em>, used by
      <em>/etc/netstart</em> at system initialisation, to configure
     a network interface.
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/ifaliases;5">/etc/ifaliases</a>
      - a single interface can be aliased to more
      than one IP number. The aliases are specified here, and used by
      <em>/etc/netstart</em> at system initialisation.
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- Network configuration programs ---------------------------------------- -->
<h2><a name="NETWORK_CONFIGURATION_PROGRAMS">Network Configuration Programs</a></h2>

Two important network configuration programs are used in the network startup script
(/etc/netstart), and can be used to manually configure an active network.

<ul>
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/ifconfig;8">ifconfig(8)</a>
      - change or view the charactistics of a network interface.
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/route;8">route(8)</a>
      - manipulate the network routing tables.
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- Adding a new host to the network ---------------------------------------- -->
<h2><a name="ADDING_A_NEW_HOST">Adding a New Host to the Network</a></h2>

The minimum sowftare requirement for a host to be added to a network
is a configured interface with an address on the local network. If
you provide network information during the NetBSD installation
process, the new host can be immediately connected to the network and
accessed by its IP number.
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- Name services ---------------------------------------------------------- -->
<h2><a name="NAMING_A_NEW_HOST">Naming a New Host on the Network</a></h2>

To allow access by hostname as well as by IP number, the new hostname
and its IP number are added to the network configuration files. There
are a number of ways to manage this;

<ol>
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/hosts;5">/etc/hosts</a>:
      For small networks of a few hosts, the
      hostname/IP maps can be manually duplicated in the /etc/hosts
      files of each host.
      <p>
      <em>/etc/hosts:</em><br>
      <samp>
      192.168.1.2  host2.mydomain.org.au host2<br>
      </samp>
      <p>
  <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/yp;8">yp</a>
       enables the /etc/hosts files on the network to be
      automatically
      synchronised (along with other configuration files).
  <li>DNS: The hostname maps can be centralised into zone-files which
      are accessed by the name-server,
      <a href="http://www.flame.org/cgi-bin/uncgi/hman/named;8">named</a>. 
      (there are many documents at
      <a href="http://www.dns.net/dnsrd/docs/">www.dns.net</a>
      dealing with setting up and maintaining DNS files).
      <p>
      <em>Forward zone file entry</em><br>
      <samp>
      host2  A     192.168.1.2
      </samp>
      <p>
      <em>Reverse zone file entry</em><br>
      <samp>
      2      PTR   host2.mydomain.org.au.
      </samp>
</ol>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- General Internetworking ---------------------------------------- -->
<h2><a name="INTERNETWORKING">Inter-networking</a></h2>

Connecting your network (which may consist of a single host) to
another network requires that at least one host acts as a gateway between the two
networks. The gateway host has two network interfaces - one
configured for each network.

<ul>
  <li>Create an interface configuration file (/etc/ifconfig.{<em>interface</em>}) 
      for the second ethernet interface.
      <p>
      <em>/etc/ifconfig.we1</em><br>
      <samp>
      192.168.2.30 netmask 0xffffff00 media 10base2/BNC
      </samp>
      <p>
  <li>reboot your computer to activate the new interface.
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- Using PPP ---------------------------------------- -->
<h2><a name="USING_PPP">Inter-networking with PPP</a></h2>

A special type of network interface can be created on a serial port (with
or without a modem attached) using
<a href="http://www.flame.org/cgi-bin/uncgi/hman/pppd;8">pppd</a>.

<p>

There are many ways to setup PPP. One simple method, suitable for
connecting to your ISP is;
<ol>
  <li>Create an peer options file
      <p>
      <em>/etc/ppp/peers/myisp</em><br>
      <samp>
      # Example pppd options <br>
      # Specific for myisp <br>
      /dev/tty01<br>
      local_IP_address:remote_IP_address<br>
      connect '/usr/sbin/chat -v -f /etc/ppp/peers/myisp.chat'<br>
      defaultroute<br>
      persist<br>
      ipparam myisp<br>
      asyncmap 0<br>
      </samp>
      <p>
  <li>Create an device options file
      <p>
      <em>/etc/ppp/options.{ttyname}</em><br>
      <samp>
      # Example pppd options <br>
      # Specific for ttyname <br>
      lock<br>
      crtscts<br>
      57600<br>
      modem<br>
      </samp>
      <p>
  <li>Create an chat file
      <p>
      <em>/etc/ppp/peers/myisp.chat</em><br>
      <samp>
      # Example chat file <br>
      # Specific for myisp<br>
      ABORT BUSY ABORT 'NO CARRIER' ""<br>
      \da\ptz0 OK<br>
      \da\ptdt8887776655 CONNECT<br>
      </samp>
      <p>
  <li>Establish the connection with;
      <p>
      <samp>
      pppd call myisp
      </samp>
      <p>
  <li>Set the variable
      <p>
      <samp>
      ppp_peers="myisp"
      </samp>
      in <a href="http://www.flame.org/cgi-bin/uncgi/hman/rc.conf;5">/etc/rc.conf</a>
      and the connection will be established automatically at boot-time.
</ol>

Unlike an ethernet interface, you do not need to create a
<em>/etc/ifconfig.{interface}</em> file for a PPP interface.

<ul>
  <li><h3>See also:</h3>
      <ul>
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/chat;8">chat</a>
            - Automated conversational script
        <li><a href="http://www.macbsd.com/macbsd/howto/pppnat/">
            How to setup PPP for multiple ISP's, including IP-NAT and DNS setup.</a>
      </ul>
</ul>
<hr>

<!-- Maintenance ---------------------------------------- -->
<h2><a name="MAINTENANCE">Maintenance</a></h2>
<ul>
  <li>Monitoring activity - useful tools
      <ul>
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/ifconfig;8">ifconfig</a>
            - configure and display network interface parameters.
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/route;8">route</a>
            - manipulate the routing tables.
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/ping;8">ping</a>
            - send ICMP ECHO_REQUEST packets to network hosts
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/traceroute;8">traceroute</a>
            - print the route packets take to reach a network host
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/tcpdump;1">tcpdump</a>
            -  selectively view traffic on a network interface
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/netstat;1">netstat</a>
            - show network status
        <li><a href="http://www.flame.org/cgi-bin/uncgi/hman/systat;">systat netstat</a>
            - dynamically display network connections
      </ul>
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>placeholder
      </ul>
</ul>
<hr>

<!-- Security ---------------------------------------- -->
<h2><a name="SECURITY">Security</a></h2>
<ul>
  <li>/etc/hosts.{allow,deny}: The configuration files for
      tcp-wrappers
      (<a href="http://www.flame.org/cgi-bin/uncgi/hman/hosts_access;5">
      hosts_access</a>)
      which is built into the master daemon
      <a href="http://www.flame.org/cgi-bin/uncgi/hman/inetd;8">inetd</a>
</ul>
<ul>
  <li><h3>See also:</h3>
      <ul>
        <li>The <a href="http://www.cert.org/">CERT* Coordination Center</a>
            studies Internet security vulnerabilities.
        <li><a href="http://www.cert.org/tech_tips/root_compromise.html">
            Steps for Recovering from a UNIX Root Compromise</a>
      </ul>
</ul>
<hr>

<!-- Appletalk ---------------------------------------- -->
<h2><a name="RUNNING_APPLETALK">Running Appletalk</a></h2>

NetBSD supports 'netatalk', which enables unix machines to communicate with
appletalk machines over ethernet (but not localtalk). This allows MacOS
machines to read filesystems and print to printers via a NetBSD machine, and
for the NetBSD machine to print to AppleTalk printers.
The necessary source is available on ftp.netbsd.org (or mirrors) in
<a href="ftp://ftp.netbsd.org/pub/NetBSD/misc/netatalk/">
/pub/NetBSD/misc/netatalk</a>.
<hr>

<!-- Other Links ------------------------------ -->
<h2><a name="OTHER_LINKS">Some other links</a></h2>
<ul>
  <li><a href="http://radon.moof.ai.mit.edu/~armenb/ipnat.html">Network
      Address Translation (NAT) FAQ</a>, using
      <a href="http://coombs.anu.edu.au/~avalon/ip-filter.html">IP-Filter</a>.
  <li><a href="http://rfhs8012.fh-regensburg.de/~feyrer/NetBSD/NWF/">
      NetBSD/amiga Guide to Networking FAQ</a>
  <li><a href="http://www.macbsd.com/macbsd/howto/index.html">
      PPP, cross compiling, and other HOW-TOs</a>
  <li><a href="http://world.std.com/~bdc/projects/vaxen/VAX-netboot-HOWTO.html">
      NetBSD/VAX netboot HOWTO</a>
</ul>

<!-- TRAILER ---------------------------------------- -->

<hr>
<table width="100%"><tr>
  <td>
    <table><tr>
      <td>
	<a href="../../index.html">
	<img src="../../images/NetBSD-banner.gif" alt="NetBSD&nbsp;Home"></a>
      </td><td>
	<a href="../../index.html">Home Page</a>
      </td>
    </tr></table>
  </td><td>
    <table><tr>
      <td>
	<a href="../index.html">
	<img src="../../images/NetBSD-banner.gif"
	alt="NetBSD&nbsp;Documentation"></a>
      </td><td>
	<a href="../index.html">Documentation top level</a>
      </td>
    </tr></table>
  </td>
</tr></table>

<hr>
<address>
  www@NetBSD.ORG<br>
  $NetBSD: index.html,v 1.4 1998/10/19 07:30:06 abs Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1998
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
