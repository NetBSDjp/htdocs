<html>
<head>
<!-- Copyright (c) 1997, 1998
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>The NetBSD packages collection</title>
</head>
<body bgcolor="#ffffff" text="#000000">

<h2 align=center><font color="#8080ff">
	The NetBSD packages collection
</font></h2>

<p>
In brief, the NetBSD Packages Collection is a set of software
utilities and libraries which have been ported to NetBSD.
</p>
<p>
The packages collection software can retrieve the software from its
home site, assuming you are connected in some way to the Internet,
verify its integrity, apply any patches, configure the software for
NetBSD, and build it.  Any prerequisite software will also be built
and installed for you.  Installation and de-installation of software
is managed by the packaging utilities.
</p>

<p>
Some of the advantages over getting the software sources or binaries yourself
from their home sites are:
<ul>
<li>The packages have already been setup to compile and install correctly on
your system, so you don't have to worry about porting the software yourself.
<li>The latest versions of a program, and its patches are obtained for you,
and sorted out so that the software works with NetBSD.
<li>It is easy to use, and quick, even over a dialup connection, once you
know how.
<li>You can submit additional software to the packaging system, so that
others can benefit from your porting work.
</ul>
You can either use the precompiled binary packages, or setup 'pkgsrc' to
install and maintain your software.
</P>

<hr>
<h3><font color="#8080ff">Installing Precompiled Binary Packages</font></h3>

A selection of precompiled binary packages for NetBSD 1.3 and later are
available from
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages">/pub/NetBSD/packages/</a>
on
<a href="../../Sites/net.html">NetBSD&nbsp;ftp&nbsp;sites</a>.
<p>
The majority of users will probably find the
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html">browsable
web listing</a> most useful.
<p>
These can be installed either by downloading to a local disk and running
<pre>    pkg_add &lt;package&gt;</pre>
or directly by specifying the full URL as in:
<pre>    pkg_add ftp://ftp.netbsd/org/pub/NetBSD/packages/&lt;os_release&gt;/&lt;arch&gt/&lt;type&gt/&lt;package&gt;</pre>

<p>
Packages are installed by default into <tt>/usr/pkg</tt>. You should ensure
that <tt>/usr/pkg/bin</tt> and <tt>/usr/pkg/sbin</tt> are in your PATH
variable (best set in <tt>/etc/csh.cshrc</tt>).

<hr>
<h3><font color="#8080ff">Setting Up the NetBSD Packages Collection</font></h3>

<ol>
<li><p>
The NetBSD Package Collection is archived weekly, and stored as a tar'ed and
gzip'ed  file on the NetBSD ftp server, and its many mirrors. This 
'<i>package source file</i>' contains the instructions and
information about each piece of software currently in the Packages
Collection. Obtaining this file and installing it on your system will allow
you to easily compile and install and of the software contained in the
collection. You first need to download the Package Collection source file.
Obtain it from the NetBSD site at
<a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/tar_files/pkgsrc.tar.gz">
ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/tar_files/pkgsrc.tar.gz</a>
or a close
<a href="../../Sites/net.html">mirror</a>.
</p></li>
<li><p>
    Once you have downloaded the file onto your system, '<tt>su -</tt>'
    to login as root. Copy the file to the '<i>/usr</i>' directory on your
    system.
</p></li>

<li><p>
    If you have extracted a previous pkgsrc.tar.gz ensure you remove it first:
<pre>
	rm -rf pkgsrc
</pre>
</p></li>
<li><p>
    The file now need to be decompressed and untared into its new home
    (<tt>/usr/pkgsrc</tt>):
<pre>
	tar -xzvpf pkgsrc.tar.gz
</pre>
</p></li>
<li><p>
    When you build a package from the collection it will by default create a new
    directory tree '<i>/usr/pkg/</i>' and install itself there. You can alter
    this behavior, by adding for example '<tt>LOCALBASE=/usr/local</tt>' to
<tt>/etc/mk.conf</tt>.
</p></li>
</ol>

<h3><font color="#8080ff">Using the NetBSD Packages Collection</font></h3>

<ol>
<li><p>
The '<i>/usr/pkgsrc/</i>' directory now contains a set of sub directories,
organised into catagories. You can look in the directories at the
'<i>README</i>' files for help on what each utility/application is.
</p></li>
<li><p>
If you decide you want to install one of the applications, it is very easy.
For example to install the editor called Joe onto your system (Joe is a
small but powerful editor that mimicks other editor such as Wordstar or
Emacs), first change directory as follows:
<pre>
	cd /usr/pkgsrc/editors/joe
</pre>
</p></li>
<li><p>
If you use a dialup connection to gain access to the internet, connect now so
the software source, and any patches can be retrived for you.
</p></li>
<li><p>
Now type
<pre>
	make
</pre>
from within the '<i>/usr/pkgsrc/editors/joe</i>' directory. The sources and
any patches, plus any software that the compilation of the program requires
will now be downloaded to you system. 
</p></li>
<li><p>
Once the software has download, any patches will be applied, then it will be
compiled for you. This may take some time depending on you computer, and
how many other packages the software depends on take to be compiled also.
</p></li>
<li><p>
Once this has completed, and you don't see any errors, you can hangup your
dialup connection (save the phone bill !).
</p></li>
<li><p>
The next stage is to actually install the newly complied program onto your
system. Do this by entering:
<pre>
	make install
</pre>
while you are still in the '<i>/usr/pkgsrc/editors/joe</i>' directory, (or
the directory for whatever it is you are installing). 
</p></li>
<li><p>
Thats it, the software should now be installed and setup for use. You can
enter:
<pre>
	make clean
</pre>
to remove the compiled files, as you shouldn't need them any more. If other
packages where also added to you system (dependancies) to allow your program
to compile, you can tidy these up also with the command:
<pre>
	make clean-depends
</pre>
</p></li>
</ol>

<h3><font color="#8080ff">
	Finding out what is available in the NetBSD Packages Collection
</font></h3>
<p>
The best way to find out what packages are in the collection is to
move to the top-level pkgsrc directory (this will usually be
/usr/pkgsrc), and type "make readme".  This will create a file called
README.html in the top-level pkgsrc directory, and also in all
category and package directories.  You can then see what packages are
available, along with a short (one-line) comment about the function of
the package, and a pointer to a fuller description, by using a browser
like lynx (see pkgsrc/www/lynx) or something like Mozilla
(pkgsrc/www/mozilla), or Communicator. This is also available online
as
</p>
<pre>	<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html">ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html</a>.</pre>
<p>
Another way to find out what packages are in the collection is to
move to the top-level pkgsrc directory and type "make index". This
will create pksrc/INDEX which can be watched via "make print-index | more".
You can also search for particular packages or keywords via
"make search key=&lt;somekeyword&gt;".
</p>

<h3><font color="#8080ff">Other Commands for the NetBSD Packages Collection</font></h3>

<p>
Other useful command to use with the NetBSD Package Collection are shown
below
</p>

<ul>
<li>
<tt>make deinstall</tt> - removes an installed package from your system. The
reverse to the procedure performed above
</li>
<li>
<tt>pkg_info</tt> - shows what packages are installed on your system, as any
that you add are kept track of.
</li>
</ul>

<p>
More detailed and helpful information about the NetBSD Packages Collection
is available from the NetBSD site. A couple of links are shown below:
</p>

<ul>
<li>
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/Packages.txt">
	Complete documentation on the NetBSD Package System</a>
</li>
<li>
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README">
	Welcome to NetBSD Packages Collection</a>
</li>
<li>
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html">
	Web page front end to the NetBSD Packages Collection</a>
</li>
<li>
<a href="../../Changes/pkg-changes.html">
	Changes to the NetBSD Packages Collection</a>
</li>
</ul>

<p align=right>
<font size="-1">Many thanks to <a href="http://www.ewor.demon.co.uk/unix/netbsd/packages.html">Simon Rowe's NetBSD pages</a></font>
</p>

<hr>
<a href="index.html">Back to <em>NetBSD Documentation: Software</em></a>

<hr>
<table width="100%"><tr>
  <td>
    <table><tr>
      <td>
	<a href="../../index.html">
	<img src="../../images/NetBSD-banner.gif" alt="NetBSD&nbsp;Home"></a>
      </td><td>
	<a href="../../index.html">Home Page</a>
      </td>
    </tr></table>
  </td><td>
    <table><tr>
      <td>
	<a href="../index.html">
	<img src="../../images/NetBSD-banner.gif"
	alt="NetBSD&nbsp;Documentation"></a>
      </td><td>
	<a href="../index.html">Documentation top level</a>
      </td>
    </tr></table>
  </td>
</tr></table>

<hr>
<address>
  www@NetBSD.ORG<br>
  $NetBSD: packages.html,v 1.1.1.1 1999/01/08 09:18:55 sakamoto Exp $<br>
  <a href="../Misc/disclaimer.html">Copyright &copy; 1997, 1998
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
