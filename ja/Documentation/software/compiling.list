<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 1994-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<link rel="shortcut icon" href="../../../favicon.ico" origlink="/favicon.ico" type="image/x-icon">
<title>Installing/compiling other software</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<HEADING>他のソフトウェアのコンパイルとインストール

NetBSD 1.3 以降を使っているのであれば、
<a href="packages.html">NetBSD パッケージコレクション</a>にある多くの
ソフトウェアパッケージを使うことを<strong>強く</strong>おすすめします。

<LIST>

<SECTION>ソフトウェアのダウンロードとコンパイル

<ENTRY>java NetBSD で java プログラムを走らせる方法
NetBSD 1.3 以降では、自由に使えるサードパーティー製ソフトウェアを
NetBSD ホストで簡単に構築できるようにした
<a href="packages.html">「パッケージ」</a>コレクションをサポートします。
これの <PKGSRC>lang カテゴリーに <PKGSRC>lang/kaffe や <PKGSRC>lang/jdk
といった java バーチャルマシンが含まれています。

<ENTRY>precompiled_packages コンパイル済パッケージはどこにあるか
NetBSD 1.3 以降では、多くのサードパーティー製ソフトウェアを含む <a
href="packages.html">「パッケージ」</a>コレクションをサポートします。
コンパイル済バイナリーは、
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/">
ftp://ftp.netbsd.org/pub/NetBSD/packages/</a>とミラーサイトから入手できます
(各 NetBSD ポート別のサブディレクトリーに分かれています) 。また、 <a
href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/README.html">
HTML のインデックス</a>も用意してあります。<p>
パッケージのインストールは、 pkg_add(1) で次のいずれかのようにします:
<ul>
<li>パッケージファイルをマシンにコピーしてから、
"<b><tt>pkg_add&nbsp;<i>package.tgz</i></tt></b>"
<li>ftp サイトから直接インストールする。
たとえば、 pine を NetBSD/sparc 1.3 システムにインストールする場合は:
"<b><tt>pkg_add&nbsp;ftp://ftp.netbsd.org/pub/NetBSD/packages/1.3/sparc/All/pine-3.96.tgz</tt></b>"。
</ul>

<ENTRY>packages プログラムのダウンロードと構築の方法
NetBSD 1.3 以降では、自由に使えるサードパーティー製ソフトウェアを
NetBSD ホストで簡単に構築できるようにした
<a href="packages.html">「パッケージ」</a>コレクションをサポートします。
いったんソフトウェアを構築してあれば、 pkg_* コマンドを使って、
インストール、アンインストール、インストール済パッケージのリストの表示、
一行のコメントあるいはより冗長な説明の表示が、簡単にできます。
<p>さまざまなアーキテクチャー用の
<a href="#precompiled_packages">コンパイル済バイナリー</a>も用意してあります。

<ENTRY>unlimit '<b>virtual memory exhausted</b>' と言われてコンパイルに失敗する
csh(1) や <PKGSRC>shells/tcsh を使っている場合は、 "<b><tt>unlimit
datasize</tt></b>" とします。<p>
sh(1)、 ksh(1) や <PKGSRC>shells/bash2 を使っている場合は、
"<b><tt>ulimit datasize</tt></b>" とします。<p>
NetBSD は、リソースの上限をプロセス毎に設定します。現在の設定値は
"<b><tt>limit</tt></b>" すると表示でき、また、シェルによって
"<b><tt>limit&nbsp;<em>resource</em>&nbsp;<em>value</em></tt></b>"
で設定でき、 "<b><tt>unlimit&nbsp;<em>resource</em></tt></b>" または
"<b><tt>ulimit&nbsp;<em>resource</em></tt></b>" (これらはシェルの
組み込みコマンドであり、シェルによって異なります) で制限を外せます。
リソースの制限について、より詳しい情報は、 <b>getrlimit(2)</b> の
マニュアルページにあります。

<ENTRY>sys_errlist コンパイルしようとするといつも <tt>sys_errlist[]</tt> が再定義されるのはなぜ ?
<p>
伝統的な BSD システムでは、一般的に <tt>sys_errlist[]</tt> 配列が
存在することが知られていますが、これがどのインクルードファイルでも
公式には定義されていなかったことに起因します。
そこで、この配列 (システムエラー文字列のリストを含むため、ほとんど共通です)
を使う多くの古いプログラムは、独自に定義をインクルードすることが必要でした。
しかしながら、 NetBSD はこの配列をヘッダーファイルで定義することにし、
他の多くのプログラムの方法のような定義は不要になっているため、
コンフリクトがしばしば起きるのです。
<p>
ヘッダーファイルを変更してしまうと、おそらく多くの新しいプログラムの
コンパイルが中断するので、単にソースファイルの問題の行をコメントアウト
するのが安全です。ほとんどの最近のプログラムは、定義が存在するかどうか調べて、
存在しなければ独自の定義がインクルードされないように設定することが可能です。

<ENTRY>iostreams iostreams を使ったプログラムを g++ でコンパイルすると、エラーが出ます: <tt>/usr/libexec/ld.so: Undefined symbol "_tgetstr" in testprog:</tt> 直す方法は ?

Jason Thorpe (thorpej@nas.nasa.gov) によれば:
<blockquote><pre>
これは libg++ の事実上の不完全なバグです (あー、 NetBSD の共有ライブラリー
実行に際して不完全なバグによって妙な影響が出ているのです) 。

ライブラリーのリストの最後に -ltermcap を追加してください。
</pre></blockquote>

<ENTRY>elf-issue サードパーティー製ソフトウェアが共有ライブラリーを見つけてくれない!

もともと他の Unix 用に書かれたソフトウェアをコンパイルしようとする場合に
しばしば起きる問題は、そのプログラムが共有ライブラリーを見つけられないという
問題です。これは、 NetBSD の <a
href="../elf.html#elf">ELF</a> 実装の思想が原因です。これは既知の問題であって、
<a href="../elf.html#rpath">解決方法</a>があります。
<br><br>もちろん、本当の解決方法は、すべてのソフトウェアを <a
href="packages.html">NetBSD パッケージコレクション</a>を使ってインストール
することです。もしそのソフトウェアがまだ pkgsrc 化されていなければ、
send-pr(1) で報告するか、あなたが自分でパッケージを作ることができます。 <a
href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/Packages.txt">/usr/pkgsrc/Packages.txt</a> (訳註: <a href="http://www.jp.netbsd.org/ja/JP/Documentation/Packages/Packages.txt">日本語訳</a>) に説明とドキュメンテーションがあります。

</LIST>

<a href="./"><em>NetBSD ドキュメンテーション: ソフトウェア</em>に戻る</a>
<hr>

<DOCLINK>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: compiling.list,v 1.16 2003/03/08 19:40:36 grant Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1994-2003
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
