<?xml version="1.0" encoding="ISO-2022-JP"?>
<!DOCTYPE webpage
  PUBLIC "-//Norman Walsh//DTD Website V2.2//EN"
	 "http://docbook.sourceforge.net/release/website/2.2/website.dtd">

<webpage id="ja-pkgsrc-home">
<config param="desc" value="pkgsrc"/>
<config param="cvstag" value="$NetBSD: packages.xml,v 1.15 2003/06/23 07:52:16 grant Exp $"/>
<!-- Based on english version: -->
<!-- NetBSD: packages.xml,v 1.15 2003/06/23 07:52:16 grant Exp   -->
<config param="rcsdate" value="$Date: 2003/06/23 07:52:16 $"/>

<!-- The top part of the html output comes from the pkgsrc-home XSL
     template -->
<pkgsrc-home>

<sect1 id="available-packages">
<title id="available-packages.title">利用可能なパッケージ</title>

<itemizedlist>
  <listitem><ulink url="../../Changes/pkg-changes.html">最近の pkgsrc の変更点</ulink></listitem>
  <listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README.html">
    利用可能なパッケージのカテゴリー別の索引</ulink></listitem>
  <listitem><ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README-all.html">
    すべてのパッケージの完全な一覧</ulink></listitem>
  <listitem><ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README-IPv6.html">
    IPv6 対応パッケージの一覧</ulink></listitem>
</itemizedlist>
</sect1>

<sect1 id="docs">
<title id="docs.title">ドキュメンテーション</title>

<itemizedlist>
  <listitem><ulink
    url="../pkgsrc/">完全な pkgsrc のドキュメンテーション</ulink>
    <!-- ja documentation needs to be converted to DocBook -->
    (<ulink
    url="http://www.jp.NetBSD.org/ja/JP/Documentation/Packages/Packages.txt">日本語版</ulink>)</listitem>
  <listitem><ulink
url="http://man.NetBSD.org/man/packages+7+NetBSD-current">packages(7)</ulink>
    マニュアルページ: pkgsrc への導入です</listitem>
</itemizedlist>
<!-- XXX wildly out of date, leave it out for now
<li><a href="pkg-growth.html">Packages system growth</a>.</li>
-->
</sect1>

<sect1 id="why-pkgsrc">
<title id="why-pkgsrc.title">なぜ pkgsrc なのか?</title>

<para>
pkgsrc が提供する重要な機能は、以下のようなものです
</para>

<itemizedlist>
<listitem>ソフトウェアのソースからの構築のほか、バイナリーパッケージの作成および
  インストールが容易にできるようになります。ソースと最新のパッチを
  マスターサイトかミラーダウンロードサイトから取得し、チェックサムを検証してから、
  あなたのシステムで構築をおこないます。
  バイナリーのみ配布されているソフトウェアも、ネイティブプラットフォームと
  NetBSD でエミュレートされたプラットフォームの双方で利用可能です。</listitem>
<listitem>バイナリー、ライブラリー、マニュアルページ、その他の文書など、
  すべてのパッケージは首尾一貫したディレクトリーツリーにインストールされます。</listitem>
<listitem>パッケージの依存関係は、パッケージ更新時も含め、
  自動的に解決されます。更新の際には、
  さまざまなパッケージの設定ファイルが自動的に処理され、
  ローカルな変更点は保持されます。</listitem>
<listitem>NetBSD と同様、 pkgsrc は移植性を意図して設計されており、
  高い移植性を持つコードでできています。これにより、
  新しいプラットフォームへの移植は、きわめて迅速な開発が可能です。
  この移植性はまた、 pkgsrc を <emphasis>全プラットフォームの間で一貫したもの</emphasis>にしています。</listitem>
<listitem>膨大な数のパッケージに対する、インストール先、
  受け入れ可能なソフトウェアライセンス、国際版の暗号が必要か、
  および構築時オプションは、
  すべて単一の<ulink linkend="mk.conf">設定ファイル</ulink>で管理されます。</listitem>
<listitem>完全なソース (ソフトウェアの配布ファイルは含みません) は、
  BSD ライセンスの下で自由に使用できますので、必要に応じて 
  pkgsrc の拡張や改造ができます。そのままでローカルパッケージやパッチに
  対応しているので、あなたの環境に合わせて設定することができます。</listitem>
</itemizedlist>
</sect1>

<sect1 id="platforms">
<title id="platforms.title">対応プラットフォーム</title>

<para>
pkgsrc には、これらのオペレーティングシステム用の<link linkend="bootstrap"
endterm="bootstrap.title"/>および
<link linkend="binarydist" endterm="binarydist.title"/>の両形態があります。
必要なソースまたはバイナリーを取ってくれば、
すぐに pkgsrc で作業を始めることができます。
</para>

<para>
現在、 pkgsrc は以下のプラットフォームに対応しています。
</para>

<itemizedlist>
  <listitem>NetBSD (もちろん!)</listitem>
  <listitem>Darwin (Mac OS X)</listitem>
  <listitem>FreeBSD</listitem>
  <listitem>IRIX</listitem>
  <listitem>Linux</listitem>
  <listitem>OpenBSD</listitem>
  <listitem>Solaris</listitem>
</itemizedlist>
</sect1>


<sect1 id="getting-started">
<title id="getting-started.title">はじめましょう</title>

<para>
NetBSD を使っている場合は、すぐに pkgsrc を使い始めることができます。
<link linkend="binary" endterm="binary.title"/> まで読み飛ばしてください。
</para>
</sect1>

<sect1 id="binarydist">
<title id="binarydist.title">バイナリー配布</title>
<para>
NetBSD 以外のプラットフォーム用のブートストラップキットを、
ソースとバイナリーの両形態で用意してあります。これは、パッケージ管理ツールおよび、
pkgsrc の使用とパッケージの構築のために必要なツールをまとめたものです。
</para>

<para>
バイナリーキットと初期パッケージセットは、
以下のオペレーティングシステム用のものが利用可能です:
</para>

<table id="binary-kits">
  <title></title>
  <tgroup cols="4">
    <thead>
      <row>
	<entry>プラットフォーム</entry>
	<entry>最新スナップショット</entry>
	<entry>バイナリーキット</entry>
	<entry>バイナリーパッケージ</entry>
      </row>
    </thead>
    <tbody>
      <row>
	<entry>Darwin 5.5/powerpc (Mac OS X 10.1.5)</entry>
	<entry>20021209</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/misc/schmonz/bootstrap-pkgsrc-Darwin-5.5-powerpc-20021209.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Darwin 6.2/powerpc (Mac OS X 10.2.2)</entry>
	<entry>20021219</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-Darwin-6.2-powerpc-20021219.tar.gz">バイナリーキット</ulink></entry>
	<entry><ulink href="ftp://ftp.NetBSD.org/pub/NetBSD/misc/grant/pkgsrc/Darwin/6.2/powerpc/">バイナリーパッケージ</ulink></entry>
      </row>
      <row>
	<entry>Darwin 6.3/powerpc (Mac OS X 10.2.3)</entry>
	<entry>20030412</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-Darwin-6.3-powerpc-20030412.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Debian GNU Linux/i386</entry>
	<entry>20030410</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-Linux-2.4.20-debian-i386-20030410.tar.gz">バイナリーキット</ulink></entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/misc/jschauma/pkgsrc/Linux/i386/">バイナリーパッケージ</ulink></entry>
      </row>
      <row>
	<entry>FreeBSD 3.5/i386</entry>
	<entry>20030411</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-FreeBSD-3.5-STABLE-i386-20030411.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>FreeBSD 4.7/i386</entry>
	<entry>20021211</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-FreeBSD-4.7-RELEASE-i386-20021211.tar.gz">バイナリーキット</ulink></entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/misc/grant/pkgsrc/FreeBSD/4.7-RELEASE/i386/">バイナリーパッケージ</ulink></entry>
      </row>
      <row>
	<entry>FreeBSD 5.0/i386</entry>
	<entry>20030411</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-FreeBSD-5.0-RELEASE-i386-20030411.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>IRIX 6.5 n32-bit ABI</entry>
	<entry>20030410</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-IRIX-6.5-mips-20030410.tar.gz">バイナリーキット</ulink></entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/misc/jschauma/pkgsrc/IRIX/">バイナリーパッケージ</ulink></entry>
      </row>
      <row>
	<entry>IRIX 6.5 64-bit ABI</entry>
	<entry>20030225</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-IRIX64-6.5-mips-20030225.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>OpenBSD 3.2/i386</entry>
	<entry>20030417</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-OpenBSD-3.2-i386-20030417.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Slackware Linux 8.1/i386</entry>
	<entry>20030417</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-Linux-2.4.18-slackware-20030417.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Solaris 8/sparc</entry>
	<entry>20021219</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-SunOS-5.8-sparc-20021219.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Solaris 8/i386</entry>
	<entry>20030330</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-SunOS-5.8-i386-20030330.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
      <row>
	<entry>Solaris 9/sparc</entry>
	<entry>20030417</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-SunOS-5.9-sparc-20030417.tar.gz">バイナリーキット</ulink></entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/misc/grant/pkgsrc/SunOS/5.9/sparc/">バイナリーパッケージ</ulink></entry>
      </row>
      <row>
	<entry>Solaris 9/i386</entry>
	<entry>20030411</entry>
	<entry><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/bootstrap-pkgsrc-SunOS-5.9-i386-20030411.tar.gz">バイナリーキット</ulink></entry>
	<entry></entry>
      </row>
    </tbody>
  </tgroup>
</table>

<para>
お使いのプラットフォーム用のバイナリーキットをダウンロードして、
<filename>/</filename> に展開するだけです。たとえば以下のようにします。
</para>

<screen><prompt>#</prompt> <userinput>cd /</userinput>
<prompt>#</prompt> <userinput>gzip -c -d /tmp/bootstrap-pkgsrc-SunOS-5.9-sparc-20030411.tar.gz \
  | tar -xpf -</userinput></screen>

<para>
もちろん、すべてのバイナリー配布物は、展開前にチェックサムを計算して <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/SUM">SUM</ulink>
または <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc/CKSUM">CKSUM</ulink>
と照合したうえで、内容を確認することをおすすめします。
</para>
</sect1>

<sect1 id="bootstrap">
<title id="bootstrap.title">ソース配布</title>

<para>
<ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/bootstrap-pkgsrc.tar.gz">bootstrap-pkgsrc
の tarball を FTP でダウンロード</ulink>するか、
以下のように AnonCVS で最新のソースをチェックアウトすることができます:
</para>

<screen><prompt>#</prompt> <userinput>cvs checkout -P othersrc/bootstrap-pkgsrc</userinput></screen>

<para>
(AnonCVS の設定については、 <ulink url="../current/#using-anoncvs">NetBSD-current
の追跡</ulink>の説明をご覧ください) 。
</para>

<para>
ソースのダウンロード・展開後、ブートストラップキットのインストールは、
以下のようにするだけの単純なものです:
</para>

<screen><prompt>#</prompt> <userinput>cd othersrc/bootstrap-pkgsrc</userinput>
<prompt>#</prompt> <userinput>./bootstrap</userinput></screen>

<para>
デフォルトでは、 <emphasis>prefix</emphasis> は <filename>/usr/pkg</filename> に、
パッケージデータベースディレクトリーは <filename>/var/db/pkg</filename> になりますが、
これらはコマンドラインで変数を使って変更可能です (利用可能なオプションは、
<command>./bootstrap --help</command> で見られます)。
</para>

<para>
NetBSD 以外のシステムで pkgsrc を使う際には、 NetBSD の make
を実行するために、 <quote>make</quote> ではなく <command>bmake</command>
コマンドを使うことに注意してください。これは pkgsrc
の適切な操作のために必要なのです。 pkgsrc ドキュメンテーション中の
<quote>make</quote> は <quote>bmake</quote> に読み替えてください。
</para>
</sect1>

<sect1 id="binary">
<title id="binary.title">パッケージのインストール</title>

<para>
NetBSD 1.5.x および 1.6 用の
コンパイル済みバイナリーパッケージセレクションは、
<ulink url="../../mirrors/">NetBSD FTP サイト</ulink> の <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/">/pub/NetBSD/packages</ulink>
(訳註:<ulink url="ftp://ftp.jp.NetBSD.org/pub/NetBSD/packages/">日本でのミラー</ulink>)
にて利用できます。
</para>

<para>
大多数のユーザーには、<ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README.html">ブラウズ可能なリスト</ulink> (訳註:<ulink
url="ftp://ftp.jp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README.html"
>日本でのミラー</ulink>)
が最も有用でしょう。
</para>

<para>
パッケージは、他の必要なパッケージと一緒に
手元のディスクにダウンロードして
</para>

<screen><prompt>#</prompt> <userinput>pkg_add &lt;package&gt;</userinput></screen>

<para>
というようにインストールすることができますし、
</para>

<screen><prompt>#</prompt> <userinput>pkg_add ftp://ftp.NetBSD.org/pub/NetBSD/packages/&lt;os_release&gt;/&lt;arch&gt;/&lt;type&gt;/&lt;package&gt;</userinput></screen>

<para>
というように直接 pkg_add に完全なURLを指定して、インストールすることもできます。
他の必要なパッケージは、同じリモートディレクトリーにあれば、
自動的に探してインストールされます。
</para>

<para>
パッケージは、通常 <filename>/usr/pkg</filename> にインストールされます。
パス変数(PATH)に確実に <filename>/usr/pkg/bin</filename> と <filename>/usr/pkg/sbin</filename>
を加えてください(一番の方法は、<filename>/etc/csh.cshrc</filename>で設定することです)。
</para>

</sect1>

<sect1 id="using-pkgsrc">
<title id="using-pkgsrc.title">pkgsrc の使用</title>

<para>
NetBSD パッケージコレクションは、
サードパーティー製プログラムを容易にコンパイルできるようにするための
Makefile 、簡単な説明、パッチで構成されています。
</para>

<para>
pkgsrc をインストールすると、パッケージコレクションに含まれるどのソフトウェアも
容易にコンパイル・インストールできるようになります。
</para>

<para>
pkgsrc の入手方法は、 <ulink
url="../../mirrors/#anoncvs">AnonCVS</ulink> や <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc.tar.gz">FTP</ulink> を始め、いくつかあります:
詳細は、完全版 <ulink url="../pkgsrc/">pkgsrc
ドキュメンテーション</ulink>にあります。
</para>

</sect1>

<sect1 id="source">
<title id="source.title">ソースからのパッケージの構築</title>

<para>
pkgsrc を入手すると、 <filename>/usr/pkgsrc</filename> ディレクトリーには、
カテゴリー別に整理されたパッケージ一式が含まれます。
オンラインでパッケージの索引を見られますし、また、 <filename>/usr/pkgsrc</filename>
ディレクトリーで <command>make readme</command> してローカルで README.html
を作って、 <pkg>www/lynx</pkg> や <pkg>www/phoenix</pkg> などの好みの
web ブラウザーで見られるようにすることもできます。
</para>

<para>
パッケージのインストール先の<emphasis>プレフィックス</emphasis>は、
デフォルトでは <filename>/usr/pkg</filename> です。これを変えたい場合は、
<filename>/etc/mk.conf</filename> で <varname>LOCALBASE</varname>
を設定してください (<link linkend="mk.conf"
endterm="mk.conf.title"/>)。一つのシステム内で複数の
<varname>LOCALBASE</varname> を定義して使い分けるようなことはしないでください
(chroot 環境内は除く)。
</para>

<orderedlist>
<listitem>
<para>
パッケージをインストールするのは非常に簡単です。
例えば、あなたのシステムに Joe というエディター(<pkg>editors/joe</pkg> は、WordstarやEmacs
のようなエディターを真似た、小さいけれどパワフルなエディターです)
をインストールするには、まず次のようにカレントディレクトリーを変更します。
</para>
<screen><prompt>%</prompt> <userinput>cd /usr/pkgsrc/editors/joe</userinput></screen>
</listitem>

<listitem>
<para>
もしダイアルアップ接続によりインターネットにアクセスしているならば、
ソフトウェアソースおよびあらゆるパッチを探して持ってくるために、
この時点で接続してください。
</para>

<para>
<filename>/usr/pkgsrc/distfiles</filename>
に必要なファイルが
すでに存在していれば、インターネットに接続する必要はありません。
CD-ROMなどにdistfilesがある場合には、CD-ROMを <filename>/cdrom</filename> にmountし、
<screen>DISTDIR=/cdrom/pkgsrc/distfiles</screen>
を <filename>/etc/mk.conf</filename>
に加えて、使うことができます。
</para>

<para>
パッケージが他のパッケージ(例えば <pkg>x11/kde3</pkg> など に依存している場合、
ダウンロードとコンパイルを交互に繰り返すことがあります。
最初に必要なすべてのソースを確実にダウンロードするには、
次のコマンドを使用します:
<screen><prompt>%</prompt> <userinput>make fetch-list | sh</userinput></screen>
このコマンドは必要なファイルを取ってきて<filename>/usr/pkgsrc/distfiles</filename>
に保存するためのシェルコマンドを出力、実行します。必要なファイルを手動で
<filename>/usr/pkgsrc/distfiles</filename>
へダウンロードするという方法もあります。
</para>

<para>
ファイルの取得を近くのミラーサイトから行うように設定することができます。
あなたの国向けの <varname>MASTER_SITE_*</varname> の設定例を
<filename>pkgsrc/mk/bsd/pkg.defaults.mk</filename> から
<filename>/etc/mk.conf</filename> にコピーするだけです。
</para>
</listitem>

<listitem>
<para>
そして <filename>/usr/pkgsrc/editors/joe</filename> ディレクトリーにて、
<screen><prompt>%</prompt> <userinput>make</userinput></screen>
を実行します。ソースと、(もしあれば)パッチ、
コンパイルに必要な他のソフトウェアが
あなたのシステムにダウンロードされるでしょう。
</para>
</listitem>

<listitem>
<para>
ソフトウェアがダウンロードされると、パッチが適用された上で、
コンパイルされます。それにかかる時間はあなたのコンピューターによりますし、
そのソフトウェアが依存している他のパッケージの数とそれらのコンパイルに
かかる時間にもよります。
</para>
</listitem>

<listitem>
<para>
次は新たにコンパイルされたプログラムを、
実際にあなたのシステムにインストールします。
<filename>/usr/pkgsrc/editors/joe</filename> ディレクトリーにいる間に
(もしくはインストールのためのディレクトリーで)
<screen><prompt>%</prompt> <userinput>make install</userinput></screen>
と入力してください。
</para>
</listitem>

<listitem>
<para>
そのソフトウェアは今まさにインストールされ、
使用できるようにセットアップされたことになります。
もうこれ以上コンパイル後の作業ファイルは必要とされないので、
<screen><prompt>%</prompt> <userinput>make clean</userinput></screen>
と入力し作業ディレクトリー内のファイルを削除してしまってもかまいません。
もし、プログラムをコンパイルするときに、
依存関係により他のパッケージがコンパイル/インストールされたならば、
それらも次のコマンドにより、きちんと削除することができます。
<screen><prompt>%</prompt> <userinput>make clean-depends</userinput></screen>
</para>
</listitem>
</orderedlist>

</sect1>

<sect1 id="mk.conf">
<title id="mk.conf.title">/etc/mk.conf って何?</title>

<para>
<filename>/etc/mk.conf</filename> はパッケージシステムに対していくらかの変数を定義するのに使えます。
デフォルトでは用意されていませんが、必要な場合に作ることができます。
設定可能な多くの変数は、次のようなものです:
</para>

<itemizedlist>
<listitem>
<varname>LOCALBASE=/local</varname>
<para>
pkgsrc が使用する<emphasis>プレフィックス</emphasis>を定義します。
デフォルトは <filename>/usr/pkg</filename> です。すでに  pkgsrc を使っているシステムでは、
変更しないでください。
</para>

<varname>ACCEPTABLE_LICENSES=non-commercial-use fee-based-commercial-use</varname>
<para>
受け入れ可能なライセンスをパッケージに対して表明します。
</para>
</listitem>

<listitem>
<varname>WRKOBJDIR=/usr/obj/pkg</varname>
<para>
パッケージの展開と構築を <filename>/usr/obj/pkg</filename> で行ないます。
</para>
</listitem>

<listitem>
<varname>PACKAGES=${_PKGSRCDIR}/packages/${OS_VERSION}/${MACHINE_ARCH}</varname>
<para>
バイナリーパッケージを作るときに、それらを
<varname>OS_VERSION</varname> と <varname>MACHINE_ARCH</varname>
別のサブディレクトリーに保存します。
</para>
</listitem>

<listitem>
<varname>USA_RESIDENT=NO</varname>
<para>
<quote>NO</quote>の場合、いくつかのプログラムのライセンス認証の決定に使われます。
<quote>YES</quote>の場合、いくつかのプログラムのライセンス認証の決定に使われます。
</para>
</listitem>

<listitem>
<varname>USE_RSAREF2=NO</varname>
<para>
たとえば <pkg>security/ssh</pkg> で、 RSAREF2 を使うか否か。
</para>
</listitem>

<listitem>
<varname>DEPENDS_TARGET=package</varname>
<para>
依存関係にあるバイナリーパッケージを自動的に構築・保存します。
</para>
</listitem>
</itemizedlist>

<para>
また、
<ulink url="http://cvsweb.NetBSD.org/bsdweb.cgi/~checkout~/pkgsrc/mk/bsd.pkg.defaults.mk">pkgsrc/mk/bsd.pkg.defaults.mk</ulink>
で、 pkgsrc で使われるデフォルト値が与えられます。このファイルは <filename>/etc/mk.conf</filename>
での設定の指針として使えます - このデフォルト値と異なる部分について、
値を設定する必要があるだけです。
</para>
</sect1>

<sect1 id="vulnerabilities">
<title id="vulnerabilities.title">インストール済パッケージの脆弱性チェック</title>
<para>
NetBSD セキュリティーオフィサーとパッケージグループでは、
pkgsrc に含まれる (あるいは含まれていた) パッケージの既知の脆弱性のリストを
保守しています。このリストは、 NetBSD FTP サイトの
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities"/>
から入手できます
</para>

<para>
<pkg>security/audit-packages</pkg> を使うと、
このリストを自動的にダウンロードし、
システムにインストールされているパッケージすべてについて
セキュリティー検証をすることができます。
</para>

<para>
<pkg>security/audit-packages</pkg> は、ふたつの部分からできています。
ひとつは <quote>download-vulnerability-list</quote> で、 NetBSD FTP サイトから
脆弱性のリストをダウンロードするものです。もうひとつは
<quote>audit-packages</quote> で、インストールされているパッケージに脆弱性が
ないかどうか検証するものです。脆弱性のあるパッケージがあった場合、
次のように出力してくれます:
</para>

<screen>Package samba-2.0.9 has a local-root-shell vulnerability, see
http://www.samba.org/samba/whatsnew/macroexploit.html</screen>

<para>
<pkg>security/audit-packages</pkg>
では、
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities">vulnerabilities</ulink>
ファイルを毎日ダウンロードして、さらに、パッケージの検証を
daily security script で行なうように設定することができます。
これについての詳細は、 <pkg>security/audit-packages</pkg> の <ulink
url="http://cvsweb.NetBSD.org/bsdweb.cgi/pkgsrc/security/audit-packages/MESSAGE?rev=HEAD&amp;content-type=text/x-cvsweb-markup">MESSAGE</ulink>
ファイルに書かれています。
</para>
</sect1>

<sect1 id="pkg_versions">
<title id="pkg_versions.title">インストール済パッケージのより新しいバージョンが pkgsrc にあるかどうか調べる</title>
<para>
インストール済パッケージが最新かどうかを確認するには、<pkg>pkgtools/pkglint</pkg>
をインストールして、<command>lintpkgsrc</command> に <quote>-i</quote> を付けて実行します。たとえば以下のようになります。
</para>
<screen><prompt>%</prompt> <userinput>lintpkgsrc -i</userinput>
...
Version mismatch: 'tcsh' 6.09.00 vs 6.10.00</screen>
<para>このようになった場合、パッケージを更新し、そのパッケージに依存しているパッケージをすべて再構築するために、
<command>make update</command> を使うことができます。
</para>
</sect1>

<sect1 id="other_commands">
<title id="other_commands.title">その他のNetBSDパッケージコレクション用コマンド</title>
<para>
このほか、 NetBSD パッケージコレクションを使う上で役に立つコマンドは、
以下のものがあります。
</para>

<itemizedlist>
<listitem>
<command>make deinstall</command>
<para>
システムにインストールされたパッケージを削除します。
上記手順の逆を行います。あらかじめ適切な pkgsrc ディレクトリーに移動してから
実行します。
</para>
</listitem>

<listitem>
<command>pkg_delete</command>
<para>
カレントディレクトリーとは関係なく、
指定した名前のパッケージを削除します。
</para>
</listitem>

<listitem>
<command>pkg_info</command>
<para>
システムにインストールされたパッケージを表示します
(パッケージのインストールによりデータベースに追加されています)。
</para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="pkgsrc_admin">
<title id="pkgsrc_admin.title">pkgsrc メンテナンスツール</title>
<para>
pkgsrc には、 pkgsrc システムのメンテナンスに使うための
追加のツールがたくさんあります。そのなかでもよく使われるものは、
以下のものです:
</para>

<itemizedlist>
<listitem>
<command>cpuflags</command>
<para>
<pkg>devel/cpuflags</pkg> は、お使いの CPU とコンパイラー用にコードを最適化するための
コンパイラーのフラグを考えてくれます。
</para>
</listitem>

<listitem>
<command>dfdisk</command>
<para>
<pkg>pkgtools/dfdisk</pkg> は、 distfile を複数の場所から fetch できる機能を
pkgsrc に追加します。現在のところ、
以下の方法に対応しています: 複数の CD-ROM および FTP/HTTP のネットワーク接続。
</para>
</listitem>

<listitem>
<command>lintpkgsrc</command>
<para>
<pkg>pkgtools/pkglint</pkg> に含まれます。 lintpkgsrc を使って、インストール済のパッケージとローカル
pkgsrc ツリーのバージョンを比較したり、それをもとに
古いバイナリーパッケージや古くなった distfiles を削除したりできます。
</para>
</listitem>

<listitem>
<command>pkgchk</command>
<para>
<pkg>pkgtools/pkg_chk</pkg> は、インストール済のパッケージを、
ローカル pkgsrc ツリーのバージョンや、
ホスト名・アーキテクチャーその他もろもろの変数をもとに
必要なパッケージを列挙できる設定ファイルと比較したりします。
</para>
</listitem>

<listitem>
<command>pkg_comp</command>
<para>
<pkg>pkgtools/pkg_comp</pkg> を使うと、パッケージのコンパイルを chroot された隔離環境内で
行なうことができます。例えば、別バージョンの NetBSD 用パッケージの構築や、
デバッグ用に使え、便利です。
</para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="other">
<title id="other.title">その他の読み物</title>

<itemizedlist>
<listitem><ulink url="pkg-wildcards.html">ワイルドカードと NetBSD
  パッケージコレクション</ulink></listitem>
<listitem><ulink
  url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/README">pkgsrc
  の README</ulink></listitem>
<listitem><ulink url="pkgviews.pdf">Package Views
  の概要を解説した論文</ulink></listitem>
</itemizedlist>
</sect1>

</pkgsrc-home>

</webpage>
