<!-- $NetBSD: chapter.xml,v 1.1 2003/04/07 15:39:42 grant Exp $ -->
<!-- based on english translation: -->
<!-- NetBSD: chapter.xml,v 1.1 2003/04/07 15:39:42 grant Exp   -->

<appendix id="ftp-layout"> <?dbhtml filename="ftp-layout.html"?>
<title>FTPサーバーのパッケージアーカイブのレイアウト</title>

<para>
ftp.netbsd.org上のコンパイル済みのバイナリー・パッケージのレイアウト
</para>

<programlisting>
/pub/NetBSD/packages/
                README
                distfiles/
		pkgsrc -> /pub/NetBSD/NetBSD-current/pkgsrc
                1.6/
                        i386/
                                All/
                                archivers/
                                        foo -> ../All/foo
                                ...
                        m68k/
                                All/
                                archivers/
                                        foo -> ../All/foo
                                ...
                        amiga -> m68k
                        atari -> m68k
                        ...
</programlisting>

<para>
作成:
</para>

<programlisting>
 - cd /usr/pkgsrc ; make install ; make package
 - /usr/pkgsrc/packages を
   ftp://ftp.netbsd.org/pub/NetBSD/packages/\
    `uname -r | sed 's@\.\([0-9]*\)[\._].*@\.\1@'`/`uname -p`
   へアップロードする。
 - 必要ならln -s `uname -m` `uname -p`
</programlisting>

<para>
必要なディスクスペース: 不明
</para>

<para>
NetBSDのリリースバージョン向けのパッケージは、リリースバージョンの番号にあ
わせたmajor.minorという形式の名前のディレクトリーにアップロードします。
"1.5.1"というバージョンのNetBSD向けのパッケージをアップロードするディレクト
リーは、tinyバージョン番号を省いた"1.5"になります。LKMなど、OSバージョンに
強く依存するパッケージについては、major.minor.tinyリリースディレクトリーを
作って、そこに置くことができます。このようなパッケージには、バイナリーパッ
ケージ構築者のために何らかの方法で"OSVERSION_SPECIFIC=yes" 変数をつけてくだ
さい。
</para>

</appendix>
