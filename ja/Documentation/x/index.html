<html>
<head>
<!-- Copyright (c) 1996, 1998
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>NetBSD Documentation: The X Windowing System</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<table><tr><td>
<a href="../../Misc/daemon-copy.html">
<img align="center" src="../../images/BSD-demon.gif" alt="BSD demon"></a>
</td><td align=center>
<h2>NetBSD Documentation:</h2>
<h2>The X Windowing System</h2>
</td></tr></table>
<p>

<h3>Frequently Asked Questions</h3>
<ul>
    <li><a href="http://www.xfree86.org/FAQ/index.html#SectionB">
	XFree86 FAQ</a>
<li><a href="#unable_to_run_x">
	Unable to run X - '<b>xinit: not found</b>'</a>
<li><a href="#startx_fails">
	startx fails -'<b>X connection to: 0.0 broken</b>'</a>
<li><a href="#shared_libraries_and_x">
	X programs fail with '<b>lib<em>XXXX</em>.so.<em>NN</em>: No such file...</b>'</a>
<li><a href="#xconsole">
	Console output (such as from 'su') garbles X display.</a>
<li><a href="#unable_to_locate_xm">
	Compiling X programs fail - <b>unable to locate libXm</b></a>
<li><a href="#unable_to_locate_xpm">
	Compiling X programs fail - <b>unable to locate xpm.h</b></a>
</ul>

<p><hr><h3><a name="unable_to_run_x">
	Unable to run X - '<b>xinit: not found</b>'
</a></h3>
You need /usr/X11R6/bin in your path. As root add
'<b><tt>set path = ( $path /usr/X11R6/bin )</tt></b>' to
<tt>/etc/csh.cshrc</tt>, and start a new shell.

<p><hr><h3><a name="startx_fails">
	startx fails -'<b>X connection to: 0.0 broken</b>'
</a></h3>
To see the error messages in this case, run
<pre>	startx >& ~/x.log</pre>
Then view ~/x.log

<a name="ldconfig_and_x">&nbsp;</a> <!-- XXX Can go away sometime -->
<p><hr><h3><a name="shared_libraries_and_x">
'X programs fail with '<b>lib<em>XXXX</em>.so.<em>NN</em>: No such file...</b>'
</a></h3>
As root, edit <tt>/etc/ld.so.conf</tt> and add the line:
<pre>
    /usr/X11R6/lib
</pre>
while you are there you should probably ensure it also contains:
<pre>
    /usr/pkg/lib
</pre>
<em>(You <b>are</b> using the
<a href="../software/packages.html">NetBSD
packages system</a> for adding additional programs?)</em>.<br>
Then run "<b><tt>ldconfig -v</tt></b>", among the output you should see lines
of the form: 'Adding /usr/X11R6/lib/libXIE.so.6.0'.
<p>
<b>What are shared libraries?</b><br>
On order to save both disk and memory space most NetBSD ports use 'shared
libraries'. This allows one copy of each library (libXmu.so.6.0) to be loaded
into memory for multiple programs (xterm, fvwm2, etc). The standard system
shared libraries live in /usr/lib, but NetBSD needs to be told where to find
any additional libraries (such as those for X applications). To do this
they should be added to '<tt>/etc/ld.so.conf</tt>'.

<p><hr><h3><a name="xconsole">
	Console output (such as from 'su') garbles X display.
</a></h3>
The system is outputting a line to the console indicating something has
happened (such as 'su'). You should really run xconsole or
one 'xterm -C' to capture this console output.
<p>
You may need to ensure your kernel is compiled with the following enabled:
<pre>	options  UCONSOLE  # allow anyone to steal the virtual console</pre>
See <a href="../kernel/index.html#how_to_build_a_kernel">How to build a
kernel</a> for details on how to build your own kernels.

<p><hr><h3><a name="unable_to_locate_xm">
	Compiling X programs fail - unable to locate libXm
</a></h3>
Xm does not come with the standard X11 environment. It is part of 
<a href="http://www.camb.opengroup.org/desktop/motif/">Motif</a>, which
is a commercial graphical user interface.<p>
A freeware implementation of Motif called
<a href="http://www.lesstif.org/">Lesstif</a> is also available.

<p><hr><h3><a name="unable_to_locate_xpm">
	Compiling X programs fail - unable to locate xpm.h
</a></h3>
xpm.h is part of the X PixMap library, used by many programs to allow more
multi (than two) colour icons. It is available as part of the
<a href="../software/packages.html">NetBSD packages collection</a>.

<hr>
<table width="100%"><tr>
  <td>
    <table><tr>
      <td>
	<a href="../../index.html">
	<img src="../../images/NetBSD-banner.gif" alt="NetBSD&nbsp;Home"></a>
      </td><td>
	<a href="../../index.html">Home Page</a>
      </td>
    </tr></table>
  </td><td>
    <table><tr>
      <td>
	<a href="../index.html">
	<img src="../../images/NetBSD-banner.gif"
	alt="NetBSD&nbsp;Documentation"></a>
      </td><td>
	<a href="../index.html">Documentation top level</a>
      </td>
    </tr></table>
  </td>
</tr></table>

<hr>
<address>
  www@NetBSD.ORG<br>
  $NetBSD: index.html,v 1.4 1998/11/05 00:44:06 abs Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1996, 1998
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
