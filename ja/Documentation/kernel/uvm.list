<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 1994-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<link rel="shortcut icon" href="../../../favicon.ico" origlink="/favicon.ico" type="image/x-icon">
<title>NetBSD Documentation: UVM, the new Virtual Memory system</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<HEADING>UVM、新しい仮想メモリーシステム

<LIST>

<hr>
<h2>関連する他のリンク</h2>
<ul>
<li><a href="vfork.html">なぜ伝統的な vfork() を実装したのか</a>
<li><a href="http://www.ccrc.wustl.edu/pub/chuck/tech/uvm/">UVM ウェブページ</a>
<li> Charles D. Cranor の論文、<a href="http://www.ccrc.wustl.edu/pub/chuck/psgz/diss.ps.gz">UVM の設計と実装</a> (270 ページ、gzip された PostScript)
<li><a href="http://www.usenix.org/events/usenix99/full_papers/cranor/">
UVM 仮想メモリーシステム</a> - Charles D. Cranor と Gurudatta による論文
M. Parulkar
</ul>

<SECTION>UVM FAQ

<ENTRY>what-is-uvm UVMとは何ですか?
<strong>UVM</strong> は NetBSD の仮想メモリーシステムの完全な書き換えで、 
その性能はMach VM システムよりも遥かに優れていることが実証されました。
<strong>UVM</strong> はまたページ貸付けのような進んだ機能を提供し、これは
NetBSD のための統合化バッファー・ページキャッシュの開発に用いられてい ます。
詳しい説明は <a href="http://www.ccrc.wustl.edu/pub/chuck/tech/uvm/"> 
UVM ウェブページ </a> を御覧ください。

<ENTRY>who-wrote-uvm 誰がUVMを書いたのですか?
Chuck Cranor が <strong> UVM </strong> を設計して実装しました。
Matthew Green は統合化作業を担当し、swap サブシステムを書きました。
Chuck Silvers は匿名メモリーオブジェクトページャー(これにより共有メモリー
がサポートされます)を書きました。他にもたくさんの開発者がそれぞれのポート
に関わる部分を書き直しました。 Andrew Brown は <strong>UVM</strong> に変更を加え、
<strong><a href="#what-is-top-down">top down</a></strong>メモリー管理を
可能にしました。

<ENTRY>uvm-out-of-memory UVM はメモリー不足をどのようにあつかうか?
UVM は、遅延割り当て(lazy allocation)をおこないます。この事は、プログラム
が仮想メモリーの過剰割り当てが可能である事を意味します。UVM が、完全に
VM が不足している状況と、遅延割り当てされたメモリーの断片へのアクセスを
検知した時、そのプロセスは kill され、システムはそのまま動作し続けます。
ページングシステムで使用するために予約されたわずかなバッファーが存在します。
これにより、フリーメモリーが存在しない時に pagedaemon が動作することが
できます。Chuck Silvers が、これに関するほとんどの作業をおこないました。

<ENTRY>which-ports-use-uvm どのポートが UVM を使っているのですか?
<strong> UVM </strong> は 1.3.X のディストリビューションでは使えませんが、 
1.4 以降では全てのポートで使われるようになります。

<ENTRY>for-what-does-the-u-stand UVM の U って何ですか?
<strong>UVM</strong>は Chuck Cranor が作業していた "U" の文字
("universal" でした)で始まる別のプロジェクトの一部分でした。
しかし、そのプロジェク トはただの UVM に生まれ変わりました。
ですから、"U"はもはや他の何かを意味するものではありません: "UVM"とは
単 に"vm"とは異なった(しかしよく似た)名前です。

<ENTRY>vm-how-big 私のマシンの仮想メモリーのサイズはいくらですか?
UVM では、仮想メモリーのサイズは、物理メモリー(カーネルのオーバーヘッド
をひいた)とすべてのスワップパーティションの合計と等しくなります。つまり、
物理メモリーはページングデバイスによる裏打ちを持つ必要はありません。

<ENTRY>what-is-top-down ``top down'' メモリー割り当てって何ですか?
これは、特にアドレスを指定しない mmap(2) されたメモリー割り当てを、
中間から上方にではなく、スタック直下から割り当て始め、<strong>下方へ向かって
(top down)</strong> 割り当ててゆくように再編するものです。
こうすることで、ヒープの成長分用に確保される領域と、
mmap(2) されたメモリー割り当て用に確保される領域が統合されます。
つまり、ヒープが従来より大きく成長するか、または、プロセスが従来より多数
もしくは大きなオブジェクトを mmap することが可能になったということです。
カーネルは依然として、内部のメモリー割り当てに、従来の ``bottom up''
な仕組みを使うことができます。

<ENTRY>which-ports-use-top-down どのポートが ``top down'' メモリー割り当てを使っているのですか?
<strong>top down</strong> メモリー割り当ての仕組みは、現在、
<b><a href="../../Ports/i386/">i386</a></b> ポートと
PowerPC のポート群でカーネルオプションとして提供されています: 
<b><a href="../../Ports/bebox/">bebox</a></b>、
<b><a href="../../Ports/macppc/">macppc</a></b>、
<b><a href="../../Ports/mvmeppc/">mvmeppc</a></b>、
<b><a href="../../Ports/ofppc/">ofppc</a></b>、
<b><a href="../../Ports/pmppc/">pmppc</a></b>、
<b><a href="../../Ports/prep/">prep</a></b> と
<b><a href="../../Ports/sandpoint/">sandpoint</a></b> です。
いずれ、ほとんどのポートは、無条件に <strong>top down</strong> を使うよう
移行することになるものと思われます。
さらなる情報は、
<b><a href="http://man.netbsd.org/man/options+4+NetBSD-current">options(4)</a></b>
マニュアルページを参照してください。

</LIST>

<a href="./"><em>NetBSD ドキュメンテーション: カーネル</em>にもどる</a>
<hr>

<DOCLINK>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: uvm.list,v 1.8 2003/03/08 19:44:18 grant Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1994-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
