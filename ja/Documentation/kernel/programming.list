<html>
<head>
<!-- Copyright (c) 1998, 1999
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>Kernel programming FAQ</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<HEADING>$(B%+!<%M%k%W%m%0%i%_%s%0(B

$(B8=:_!"$3$N%I%-%e%a%s%H$K$O$=$l$[$IM-MQ$J>pJs$,4^$^$l$F$$$^$;$s!#(B
$(B?M!9$,B?$/$N9`L\$r4s9F$7$F$/$l$l$P!"$b$C$HLr$KN)$D$h$&$K$J$k$G$7$g$&!#(B

<hr>
<h2>$(BB>$N4XO"$9$k%j%s%/(B</h2>
<ul>
<li> bus_dma(9) - NetBSD $(B$N%^%7%sFHN)$J(B DMA $(B%U%l!<%`%o!<%/(B
	(<a href="bus_dma.ps">postscript()</a>)
<li><a href="converting-ethernet-drivers.html">
        $(B@N$N(B BSD $(B$N%$!<%5%M%C%H%I%i%$%P!<$N(B NetBSD-1.2D $(B0J9_$X$N0\?"(B</a>
<li><a href="porting-freebsd-net.html">
        FreeBSD $(B$N%M%C%H%o!<%/%I%i%$%P!<$r(B NetBSD $(B$K0\?"$9$k$?$a$N%a%b(B</a>
</ul>

<LIST>

<SECTION>Misc

<ENTRY>knf KNF $(B$H$O2?$G$9$+(B
KNF $(B$O(B Kernel Normal Form $(B$NN,$G!"(B
<a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/share/misc/style">
/usr/share/misc/style</a> $(B$K5-=R$5$l$F$$$k(B C $(B$N%3!<%G%#%s%0%9%?%$%k$G$9!#(B


<ENTRY>printf $(B%G%P%C%0$N$?$a$N(B printf() $(B$N;H$$J}(B
$(B%+!<%M%k%I%i%$%P!<$N%G%P%C%0MQ$N>pJs$r=PNO$9$k$b$C$H$b4JC1$JJ}K!$O!"(B
printf() $(B$r;H$&$3$H$G$7$g$&!#%+!<%M%k$N(B printf $(B$O(B $(B%3%s%=!<%k$K=PNO(B
$(B$5$l$k$N$G!"B?$/=PNO$7$9$.!"%7%9%F%`$,;H$$$b$N$K$J$i$J$$$h$&$KCm0U(B
$(B$7$J$1$l$P$J$j$^$;$s!#(B

<ENTRY>forcing-ddb $(B6/@)E*$K(B DDB $(B$KMn$H$9(B
$(B%+!<%M%k$N%3%s%U%#%0%U%!%$%k$,(B '<code>options&nbsp;DDB</code>'$(B$r(B
$(B4^$s$G$$$k;v$r3NG'$7$F$/$@$5$$!#(B
$(B%U%!%$%k$K(B'<code>#include&nbsp;"opt_ddb.h"</code>" $(B$r5-=R$7!"(B
'<code>Debugger()</code>' $(B$r;H$C$F$/$@$5$$!#(B


<ENTRY>adding_a_new_driver $(B%+!<%M%k$K?7$7$$%I%i%$%P!<$rDI2C$9$k(B
$(BA4$F$N%I%i%$%P!<$O!"$9$/$J$/$H$b0J2<$NFs$D$N4X?t$rI,MW$H$7$^$9!#(B
<ul>
<li><tt><i>xxx</i>probe()</tt> (NetBSD $(B$,%G%P%$%9$NB8:_$rD4$Y$k;~(B)</li>
<li><code><i>xxx</i>attach()</code> $(B%k!<%A%s$O%G%P%$%9$r@_Dj!"%"%?%C%A$7$^$9!#(B</li>
</ul>
$(B%W%m!<%V$H%"%?%C%A%k!<%A%s$r=q$$$?$i!"(B
<tt>/sys/arch/&lt;your-arch&gt;/&lt;your-arch&gt;/conf.c</tt>.
$(B$K%(%s%H%j!<$rDI2C$7$F$/$@$5$$!#$=$3$K$O0J2<$NFs$D$N%F!<%V%k$,$"$j$^$9!#(B
<ul>
<li><code>cdevsw</code> $(B%-%c%i%/%?%G%P%$%9MQ!#(B</li>
<li><code>bdevsw</code> $(B%V%m%C%/%G%P%$%9MQ(B($(B%V%m%C%/(BI/O $(B$H@oN,%k!<%A%s$H$7$F;HMQ$9$k(B)$(B!#(B</li>
</ul>
$(B$[$H$s$I$N%(%s%H%j!<$O(B <code>cdev_<i>xxx</i>_init()</code> $(B$H$$$&7A<0$H(B
$(B$J$j$^$9!#$3$l$OI8=`E*$J(B Unix $(B$N%G%P%$%9%9%$%C%A%k!<%A%s$N%W%m%H%?%$%W(B
$(B$N$?$a$N%^%/%m$G$9!#(B
<p>
$(B%W%m!<%V$H%"%?%C%A%k!<%A%s$O%V!<%H;~$K$h$P$l$^$9!#(B
$(B%a%8%c!<HV9f$,%F!<%V%k$N%$%s%G%C%/%9$K0lCW$9$k%G%P%$%9%9%Z%7%c%k%U%!%$%k(B
$(B$,%*!<%W%s$5$l$?;~$K!"(B<code>open()</code>$(B!"(B<code>close()</code>$(B!"(B
<code>read()</code>$(B!"(B<code>write()</code> $(B%k!<%A%s$,$h$P$^$9!#(B
$(BNc$($P!"%a%8%c!<HV9f(B18 $(B$N%G%P%$%9$r%*!<%W%s$7$?>l9g!"(B<tt>cdevsw[]/bdevsw</tt>
$(B$NCf$N%G%P%$%9HV9f(B18$(B$N(B "open" $(B%k!<%A%s$,$h$P$l$^$9!#(B
<p>
$(B$[$H$s$I$N%I%i%$%P!<$O%P%98GM-$N%"%?%C%A%3!<%I$H%^%7%sFHN)$N%3%"$KJ,3d(B
$(B$5$l$F$$$^$9!#Nc$($P!"(BPCI lance $(B%$!<%5%M%C%H%I%i%$%P!<$O0J2<$N%U%!%$%k$G(B
$(B9=@.$5$l$F$$$^$9!#(B
<ul>
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/dev/pci/files.pci">/sys/dev/pci/files.pci</a> - $(B%"%?%C%A>pJs(B ('le at pci'$(B$r8+$F$/$@$5$$(B)$(B!#(B
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/dev/pci/if_le_pci.c">/sys/dev/pci/if_le_pci.c</a> - $(B$3$N%I%i%$%P!<$N$?$a$N(BPCI $(B%P%9$N%"%?%C%A$N%3!<%I!#(B
<p>
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/conf/files">/sys/conf/files</a> - MI $(B%3%"$N%"%?%C%A>pJs(B('le:'$(B$r8+$F$/$@$5$$(B)$(B!#(B
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/dev/ic/am7990.c">/sys/dev/ic/am7990.c</a> - MI $(B%I%i%$%P!<!"(B24$(B%S%C%H%"%/%;%9$N%3!<%I!#(B
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/dev/ic/am79990.c">/sys/dev/ic/am79990.c</a> - MI $(B%I%i%$%P!<!"(B24$(B%S%C%H%"%/%;%9$N%3!<%I!#(B
<li><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/dev/ic/lance.c">/sys/dev/ic/lance.c</a> - MI $(B%3%"$N%I%i%$%P!<$N%3!<%I!#(B
</ul>

<ENTRY>adding_a_system_call $(B%7%9%F%`%3!<%k$rDI2C$9$k(B
<tt>syscalls.master</tt> $(B$K%(%s%H%j!<$rDI2C$7!"(Bsyscall $(B%9%?%V$r(B
<tt>/usr/src/lib/libc/sys/Makefile.inc</tt> $(B$NE,Ev$J>l=j$KDI2C$7$F$/$@$5$$!#(B

<ENTRY>accessing_a_kernel_structure_from_userland $(B%f!<%6!<%i%s%I$+$i%+!<%M%k$N9=B$BN$X%"%/%;%9$9$k(B
$(BNI$$Nc$,(B <tt><a 
href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/usr.bin/vmstat/dkstats.c">/usr/src/usr.bin/vmstat/dkstats.c</a></tt> $(B$K$"$j$^$9!#(B
$(B$3$3$G$O%G%#%9%/$NE}7W>pJs$rFI$s$G$$$^$9!#(B

<ENDLIST>

<a href="index.html"><em>NetBSD Documentation: Kernel</em>$(B$KLa$k(B</a>

<BASELINKS>

<hr>
<address>
  <a href="../../Misc/feedback.html">(Contact us)</a>
  $NetBSD: programming.list,v 1.5 1999/09/10 01:01:49 soren Exp $<br>
  <a href="../../../Misc/disclaimer.html">Copyright &copy; 1998, 1999
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
