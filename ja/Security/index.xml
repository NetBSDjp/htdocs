<?xml version="1.0"?>
<!DOCTYPE webpage
  PUBLIC "-//Norman Walsh//DTD Website V2.2//EN"
	 "http://docbook.sourceforge.net/release/website/2.2/website.dtd">

<webpage id="security">
<config param="desc" value="Security and NetBSD"/>
<config param="cvstag" value="$NetBSD: index.xml,v 1.1 2004/01/29 03:19:34 jschauma Exp $"/>
<config param="rcsdate" value="$Date: 2004/01/29 03:19:34 $"/>
<head>
<title>Security and NetBSD</title>
</head>

<para>
The NetBSD Project adopts the same approach to security as it does to the
the rest of the system:  <emphasis>Solutions and not hacks.</emphasis>
Security issues in NetBSD are handled by the
<email><ulink url="mailto:security-officer@NetBSD.org">NetBSD security officer</ulink></email>
and the
<email><ulink url="mailto:security-alert@NetBSD.org">NetBSD security alert team.</ulink></email>
As well as investigating, documenting and updating code in response to newly
reported security issues, the team also performs periodic code audits to search
for and remove potential security problems.
</para>

<para>
Since NetBSD 1.5, NetBSD has integrated Kerberos IV (KTH-KRB),
Kerberos 5 (Heimdal), and ssh. In addition, all services default to
their most secure settings, and insecure services are disabled by
default for new installations. NetBSD also contains full support for
IPSEC for both IPv4 and IPv6.
</para>


<sect1 id="security_advisories">
<title>Security Advisories</title>

<para>
When serious security problems in NetBSD are discovered and corrected,
we issue a security advisory, describing the problem and containing a
pointer to the fix.  
These are announced widely, and are archived on this site.
</para>

<para>
Note that we no longer issue advisories for thirdparty software packages
(pkgsrc).
Instead, an automated mechanism to audit installed binary package
is provided in pkgsrc/security/audit-packages.
We supply
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities">
a machine-parsable database of vulnerable packages</ulink>.
</para>

<sect2 id="recent_advisories">
<title>Recent Advisories</title>

<itemizedlist>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-018.txt.asc">NetBSD-SA2003-018</ulink> DNS negative cache poisoning</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-017.txt.asc">NetBSD-SA2003-017</ulink> OpenSSL multiple vulnerability</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-016.txt.asc">NetBSD-SA2003-016</ulink> Sendmail - another prescan() bug CAN-2003-0694</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-015.txt.asc">NetBSD-SA2003-015</ulink> Remote and local vulnerabilities in XFree86 font libraries</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-014.txt.asc">NetBSD-SA2003-014</ulink> Insufficient argument checking in sysctl(2)</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-013.txt.asc">NetBSD-SA2003-013</ulink> Kernel memory disclosure via ibcs2</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-012.txt.asc">NetBSD-SA2003-012</ulink> Out of bounds memset(0) in sshd</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-011.txt.asc">NetBSD-SA2003-011</ulink> off-by-one error in realpath(3)</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-010.txt.asc">NetBSD-SA2003-010</ulink> remote panic in OSI networking code</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-009.txt.asc">NetBSD-SA2003-009</ulink> sendmail buffer overrun in prescan() address parser</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-008.txt.asc">NetBSD-SA2003-008</ulink> faulty length checks in xdrmem_getbytes</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-007.txt.asc">NetBSD-SA2003-007</ulink> (Another) Encryption weakness in OpenSSL code</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-006.txt.asc">NetBSD-SA2003-006</ulink> Cryptographic weaknesses in Kerberos v4 protocol</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-005.txt.asc">NetBSD-SA2003-005</ulink> RSA timing attack in OpenSSL code</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-004.txt.asc">NetBSD-SA2003-004</ulink> Format string vulnerability in zlib gzprintf()</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-003.txt.asc">NetBSD-SA2003-003</ulink> Buffer Overflow in file(1)</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-002.txt.asc">NetBSD-SA2003-002</ulink> Malformed header Sendmail Vulnerability</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2003-001.txt.asc">NetBSD-SA2003-001</ulink> Encryption weakness in OpenSSL code</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-029.txt.asc">NetBSD-SA2002-029</ulink> named(8) multiple denial of service and remote execution of code</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-028.txt.asc">NetBSD-SA2002-028</ulink> Buffer overrun in getnetbyname/getnetbyaddr</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-027.txt.asc">NetBSD-SA2002-027</ulink> ftpd STAT output non-conformance can deceive firewall devices</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-026.txt.asc">NetBSD-SA2002-026</ulink> buffer overrun in kadmind</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-025.txt.asc">NetBSD-SA2002-025</ulink> trek(6) buffer overrun</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-024.txt.asc">NetBSD-SA2002-024</ulink> IPFilter FTP proxy</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-023.txt.asc">NetBSD-SA2002-023</ulink> sendmail smrsh vulnerability</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-022.txt.asc">NetBSD-SA2002-022</ulink> buffer overrun in pic(1)</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-021.txt.asc">NetBSD-SA2002-021</ulink> rogue vulnerability</listitem>
<listitem><emphasis>NetBSD-SA2002-020 is a pending advisory awaiting pullups.</emphasis></listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-019.txt.asc">NetBSD-SA2002-019</ulink> Buffer overrun in talkd</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-018.txt.asc">NetBSD-SA2002-018</ulink> Multiple security isses with kfd daemon</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-017.txt.asc">NetBSD-SA2002-017</ulink> shutdown(s, SHUT_RD) on TCP socket does not work as intended</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-016.txt.asc">NetBSD-SA2002-016</ulink> Insufficient length check in ESP authentication data</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-015.txt.asc">NetBSD-SA2002-015</ulink> (another) buffer overrun in libc/libresolv DNS resolver</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-014.txt.asc">NetBSD-SA2002-014</ulink> fd_set overrun in mbone tools and pppd</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-013.txt.asc">NetBSD-SA2002-013</ulink> Bug in NFS server code allows remote denial of service</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-012.txt.asc">NetBSD-SA2002-012</ulink> buffer overrun in setlocale</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-011.txt.asc">NetBSD-SA2002-011</ulink> Sun RPC XDR decoder contains buffer overflow</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-010.txt.asc">NetBSD-SA2002-010</ulink> symlink race in pppd</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-009.txt.asc">NetBSD-SA2002-009</ulink> Multiple vulnerabilities in OpenSSL code</listitem>
<listitem><emphasis>NetBSD-SA2002-008 is a pending, non-exploit advisory.</emphasis></listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-007.txt.asc">NetBSD-SA2002-007</ulink> Repeated TIOCSCTTY ioctl can corrupt session hold counts</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-006.txt.asc">NetBSD-SA2002-006</ulink> buffer overrun in libc DNS resolver</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-005.txt.asc">NetBSD-SA2002-005</ulink> OpenSSH protocol version 2 challenge-response authentication</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-004.txt.asc">NetBSD-SA2002-004</ulink> Off-by-one error in openssh session</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-003.txt.asc">NetBSD-SA2002-003</ulink> IPv4 forwarding doesn't consult inbound SPD</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-002.txt.asc">NetBSD-SA2002-002</ulink> gzip buffer overrun with long filename</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-001.txt.asc">NetBSD-SA2002-001</ulink> Close-on-exec, SUID and ptrace(2)</listitem>
<listitem><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2001-018.txt.asc">NetBSD-SA2001-018</ulink> Remote Buffer Overflow Vulnerability in BSD Line Printer Daemon</listitem>
</itemizedlist>

<para>
See the <ulink url="advisory.html">advisory archive</ulink> for a complete list.
</para>
</sect2>
</sect1>

<sect1 id="contacts">
<title>Security Contacts</title>

<para>
The NetBSD Project has two security related contact points:
</para>

<itemizedlist>
<listitem>The <ulink url="../MailingLists/#tech-security">tech-security</ulink>
    mailing list is an open forum for discussing issues related to NetBSD
    security.</listitem>
<listitem>You can directly contact the NetBSD Project about security issues by
    sending email to
    <email>security-alert@NetBSD.org</email>.</listitem>
</itemizedlist>
</sect1>

<sect1 id="reporting">
<title>Reporting a security problem</title>

<para>
To report a security problem in NetBSD, either contact the NetBSD
<email>security-alert@NetBSD.org</email>
team or send a standard NetBSD problem report, using the
<ulink url="../Misc/send-pr.html">send-pr form</ulink>
or the <command>send-pr(1)</command> program on your NetBSD system.
</para>

<para>
Sensitive information should be encrypted using PGP, using the NetBSD
security-officers'
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/PGP/security-officer@netbsd.org.asc">PGP key</ulink>.
Information about PGP can be obtained from
<ulink url="http://www.pgp.com/">Network Associates' PGP site</ulink>.
</para>
</sect1>

<sect1 id="patches">
<title>Security Patches</title>

<para>
All published NetBSD security patches are available on the NetBSD Project's
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/">FTP server</ulink> in
the
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/patches/">security/patches/</ulink>
directory.
</para>

<sect2 id="patch-formal">
<title>Patches for formal releases</title>

<para>
Updates specific to NetBSD
<ulink url="../Releases/formal.html">releases</ulink>
are available here:
</para>

<itemizedlist>
<listitem><ulink url="patches-1.6.1.html">NetBSD 1.6.1</ulink></listitem>
<listitem><ulink url="patches-1.6.html">NetBSD 1.6</ulink></listitem>
<listitem><ulink url="patches-1.5.3.html">NetBSD 1.5.3</ulink></listitem>
<listitem><ulink url="patches-1.5.2.html">NetBSD 1.5.2</ulink></listitem>
<listitem><ulink url="patches-1.5.1.html">NetBSD 1.5.1</ulink></listitem>
<listitem><ulink url="patches-1.5.html">NetBSD 1.5</ulink></listitem>
</itemizedlist>
</sect2>

<sect2 id="patch-current">
<title>Patching NetBSD-current</title>

<para>
We don't release patches or advisories specifically for <ulink
url="../Releases/current.html">NetBSD-current</ulink>, but instead
recommend that you update to a version containing the fixes.  See the
<ulink url="#security_advisories">advisories</ulink> above for the fix dates.
</para>
</sect2>
</sect1>

<sect1 id="pkgsrc">
<title>NetBSD Packages Collection (pkgsrc)</title>

<para>
The <ulink url="../Documentation/software/packages.html">NetBSD Packages
Collection</ulink> provides easy source or binary installation of a large
number of third-party applications.  One should remember that there can
often be bugs in third-party software, and some of these bugs can leave
a machine vulnerable to exploitation.  To cope with this, NetBSD provides
an easy way to audit your installed packages for known vulnerabilities.
</para>

<sect2 id="check-pkgsrc">
<title>Checking for vulnerabilities in installed packages</title>

<para>
The NetBSD Security-Officer and Packages Groups maintain a list of
known security vulnerabilities to packages which are (or have been)
included in pkgsrc.  The list is available from the NetBSD
FTP site at:
</para>

<para>
<blockquote>
<ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities">ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities</ulink>
</blockquote>
</para>

<para>
Through <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/security/audit-packages/README.html">audit-packages</ulink>, this list 
can be downloaded
automatically, and a security audit of all packages installed on a system
can take place.
</para>

<para>
There are two components to <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/security/audit-packages/README.html">audit-packages</ulink>.
The first component, <command>download-vulnerability-list</command>, is for downloading
the list of vulnerabilities from the NetBSD FTP site.  The second
component, <command>audit-packages</command>, checks to see if any of your
installed packages are vulnerable.  If a package is vulnerable, you
will see output similar to the following:
</para>

<para>
<blockquote>
Package samba-2.0.9 has a local-root-shell vulnerability, see
http://www.samba.org/samba/whatsnew/macroexploit.html
</blockquote></para>

<para>
One can set up <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/security/audit-packages/README.html">audit-packages</ulink>
to download the
<command><ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/distfiles/vulnerabilities">vulnerabilities</ulink></command>
file daily, and include a package audit in the daily security script.
Details on this are located in the
<ulink url="http://cvsweb.NetBSD.org/bsdweb.cgi/pkgsrc/security/audit-packages/MESSAGE?rev=HEAD&amp;content-type=text/x-cvsweb-markup">MESSAGE</ulink>
file for <ulink
url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/security/audit-packages/README.html">audit-packages</ulink>.
</para>
</sect2>
</sect1>

<sect1 id="rsaref">
<title>RSAREF buffer overruns</title>

<para>
Those using RSA security related programs from <ulink
url="../Documentation/software/packages.html">the NetBSD package
system</ulink> should check they've installed at least rsaref version 2.0p3 or
later.  In December 1999, there were several buffer overruns discovered
in the RSAREF library.  If you don't have 2.0p3 or later installed, you
can check '<command>pkg_info -R rsaref</command>' for a list of potentially
impacted packages.
</para>
</sect1>

<sect1 id="resources">
<title>Security Resources</title>

<para>
A number of security advisories and other security resources are
available on-line at these sites:
</para>

<itemizedlist>
<listitem><ulink url="advisory.html">The NetBSD Project's Advisory Archive</ulink></listitem>
<listitem><ulink url="http://www.cert.org/">Computer Emergency Response Team</ulink></listitem>
<listitem><ulink url="http://www.auscert.org.au/">Australian Computer Emergency Response Team</ulink></listitem>
<listitem><ulink url="http://www.first.org/">Forum of Incident Response and Security Teams</ulink></listitem>
<listitem><ulink url="http://www.securityfocus.com/">SecurityFocus</ulink></listitem>
<listitem><ulink url="http://www.freebsd.org/security/security.html">The FreeBSD Project Security Guide</ulink></listitem>
</itemizedlist>

<para>
For those interested in using NetBSD in a firewalling capacity,
<ulink url="http://coombs.anu.edu.au/ipfilter/">Darren Reed's IPFilter page</ulink>
has a full description of IPFilter and links to further documentation.
</para>
</sect1>

</webpage>
