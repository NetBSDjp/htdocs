<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/developers/releng/." title="NetBSD 開発者ドキュメンテーション: リリースエンジニアリング">
<link rel="previous" href="../../../ja/developers/releng/." title="NetBSD 開発者ドキュメンテーション: リリースエンジニアリング">
<link rel="next" href="../../../ja/developers/releng/build-release.html" title="NetBSD 開発者ドキュメンテーション: 
リリースおよびスナップショットの構築とパッケージング">
<link rel="last" href="../../../ja/developers/releng/howto-pullup.html" title="CVS pullup を実際に行う方法">
<link rel="stylesheet" href="../../../global.css" type="text/css">

    <title>NetBSD リリースエンジニアリング: pull-up 要求</title>
  </head>
<body class="website"><div class="webpage">
<a name="ja-developers-releng-pullups"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
                  google.load('search', '1', {language : 'en'});
                  google.setOnLoadCallback(function() {
                    var header_customSearchControl = new google.search.CustomSearchControl('006277936787196004968:mbdhrauy1wm');
                    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                    var header_options = new google.search.DrawOptions();
                    header_options.enableSearchboxOnly("http://google.com/cse?cx=006277936787196004968:mbdhrauy1wm");    
                    header_customSearchControl.draw('header-cse-search-form', header_options);
                  }, true);
                </script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD リリースエンジニアリング: pull-up 要求</h1>
<h3 class="title"><a name="list-toc"></a></h3>
<ul>
<li><a href="#general">一般的な情報</a></li>
<li><a href="#requirements">pull-up に必要なこと</a></li>
<li><a href="#examples">よい pull-up 要求の例</a></li>
<li><a href="#security-fixes">セキュリティーの修正に関する pull-up 要求</a></li>
<li><a href="#pkgsrc-releng">pkgsrc releng 特有の事項</a></li>
</ul>
<hr>
<h3 class="title"></h3>
        <h4 class="title">
<a name="general"></a>一般的な情報 (<a href="#list-toc">top</a>)
  </h4>
        <p>リリース枝の pull-up 要求は、
        リリース枝の分岐後に、開発者が (trunk での)
        変更をリリース枝に反映して、
        この変更をその後のパッチリリースに反映するための仕組みです。
        リリース枝への変更を注意深く観察して、品質を保てるようにするため、
        pull-up 要求は、
        私たちリリースエンジニアリングチームに送ってください。</p>
        <p>pull-up 要求は、
        枝ごとに専用の電子メールアドレスに送ってください。</p>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">NetBSD 5 の pull-up は
          <code class="email">&lt;<a class="email" href="mailto:pullup-5">pullup-5</a>&gt;</code>
          </li>
<li class="listitem">NetBSD 4 の pull-up は
          <code class="email">&lt;<a class="email" href="mailto:pullup-4">pullup-4</a>&gt;</code>
          </li>
<li class="listitem">NetBSD pkgsrc の pull-up は
          <code class="email">&lt;<a class="email" href="mailto:pullup-pkgsrc">pullup-pkgsrc</a>&gt;</code>
          </li>
</ul></div>
        <p>リリースエンジニアリングチームの方針に関する問題や、
        一般的な質問は、
        <code class="email">&lt;<a class="email" href="mailto:releng">releng</a>&gt;</code>
        へ送ってくださって結構です。</p>
        <p>個々のリリースに関する問題や懸念事項は、
        各リリース用のメーリングリストへ送ってください。</p>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">NetBSD 5 については
          <code class="email">&lt;<a class="email" href="mailto:releng-5">releng-5</a>&gt;</code>
          </li>
<li class="listitem">NetBSD 4 については
          <code class="email">&lt;<a class="email" href="mailto:releng-4">releng-4</a>&gt;</code>
          </li>
<li class="listitem">NetBSD pkgsrc については
          <code class="email">&lt;<a class="email" href="mailto:releng-pkgsrc">releng-pkgsrc</a>&gt;</code>
          </li>
</ul></div>
        <p>このページでは、pull-up 要求の指針を掲載します。
        ここの説明をご覧になると、pull-up 要求では、
        やることがたくさんあるんだと思われることでしょう。
        ある意味、そういうものです。
        pull-up 要求の提出前には、検証とテストをして、
        何が変わるのかをよく理解しておく必要があります。
        ただし、それは、要求の提出を考えた時点で、もう済んでいるはずです。
        このため、さらに必要な作業は、私たち
        (リリースエンジニアリングチーム) 向けに文書化することだけです。
        pull-up 要求に関する全情報をあなたはすでに知っており、
        その情報を私たちに伝えるのは簡単なのですから、
        私たちにゼロから全情報を作らせる必要はまったくありません。</p>
      
        <h4 class="title">
<a name="requirements"></a>pull-up に必要なこと (<a href="#list-toc">top</a>)
  </h4>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">pull-up 要求は、かならず、
          その変更が最新版リリースにとってふさわしいことを、
          責任をもって確認できる開発者が送る必要があります。</li>
<li class="listitem">pull-up 要求は、リリースエンジニアリングチームに提出する
          <span class="emphasis"><em>前に</em></span>、
          リリース枝でテストをおこなうようにします。
          pull-up 要求の正常性確認は、
          (おこなうこともあるでしょうが)
          リリースエンジニアリングチームの仕事ではありません。</li>
<li class="listitem">複数のリリース枝への pull-up 要求は、
          枝ごとに別の電子メールにして、
          それぞれ適切なアドレス宛に送るようにします。</li>
<li class="listitem">pullup 要求の提出に、再送信
          (バウンスともいう) は使っては<span class="bold"><strong>いけません</strong></span>。
          転送にするか、新規の電子メールを書くか、どちらかにします。</li>
<li class="listitem">pull-up 要求での変更内容は、
          受け入れられた問題解決策とします。
          つまり、変更内容が current NetBSD のソースの変更そのままであり、
          かつ議論が続いているものの場合は、決着がつくまでは
          pull-up 要求を提出してはいけません。</li>
<li class="listitem">複数のファイルの変更を単一の要求でおこなうことができます。
          ただし、各要求は、単一の問題に対するものとします。
          関連性のない要求は、別々のメールにして提出するようにします。
          こうすることで、私たちの仕事の管理がかなり簡単になります。</li>
<li class="listitem">pull-up 要求には、
          以下の情報を含める必要があります。
          <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">その要求によって修正される問題についての説明
            (commit メッセージ用として。
            パッチリリースがおこなわれる場合にはパッチリリースの
            CHANGES ファイル用でもある)。
            この要求によって処理される問題報告の一覧も含めます。</li>
<li class="listitem">修正対象の各ファイルに関して、以下の情報。
            <div class="itemizedlist"><ul class="itemizedlist" type="square">
<li class="listitem">
                <p><code class="email">&lt;<a class="email" href="mailto:source-changes">source-changes</a>&gt;</code> に送られた、
                commit メッセージを含んだ電子メールの
                <span class="bold"><strong>全文</strong></span>のコピー。
                メールがあなたの手元に残っていない場合は、
                メールアーカイブからコピーしてください。このメッセージを、引用符で括ったり字下げしたりしてはいけません。</p>
                <p>複数のリビジョンを pull up するファイルについては、
                <code class="email">&lt;<a class="email" href="mailto:source-changes">source-changes</a>&gt;</code> に送られた、
                commit メッセージを含んだ電子メールそれぞれについて、
                <span class="bold"><strong>全文</strong></span>のコピー。
                指定された各リビジョンでの変更点が、
                リリース枝に pull up されることになります。</p>
                <p><span class="quote">“<span class="quote">リビジョン N にすべてをあわせた更新</span>”</span>
                とか、
                <span class="quote">“<span class="quote">-current にあわせた更新</span>”</span>
                といった要求を提出しないでください。
                こういった要求は、releng が
                (commit メッセージに書くために)
                pull-up がどのリビジョンからを対象としているのか、
                調べなければならず、対処が困難になってしまいます。
                たとえば他のリビジョンがすでに pull-up されていると、
                さらにわかりにくくなってしまいます。
                pull-up 要求をする人は、
                何を pull-up したいかを知っているわけですから、
                要求者本人がこれら必要な情報を用意したほうがいいでしょう。
                さらに後者の例では、
                要求が提出されてから処理されるまでの間に、
                pull-up の対象のファイルに対して、
                他の誰かが (trunk で) 変更を commit する可能性もあります。
                その場合は、十分テストされていない変更まで
                pull-up されてしまうかもしれません。</p>
                <p>RCS ID 以外について、衝突が発生する場合は、
                pull-up 要求は却下され、
                提出しなおすよう求められます。</p>
              </li>
<li class="listitem">
                <p>ソースツリーに適用するためのパッチファイル。
                (そのパッチが、衝突が発生するリビジョン間の
                pull-up をしているだけである場合は、
                前のケースと同様に、当該リビジョンの
                commit 電子メールを含めておきます。)</p>
                <p>パッチファイルは、patch コマンドを使って適用されます。
                パッチの適用に関して特に説明が必要な場合は、
                pull-up 要求にその説明を含めてください。</p>
                <p>何であれ、衝突が発生する場合は、
                pull-up 要求は却下され、
                提出しなおすよう求められます。</p>
              </li>
</ul></div>
            一般的に、すべてのファイルとリビジョンの情報を、
            pull-up 要求の冒頭のあたりに、まとめておくのが最善です。
            何をすればいいかを調べるために、
            巨大なパッチから発掘しなければならないようにしてはいけません。
            さらに、パッチが 2 リビジョン間の差分そのままであって、
            きれいに適用できる場合は、そのことを記しておきます
            (そのようなパッチは、省略します)。</li>
</ul></div>
          </li>
</ul></div>
        <p>以上のように述べましたが、
        リリースエンジニアリングチームは、
        若干異なるものも受け入れるよう、最大限の便宜をはかるようにするというのも、
        また事実です。しかし、リリースサイクルの期間中、
        リリースエンジニアリングチームは並外れて多忙となりますので、
        上述した要件から大きく逸脱するようなことはしないでください。</p>
      
        <h4 class="title">
<a name="examples"></a>よい pull-up 要求の例 (<a href="#list-toc">top</a>)
  </h4>
        <p>よい pull-up 要求の例を、以下に示します。</p>
<pre class="programlisting">
From: Matthias Scheler &lt;tron@NetBSD.org&gt;
To: "NetBSD 1.6 Pullup Requests" &lt;pullup-1-6@NetBSD.org&gt;
Cc: Jun-ichiro itojun Hagino &lt;itojun@NetBSD.org&gt;
Subject: Urgent sendmail security fix

	Hello,

"sendmail" needs a security fix. Please pullup the following two
changes (more instructions below):

--------------------------------------------------------------------------

Module Name:	src
Committed By:	itojun
Date:		Wed Sep 17 14:16:23 UTC 2003

Modified Files:
	src/gnu/dist/sendmail/sendmail: parseaddr.c

Log Message:
fix prescan() bug (potentially remotely exploitable), CAN-2003-0694


To generate a diff of this commit:
cvs rdiff -r1.12 -r1.13 src/gnu/dist/sendmail/sendmail/parseaddr.c

--------------------------------------------------------------------------

Module Name:	src
Committed By:	tron
Date:		Wed Sep 17 20:23:02 UTC 2003

Modified Files:
	src/gnu/dist/sendmail/sendmail: version.c

Log Message:
Bump version number after parse8.359.2.8 patch has been applied.


To generate a diff of this commit:
cvs rdiff -r1.13 -r1.14 src/gnu/dist/sendmail/sendmail/version.c

--------------------------------------------------------------------------

The change to "version.c" will cause a conflict. I've therefore attached
a patch for this file.

	Thanks in advance

</pre>

        <p>以下、説明です。</p>
        <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">subject は、
          その効果や緊急度についての手短な説明となっています。</li>
<li class="listitem">各変更について、
          commit メッセージを含めています。</li>
<li class="listitem">変更を直接適用できないリビジョンについては、
          パッチをつけています。</li>
<li class="listitem">元の (trunk の) 変更を commit した人が、
          pull-up 要求のコピーを受け取っています。</li>
</ul></div>
      
        <h4 class="title">
<a name="security-fixes"></a>セキュリティーの修正に関する pull-up 要求 (<a href="#list-toc">top</a>)
  </h4>
        <p>セキュリティーの修正に関する pull-up 要求では、
        リリースエンジニアリングチームが簡単に識別できるように、
        <span class="emphasis"><em>security</em></span>
        というキーワードを subject 行に含めてください。
        緊急度によっては、一人または複数のリリースエンジニアに、
        チケット番号を直接連絡してもよいでしょう。</p>
      
        <h4 class="title">
<a name="pkgsrc-releng"></a>pkgsrc releng 特有の事項 (<a href="#list-toc">top</a>)
  </h4>
        <p>通常の pullup の手順は、以下のとおりです。
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">セキュリティーの修正だけが pull-up されます</li>
<li class="listitem">プラットフォーム固有の修正も可ですが、
          セキュリティーの修正よりは格が下となります (つまり、
          セキュリティーの修正のほうが高い優先度で
          pull up されるということです)</li>
<li class="listitem">個人的な要望を pull up することはできません</li>
<li class="listitem">疑問がある場合は、
          <code class="email">&lt;<a class="email" href="mailto:pkgsrc-pmc">pkgsrc-pmc</a>&gt;</code> に質問してください
          </li>
</ul></div>
<p>
        </p>
      <hr>
<em><a href="../">NetBSD 開発者ドキュメンテーション</a></em> に戻る</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
