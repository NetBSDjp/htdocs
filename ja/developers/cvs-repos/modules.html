<html>
<head>
<!-- Copyright (c) 1998
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>Top-level modules in the CVS repository</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h2><a name="page-top">CVSレポジトリーのトップレベルモジュール</a></h2>

<h3>レポジトリーのトップレベルモジュール</h3>

NetBSDソース (つまりユーザーに渡されるソース) に関するNetBSD
CVSレポジトリーがあるトップレベルのディレクトリーと内容は以下の通り:

<dl>
  <dt><b>basesrc</b>
  <dd>"base"システムソース。つまり、(ここで挙げられている) CVSレポジトリーの
  	他のディレクトリーにあるものを除く、システムソース ("src") ツリーの
  	コンテンツ。

  <dt><b>cryptosrc-us</b>
  <dd>アメリカ限定の暗号ソフトウェアを含むシステムソースツリーのサブツリー。

  <dt><b>gnusrc</b>
  <dd>システムソースツリーの"gnu" サブツリー。

  <dt><b>pkgsrc</b>
  <dd>NetBSDパッケージコレクション。

  <dt><b>sharesrc</b>
  <dd>システムソースツリーの"share" サブツリー。

  <dt><b>syssrc</b>
  <dd>システムソースツリーの"sys", "usr.sbin/config", "usr.sbin/dbsym" サブツリー。

  <dt><b>xsrc</b> (cvs.fi.netbsd.orgにある)
  <dd>NetBSD Xウィンドウシステムソースツリー。
</dl>

お望みであれば、トップレベルディレクトリーは直接チェックアウトできます
(すなわち、モジュールと同等です)。
これは特に"pkgsrc"や"xsrc"をチェックアウトするときに使われますが、
他のトップレベルディレクトリーにも同じように使われます。
他のトップレベルディレクトリーは、通常のシステムソースツリーであるように見せるため、
多少ソースの配置を変えたモジュールを使ってチェックアウトします。
これらのモジュールは以下の通り:

<dl>
  <dt><b>src-nocrypto</b>
  <dd>NetBSDシステムソースツリーを想定して並べるため、
	"basesrc," "gnusrc," "sharesrc," syssrc" といったトップディレクトリーの
	コンテンツをチェックアウトし、currentディレクトリーのサブディレクトリーである
	"src" へ入れます。

  <dt><b>src</b>
  <dd>"src-nocrypto" 用のエイリアス。

  <dt><b>src-crypto-us</b>
  <dd>"src-nocrypto" モジュールと同じソースをチェックアウトし、
	"src" の"crypto-us" サブディレクトリーとして"cryptosrc-us" ディレクトリーの
	コンテンツを付け加えます。<b>今回はこのモジュールを使わないでください。</b>

  <dt><b>src-crypto-all</b>
  <dd>"src-nocrypto" モジュールと同じソースをチェックアウトして、
	適当に名前が付けられた"src" のサブディレクトリーとして
	全ての暗号ソースを付け加えます (最近では"src-crypto-us"
	モジュールと同じ効果をもっています) 。
	<b>今回はこのモジュールを使わないでください。</b>

  <dt><b>src-domestic</b>
  <dd>"src-nocrypto" モジュールと同じソースをチェックし、
	"src" の"domestic" サブディレクトリーとして"cryptosrc-us" ディレクトリーの
	コンテンツを加えます。
</dl>

<h3>このレポジトリー配置の密接な関係</h3>

<ul>
  <li>ファイルをインポートするときには更なる注意を払わなければいけません。
	src* モジュールにあるファイルは"src" の下に置かれているとして
	チェックアウトされれば見ることもできますが、実際にはレポジトリー内には
	ありません。正しいトップレベルのディレクトリーへコードをインポートしなければ
	いけません (つまり"basesrc" か"gnusrc" です) 。
	複数のトップレベルディレクトリーへ置かれるコードを含むインポートは、
	トップレベルディレクトリーごとにインポートを分けなければいけません。

  <li>src* モジュールでは通常の機能であるCVSの操作が、必ずしも予想される
	ように機能するわけではありません。現段階で問題になっている例です:

      <dl>
	<dt><tt>cvs co -P src</tt> を複数回実行
	<dd>"cvs co -P src" (や他のsrc* モジュールで行う同等のコマンド) を
	  同じディレクトリーで複数回実行すると、きちんと動作しなくなります。
	  この一連のコマンドはソースツリーをチェックアウトし、
	  その後でアップデートするために通常行います。
	  "cvs co -P ..." を何回も使う代わりに最初に"cvs co -P ..." を使ってツリーを
	  チェックアウトし、ツリーの中から"cvs update -Pd" を使ってツリーを
	  アップデートしてください。
      </dl>

    もし他の問題に遭遇したら、このページを更新してください。
</ul>

<hr>
<table width="100%" cols="2" border=0 cellspacing=8 cellpadding=0>
<tr>
  <td width="50%">
    <table><tr>
      <td>
	<a href="../../index.html">
	<img src="../../images/NetBSD-banner.gif" alt=""></a>
      </td><td>
	<a href="../../index.html">
	<img src="../../images/empty.gif"
		alt="NetBSD " border=0>ホームページ</a>
      </td>
    </tr></table>
  </td>
  <td width="50%">
    <table><tr>
      <td>
	<a href="index.html">
	<img src="../../images/NetBSD-banner.gif"
		alt=""></a>
      </td><td>
	<a href="index.html">
	<img src="../../images/empty.gif"
		alt="NetBSD " border=0>CVS レポジトリー問題</a>
      </td>
    </tr></table>
  </td>
</tr></table>

<hr>
<address>
  www@JP.NetBSD.ORG<br>
  $NetBSD: modules.html,v 1.4 1999/09/22 19:32:12 dmcmahill Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1998
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</body>
</html>
