<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/developers/cvs-repos/." title="CVS リポジトリー問題">
<link rel="previous" href="../../../ja/developers/cvs-repos/." title="CVS リポジトリー問題">
<link rel="next" href="../../../ja/developers/cvs-repos/cvs_intro.html" title="NetBSD CVS HOWTO">
<link rel="last" href="../../../ja/developers/cvs-repos/notes.html" title="開発者用 CVS 覚書">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>CVS ブランチにまつわる作業</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-developers-cvs-repos-branch"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
		  google.load('search', '1', {language : 'ja'});
		  google.setOnLoadCallback(function() {
		  var header_customSearchControl = new google.search.CustomSearchControl(
		  '016685087845965994609:5539h4dkepg');

		  header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
		  var header_options = new google.search.DrawOptions();
		  header_options.enableSearchboxOnly("http://google.com/cse?cx=016685087845965994609:5539h4dkepg");
		  header_customSearchControl.draw('header-cse-search-form', header_options);
		  }, true);
		</script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>CVS ブランチにまつわる作業</h1>
<h2 class="title">CVS ブランチにまつわる作業</h2>
<h3 class="title"><a name="cvs-branches-foobar"></a></h3>
<ul>
<li><a href="#about">このファイルについて</a></li>
<li><a href="#cvs-create-branch">ブランチを作成するには</a></li>
<li><a href="#cvs-update-branch">trunk での変更をブランチに反映させるには</a></li>
</ul>
<hr>
<h3 class="title"></h3>
  <h4 class="title">
<a name="about"></a>このファイルについて (<a href="#cvs-branches-foobar">top</a>)
  </h4>

  <p>
<span class="emphasis"><em>Chris Demetriou 曰く:</em></span>
そんなわけで、皆さんは CVS ブランチにまつわる作業をよくするでしょう。
以下に記すのは、私がブランチいじり (作成、更新)
をするときに普通に使うコマンドです。 Jason に頼まれて書いたものです。
</p>

<p>
以下、 ${b} はブランチ名、 ${m} はこのブランチの対象となる
モジュールとします。階層構造内の個々の構成要素を扱いたい方もいるようですが、
ここでは階層構造全体を扱うものとします。
私は、個々の構成要素を扱った経験はほとんどないのです。
</p>

  <h4 class="title">
<a name="cvs-create-branch"></a>ブランチを作成するには (<a href="#cvs-branches-foobar">top</a>)
  </h4>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
    <p>
    分岐させようとしているソース一式に、以下のコマンドでタグを打ちます:
    </p>
<pre class="programlisting">cvs rtag -r HEAD ${b}-base ${m}</pre>
<p>
    </p>
  </li>
<li class="listitem">
    <p>
    このソース一式を、以下のコマンドを使い、分岐させます:
    </p>
<pre class="programlisting">cvs rtag -b -r ${b}-base ${b} ${m}</pre>
<p>
    </p>
  </li>
</ol></div>

  <h4 class="title">
<a name="cvs-update-branch"></a>trunk での変更をブランチに反映させるには (<a href="#cvs-branches-foobar">top</a>)
  </h4>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
    <p>
    ブランチで作業中のソースツリーを更新します:
    </p>
    
    <pre class="programlisting">cvs update -P -r ${b}</pre>
    
    <p>
    (作業用のソースツリー内で行います)
    </p>
  </li>
<li class="listitem">
    <p>
    新たにベースとしようとする箇所にタグを打ちます:
    </p>
    <pre class="programlisting">cvs rtag -F -r HEAD ${b}-nbase ${m}</pre>
    <p>
    適切にマージを行うための時間がないなど、何か理由ができた場合は、
    これは仮のタグ打ちということにして後でマージをやりなおすこともできます。
    </p>
  </li>
<li class="listitem">
    <p>
    ブランチの旧ベースと新ベース間の変更をマージします:
    </p>
    <pre class="programlisting">cvs update -j ${b}-base -j ${b}-nbase</pre>
    <p>
    (作業用のソースツリー内で行います)
    </p>
  </li>
<li class="listitem">
    <p>
    変更点の衝突の調整などを行います。
    </p>
  </li>
<li class="listitem">
    <p>
    この変更を (ブランチに) チェックインします。
    </p>
  </li>
<li class="listitem">
    <p>
    新ベースリビジョンに対して base タグを打ち直します:
    </p>
    <pre class="programlisting">cvs rtag -F -r ${b}-nbase ${b}-base ${m}</pre>
  </li>
<li class="listitem">
    <p>
    HEAD との定期的な同期をするつもりがなければ、新ベースのタグを削除します:
    </p>
    <pre class="programlisting">cvs rtag -d ${b}-nbase ${m}</pre>
  </li>
</ol></div>
</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
