<html>
<head>
<!-- Copyright (c) 1998-2003 The NetBSD Foundation, Inc.
     ALL RIGHTS RESERVED. -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<link rev="made" href="mailto:hubertf@NetBSD.org">
<title>NetBSD 開発者ドキュメント:問題報告の処理</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD 開発者ドキュメント: 問題報告の処理</h1>

新たに開発に加わった人がよく<TT>send-pr</TT>経由で人々から送られてくる
バグレポートをどう処理したらよいのか質問してきます。
このドキュメントはこの話題に関する情報を提供しています。

<OL>
<LI> <A HREF="#1">問題報告データベースにアクセスする</A>
<LI> <A HREF="#2">問題報告を処理し、閉じる</A>
<LI> <A HREF="#3">問題報告の状態を変更する</A>
<LI> <A HREF="#4">有用なエイリアス</A>
</OL>


<HR>

<h2><A NAME="1">1. 問題報告データベースにアクセスする</A></h2>

<TT>gnats.NetBSD.org</TT>にログインし、$PATHに<TT>/usr/local/bin</TT>が
設定されているか確認して下さい。
<P>

問題報告へアクセスするには、番号が必要です。
<A HREF="/MailingLists/index.html#netbsd-bugs" origlink="../MailingLists/index.html#netbsd-bugs">netbsd-bugs</A>メーリングリスト経由か
<A HREF="/Gnats/index.html" origlink="../Gnats/index.html">オンラインデータベース</A>を閲覧することで入手できます。
データベースのアクセスや操作には<TT>edit-pr</TT>コマンドを使用します。
このコマンドは引数として問題報告番号をとります:

<PRE>
% edit-pr 6048
</PRE>

エディター (通常viですが、EDITOR/VISUAL環境変数によりカスタマイズ可能)
が起動し、全てのフィールドが載っている問題報告が表示されます。
特に重要なのは以下のものです:

<UL>
<LI> <TT>&gt;Number</TT>: 問題報告番号。<TT>edit-pr</TT>に与えられます。
<LI> <TT>&gt;Synopsis</TT>: 問題の一行要約。
<LI> <TT>&gt;State</TT>: 現在の状態。下記参照。
<LI> <TT>&gt;Description</TT>: 問題の詳細な記述。
</UL>

より完全なリストは
<A HREF="../Misc/pr-fields.html">NetBSD問題報告フィールド</A>
ドキュメントで見つけられます。
<P>

変更する必要があると思われる全てのフィールド - 通常<TT>&gt;State</TT>
フィールドだけ - を編集し、保存してエディターを抜けます。
^Dで終わったら、問題報告の状態を変更した理由を入力するように言われるでしょう。
この理由は (メールを通して) 問題報告に携わっている人全員に送られます。
<P>


<h2><A NAME="2">2. 問題報告を処理し、閉じる</A></h2>

問題報告を閉じるのは、正しく問題報告を取り扱う手順で一番最後の段階です。
問題報告を閉じる前に、分析され、解決され、問題報告の提出者に解決策が連絡され、
提出者はその解決策で実際に問題が解消することを示すべきです。
これらが全てすんだ後にはじめて問題報告は実際に閉じられるべきです。
必ずしも一致しないですが、問題報告の寿命にはそれぞれの段階に
<A HREF="../Misc/pr-states.html">問題報告の状態</A>があります。
<P>

問題報告に気づいたとき、もし加えるべき適当な情報があれば、加えるべきです。
netbsd-bugsメーリングリストに送られた問題報告の通知に返信するのが
もっとも簡単な方法です。
その返信にgnats-bugs@NetBSD.org あてのccをつけると、
問題報告は返信のコピーを貼り付けます。
<A HREF="../Misc/send-pr.html">現存する問題報告へ情報を付け加えることについての情報</A>
がもっと欲しいのであれば、<A HREF="../Misc/send-pr.html">NetBSD 問題報告</A>
のページをご覧下さい。
電子メール経由で問題報告に貼り付けられた返信は、問題報告に対処する必要があるとして
(<TT>責任者</TT>フィールド経由で) 問題報告に書かれている人に送られるだけです。
もし問題報告の提出者や興味をもっている他の人々に問題報告のコピーを
送りたいならば、返信にカーボンコピーをしなければいけません。
<P>

問題報告を見たり、あなたが持っている適当な情報を付け加えた後、
対処する方法に目星が付いたら、まずはじめに<TT>edit-pr<TT>を使って
問題報告の<TT>責任者</TT>フィールドをNetBSD.orgのログイン名にセットして、
責任者として設定します。
こうすることで、状態が変わったりユーザーが更に情報を提供するとき、
PRに関するメールを受け取れ、問題報告に責任があることを時々思い出させてくれます。
このとき、問題が分析されたことを示すように、問題報告を``<TT>analyzed</TT> (分析済み) ''
状態に変更するのがよいでしょう。
<P>

問題を解決し、解決策が適切であると実証したあとに、
修正をコミットすべきです。
まだ対象となっているNetBSDの公式リリースの中に問題があれば、
そのリリース用に修正がリリースの枝へと引き上げられるように要求することが
重要です (しかし、引き上げ要求を出す前に修正が正しいことを
確認します) 。
バグ修正を引き上げるのに更なる努力をする価値があります:
問題報告を提出するほど困ったバグをだれかが見つければ、
他のユーザーも多分同じような状態になっているでしょう。
結局、修正を引き上げることでユーザーや開発者の時間が節約できます。
例え問題になっているリリースの枝にこれ以上リリースがなさそうでも、
もしリリースの枝が対象内であると考えられていれば、
リリースの枝の頭を追うユーザーを助けるために引き上げを行う努力をする
価値がまだあります。
最終的に、バグ修正以外でパッチリリースや安定版リリースの枝の
ポイントになるものは何でしょう?
<P>

問題の修正をコミットしたら、問題を解決したので解決策をテストして欲しいという
旨のメールを問題報告を提出した人に送るべきです。
(パッチを送ったり、入手できるようになったら次のパッチリリースにアップデートして、
問題が解決しているかチェックするように提案することも含みます。)
この時点でユーザーが問題が修正された事を確認するか、
ユーザーが問題を再現しそうもないほど時間が経過するまで、
問題報告は``<TT>feedback</TT>'' 状態に置き換えるべきです。
(後者のガイドラインとしては、修正を含んだ次のリリースが出荷されてから
数カ月待つというのが理に適っていると思われます。)
<P>

問題報告の提出者は問題が納得いくほど解決されていることを確認したら、
問題報告は``<TT>closed</TT>'' 状態に置き換えるべきです。
(もし問題が解決されていなければ、問題報告は``<TT>feedback</TT>'' 状態から
より適切な状態へと置き換えられるべきです。)
<P>

問題報告を処理する手順の各段階で提出者からのフィードバックを要求するとき、
適当なメールの題名を使い、メッセージがgnats-bugs@NetBSD.orgへ確実に
コピーされ、フィードバックが問題報告に追加されるようにして下さい。
問題報告に関する情報が完全に記録されていれば、バグを追い詰めるのと、
未来のシステム維持の両方に価値あることになるでしょう。
<P>

何らかの理由のために、問題報告を対処し終わらないとわかったならば、
<TT>責任者</TT> フィールドを問題報告を引き継ぐ前に責任を持っていた人に
セットし直します。
(この情報は責任を引き継いだことを示すログメッセージとともに問題報告に
いれるべきです。)
あなたが対処しているからと言って、他の人が問題報告に進歩を与えることを
妨げてはいけません。
問題報告の責任者としてマークされている限り、時々催促を受け取るでしょう。
これらの催促を利用して、問題報告をよく調べ、時間を追うごとに正しい状態へと
持っていくようにしましょう。
<P>

要約すると、バグを修正したり問題報告を閉じたりする以上に、問題報告を対処するのに
しなければいけないことが多数あります。
明らかにとても重要ですが、段階の残り、特に提出者の問題が実際に修正され、
修正がパッチリリースに含まれることで広く配布されることを確認する作業が
NetBSDをユーザーの問題に対してより敏感にするよりよいシステムにするのです。
<P>


<h2><A NAME="3">3. 問題報告の状態を変更する</A></h2>

問題報告は各問題報告の状態が<TT>状態</TT> フィールドで与えられている通り、
さまざまな状態で存在します。
有効な問題報告の状態とその意味を知りたいようでしたら、
<A HREF="../Misc/pr-states.html">問題報告の状態のドキュメント</A> をご覧下さい。
<P>

たとえば問題報告に対処しているときのように、問題報告の状態を変更する必要があります。
状態の変更は、問題報告の<TT>状態</TT> フィールドを他の状態へとセットするのに
<TT>edit-pr</TT> を使用します。
<A HREF="../Misc/pr-states.html">有効な状態名</A>を使用し、タイプミスを避けるように
注意して下さい。というのも、状態名のスペルをチェックしていないので (たとえば
<A HREF="/Gnats/index.html" origlink="../Gnats/index.html">問題報告データベースのWebインターフェイス</A>のように)
、アプリケーションが正しい状態名を使っていることに依存しているからです。

<P>

問題報告の状態 (あるいは他の問題報告のフィールド) を変えるために、
エディターを保存し抜けた後、変更した理由についての情報を催促されるでしょう。
ここでの有用な情報は同じ理由からたとえばコミットのログメッセージと同じくらい重要です。
<P>


<h2><A NAME="4">4. 有用なエイリアス</A></h2>

以下のような役に立つcshのエイリアスを見つけました。
あなたの役にも立つことでしょう:
<P>

<PRE>
alias query-pr  'ssh gnats.NetBSD.org query-pr --full \!* | tee pr-\!*'
alias edit-pr   ssh -t gnats.NetBSD.org edit-pr
</PRE>

<hr>
<table width="100%" cols="2" border=0 cellspacing=8 cellpadding=0>
<tr>
  <td width="50%">
    <table><tr>
      <td>
	<a href="../index.html">
	<img src="/images/NetBSD-banner.gif" origlink="../images/NetBSD-banner.gif" alt=""></a>
      </td><td>
	<a href="../index.html">
	<img src="/images/empty.gif" origlink="../images/empty.gif"
		alt="NetBSD " border=0>ホームページ</a>
      </td>
    </tr></table>
  </td>
  <td width="50%">
    <table><tr>
      <td>
	<a href="index.html">
	<img src="/images/NetBSD-banner.gif" origlink="../images/NetBSD-banner.gif"
		alt=""></a>
      </td><td>
	<a href="index.html">
	<img src="/images/empty.gif" origlink="../images/empty.gif"
		alt="NetBSD " border=0>開発者ドキュメント</a>
      </td>
    </tr></table>
  </td>
</tr></table>

<hr>
<address>
  hubertf@NetBSD.org<br>
  $NetBSD: PR.html,v 1.12 1999/10/20 13:56:44 hubertf Exp $<br>
  <!-- based on english translation: -->
  <!-- NetBSD: PR.html,v 1.12 1999/10/20 13:56:44 hubertf Exp   -->
  <a href="/Misc/disclaimer.html" origlink="../Misc/disclaimer.html">Copyright &copy; 1998-2003
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>
</body>
</html>
