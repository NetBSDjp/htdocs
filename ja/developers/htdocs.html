<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="stylesheet" href="global.css" type="text/css">
<title>htdocsを編集する</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-developers-htdocs"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch"><form method="get" action="http://www.google.com/custom">
<input class="whiteOnBlack" type="text" name="q" onfocus="if(this.value==this.defaultValue ) this.value='';" size="12" maxlength="255" value="Search"><input type="hidden" name="cof" value="L:http://www.NetBSD.org/images/NetBSD-smaller.png;LH:200;LW:200;AH:center;AWFID:4f6b0499f0f58d2c;"><input type="hidden" name="domains" value="NetBSD.org"><input type="hidden" name="sitesearch" value="www.NetBSD.org"><input type="submit" value="検索">
</form></div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../ja/">
	  ホーム</a> | 
	<a href="../../ja/about/">
	  概要</a> | 
	<a href="../../ja/gallery/">
	  展示室</a> | 
	<a href="../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../ja/support/">
	  サポート</a> | 
	<a href="../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>htdocsを編集する</h1>
<h3 class="title"><a name="general">htdocsに関する一般事項</a></h3>
<ul>
<li><a href="#who-can-edit">だれがhtdocsを編集できるのか</a></li>
<li><a href="#what-is-required">htdocsを編集するには何が必要か</a></li>
<li><a href="#validate-html">HTMLを有効にする</a></li>
<li><a href="#NetBSD-org">NetBSD.org の表記法</a></li>
<li><a href="#dotlist-files">.listファイルとは何者か?</a></li>
<li><a href="#convert-to-xml">XML に変換する</a></li>
<li><a href="#dotxml-files">.xml (docbook-website) ファイルの取扱手順</a></li>
<li><a href="#moving-files">ファイル名を変更またはファイルを移動する</a></li>
<li><a href="#flaglinks">旗リンクの後に empty.gif がくっついているのは、何か理由があるのか?</a></li>
<li><a href="#templates">XML テンプレートファイル</a></li>
<li><a href="#webserver">ページが web サーバーに反映される方法や時間はどうなっているか?</a></li>
</ul>
<h3 class="title"><a name="structure">web サイト全体の構造はどうなっているか?</a></h3>
<ul>
<li><a href="#structure-overview">概観</a></li>
<li><a href="#structure-directories">各ディレクトリーの役割は?</a></li>
<li><a href="#structure-files">各ファイルの役割は?</a></li>
</ul>
<h3 class="title"><a name="specific">特定のエリアへ追加する</a></h3>
<ul>
<li><a href="#adding-gallery-entries">NetBSDを稼働させているサイト のギャラリーを追加する</a></li>
<li><a href="#adding-gallery-screenshots">NetBSD in action のギャラリーに追加する</a></li>
<li><a href="#adding-news-items">ニュースの項目を追加する</a></li>
<li><a href="#adding-events">イベントを追加する</a></li>
<li><a href="#adding-mailinglists">メーリングリストのページへの追加や編集をする</a></li>
<li><a href="#consultants">雇用コンサルタント</a></li>
</ul>
<hr>
<h3 class="title">htdocsに関する一般事項</h3>
<h4 class="title">
<a name="who-can-edit"></a>だれがhtdocsを編集できるのか (<a href="#general">top</a>)
  </h4>
<p>
    NetBSD CVSツリーに書き込み権限を持つ人であれば、
    だれでもチェックアウトや変更ができます。
    事実、そうして欲しいのです。
    特に開発者が機能やドライバーを追加する時には、
    該当するハードウェアやポートのホームページを更新すべきです。
    cvs.NetBSD.orgにはNetBSD.orgのログイン名を利用してログインし、
    htdocsをチェックアウトしてください。
</p>
<p>
    CVS commit 権限がないユーザーは、 anoncvs で htdocs
    をチェックアウトして、パッチを www@NetBSD.org までメールで送ってください。
    <a class="ulink" href="#dotlist-files" target="_top">後述の説明</a>も参照してください。
</p>

<h4 class="title">
<a name="what-is-required"></a>htdocsを編集するには何が必要か (<a href="#general">top</a>)
  </h4>
<p>
  </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<a class="ulink" href="cvs-repos/cvs_intro.html" target="_top">CVS
      の導入</a>を読んでください。
    </li>
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-www/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-www</code></a>
	をインストールします。これにより、
	web サイトの構築に必要な道具がインストールされます。最低限、
	<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/textproc/docbook-xsl/README.html" target="_top"><code class="filename">textproc/docbook-xsl</code></a>
	&gt;= 1.68.1 および
	<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/textproc/docbook-website/README.html" target="_top"><code class="filename">textproc/docbook-website</code></a>
	&gt;= 2.6.0nb1 が必要です
	(<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-www/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-www</code></a> 1.4
	が依存していますが、これより前のバージョンではもっと古いバージョンの
	ツールも許容しており、問題がある場合があります)。
	なお、 LOCALBASE および PKG_SYSCONFBASE の値は
	htdocs の makefile でも使われているため、これらの変数値を
	<code class="filename">/etc/mk.conf</code> で変更する場合は、
	BSD_PKG_MK で保護され<span class="emphasis"><em>ない</em></span>形で定義してください。
    </li>
<li class="listitem">
<a class="ulink" href="../../docs/guide/en/" target="_top">The NetBSD guide</a>
	や、このガイドに依存するページを再生成するためには、
	<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-doc-print/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-doc-print</code></a>
	もインストールしてください。
    </li>
<li class="listitem">CVSROOTを指定通りに設定し、
	<pre class="programlisting">cvs checkout htdocs</pre> を実行してください。
    </li>
<li class="listitem">目的のファイルを編集して、 (必要があれば)
      <code class="code"><span class="bold"><strong>make</strong></span></code>
      とタイプして、出力されるファイルを再構築してください。
    </li>
<li class="listitem">編集結果を
      <code class="code"><span class="bold"><strong>cvs diff</strong></span></code> を使って確認したうえ、
      問題がなければ <code class="code"><span class="bold"><strong>cvs commit</strong></span></code>
      してください。
    </li>
</ul></div>
<p>
</p>

<h4 class="title">
<a name="validate-html"></a>HTMLを有効にする (<a href="#general">top</a>)
  </h4>
<p>
    変更した後には、
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/www/weblint/README.html" target="_top"><code class="filename">www/weblint</code></a>
    や、それよりも良いのは
    <a class="ulink" href="http://validator.w3.org/" target="_top">http://validator.w3.org/</a>
    のようなHTMLチェッカーで一通りチェックすべきです。
    index.htmlへのリンクをはるURLは、最後のindex.htmlを
    省くべきです。
    weblintをお使いでしたら、<code class="code">~/.weblintrc</code>に以下の記述を
    追加するとよいでしょう。
</p>
<p>
    </p>
<pre class="programlisting">extension Netscape</pre>
<p>
</p>

<h4 class="title">
<a name="NetBSD-org"></a>NetBSD.org の表記法 (<a href="#general">top</a>)
  </h4>
<p>
    リンク、 mailto その他の参照においては必ず NetBSD.org と書くようにし、
    これ以外の書き方 (Netbsd.org, netbsd.org, ……など) はしないようにしてください。
</p>

<h4 class="title">
<a name="dotlist-files"></a>.listファイルとは何者か? (<a href="#general">top</a>)
  </h4>
<p>
    <span class="bold"><strong><code class="code">.list</code>
    ファイルは過去の遺物です!</strong></span><br>
    既存の <code class="code">.list</code> ファイルはすべて XML に変換してください。
    詳細は<a class="ulink" href="#convert-to-xml" target="_top">この節</a>をご覧ください。
</p>

<h4 class="title">
<a name="convert-to-xml"></a>XML に変換する (<a href="#general">top</a>)
  </h4>
<p>
    全体的な変更が簡単にできるようにするため、現在、 NetBSD の web サイトは
    XML (docbook-website) に変換中です。 2004-11-15 以降、
    XML 以外のファイルを編集する必要があるときは、編集と同時に XML に変換することになっています。
    <code class="code">htdocs/scripts/list2xml</code> スクリプトは、通常の <code class="code">.html</code>
    ファイルの変換のほか、旧来の <code class="code">.list</code> の変換にも役立つでしょう。
    ただし、このスクリプトはタグの単純な置換をいくつかするだけであり、
    実行後に多くの手作業が必要ですので、どうぞご注意ください。
    特に、すべてのタグを適切な順序で閉じることが必要です。
</p>
<p>
    <code class="code">.xml</code> ファイルを生成あるいは変換した際には、各
    <code class="code">&lt;table&gt;</code> タグや <code class="code">&lt;sect[1-4]&gt;</code> タグに
    <span class="quote">“<span class="quote">id</span>”</span> 属性をつけたことを確認してください。これは、
    <span class="command"><strong>xsltproc</strong></span> が独自に ID 属性を生成して、
    <code class="code">.html</code> ファイルを再生成する度に
    ID 属性が更新されることがないようにするためです。
    また、 <span class="quote">“<span class="quote">&amp;</span>”</span> は <span class="quote">“<span class="quote">&amp;amp;</span>”</span> に、
    <code class="filename">/sys</code> は <code class="filename">/usr/src/sys</code> に、
    適宜置きかえてください。
</p>
<p>
    ある HTML タグを、等価な XML に変換する方法がわからない場合は、
    システムにインストールされている
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/textproc/docbook-website/README.html" target="_top"><code class="filename">textproc/docbook-website</code></a>
    のなかに便利な例があるかもしれません。そしてもちろん、
    www@ メーリングリストに遠慮なく助けを求めていただいて結構です。
</p>
<p>
    目次を自動生成する場合は、以下のコードを含めておきます。
    </p>
<pre class="programlisting">&lt;sect1 role="toc"&gt;</pre>
<p>
    これを含めておくと、すべての <code class="code">&lt;sect2&gt;</code> に、
    その配下の <code class="code">&lt;sect3&gt;</code> がぶら下がった形の目次が生成されます。
</p>
<p>
    ファイルを XML に変換した後は、そのファイルを <code class="code">htdocs/layout.xml</code>
    ファイルに書き加えて web サイトを再生成することを忘れないでください。
    詳細は<a class="ulink" href="#dotxml-files" target="_top">この後の項目</a>をご覧ください。
</p>


<h4 class="title">
<a name="dotxml-files"></a>.xml (docbook-website) ファイルの取扱手順 (<a href="#general">top</a>)
  </h4>
<p>
    .xml ファイルから .html ファイルを構築するためには、少なくとも
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/textproc/libxslt/README.html" target="_top"><code class="filename">textproc/libxslt</code></a> と
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/textproc/docbook-website/README.html" target="_top"><code class="filename">textproc/docbook-website</code></a>
    をインストールしておく必要があります。これらは <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-www/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-www</code></a>
    に含まれています。
    <a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-www/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-www</code></a> のバージョンが 1.4
    であることを確認してください。
</p>
<p>
    .html ファイルを生成するには、対象のディレクトリーで
    <code class="code"><span class="bold"><strong>make</strong></span></code> を実行するだけです。
    .html ファイルに正しい "Generated from" が含まれるようにするため、
    必ず、 .xml ファイルを commit した後に .html ファイルを生成してください。
</p>
<p>
    <code class="filename">layout.xml</code> にファイルを追加した場合は、
    htdocs の最上層で <span class="command"><strong>make</strong></span> を実行する必要があります。
</p>

<h4 class="title">
<a name="moving-files"></a>ファイル名を変更またはファイルを移動する (<a href="#general">top</a>)
  </h4>
<p>
htdocs 以下でファイルの移動や名称変更をする場合は、以下の手順をとることを
推奨します:

</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">ファイルを元の場所から移動後の場所にコピーします</li>
<li class="listitem">新しいファイルを cvs add して、古いファイルを cvs rm します</li>
<li class="listitem">ファイルの移動について <code class="filename">htdocs/errors/index.xml</code> に記載し、
      新しい場所へリンクさせておきます
  </li>
<li class="listitem">移動の時期や理由を cvs で参照できるようにするために、
      新しいファイルと古いファイルを、同時に
      cvs commit します
  </li>
</ul></div>
<p>
</p>

<h4 class="title">
<a name="flaglinks"></a>旗リンクの後に empty.gif がくっついているのは、何か理由があるのか? (<a href="#general">top</a>)
  </h4>
<p>
    各ページの最後にあるNetBSDの'旗' リンクには以下のものがあります:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">altタグがないnetbsd-bannerを含むhref</li>
<li class="listitem">"NetBSD" と書いたaltタグと"ホームページ" という単語を付けたempty.gifを
        含むhref</li>
</ul></div>
<p>
    このような効果があります:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">lynxでは、たとえばNetBSDリンクとホームページリンクと二つに
        分けるのではなく、"NetBSD ホームページ" リンクという具合に
        一つのリンクにします。</li>
<li class="listitem">netscapeでは、追加のテキストをセンタリングし、"見栄えよく" 配置します。
        これがないと、少なくともnetscapeでは、縦方向にはセンタリングされず、
        下に表示され、画像が隣り合せになります (あるいは、スペースをいれれば、
        私にはおかしく見える醜い下線つきの空白が入ります) 。</li>
</ul></div>
<p>
    ひどいやり方ではありますが、きちんと表示してくれます。
</p>

    <h4 class="title">
<a name="templates"></a>XML テンプレートファイル (<a href="#general">top</a>)
  </h4>

    <p>
      XML を書き始める人のために、<code class="filename">htutils/templates</code>
      以下にテンプレートファイルをいくつか用意してあります。
      内容を書き加える場合は、既存のページと見比べてみてください。
    </p>
  
<h4 class="title">
<a name="webserver"></a>ページが web サーバーに反映される方法や時間はどうなっているか? (<a href="#general">top</a>)
  </h4>
<p>
    NetBSD の web ページは CVS の "htdocs" リポジトリーに蓄積されます。
    セキュリティー上の理由から、この htdocs リポジトリーは、毎時間ごとに
    www.NetBSD.org に (rsync を使って) コピーされ、
    そのコピーからローカルにチェックアウトされています。
    
    これをおこなうスクリプトは <code class="filename">htutils/scripts/update.http</code>
    にあり、毎時 40 分ごろに実行されます。
    htdocs をコミットすると、
    それが公開されるまでに最大一時間かかることになります。
</p>
<p>
    ただし、 Gnats データベース (<a class="ulink" href="http://www.NetBSD.org/Gnats/" target="_top">http://www.NetBSD.org/Gnats/</a>) 、
    changes/changes*.html や changes/pkg-changes*.html にある pkgsrc
    とソースの変更点、 changes/rss-*.xml にある RSS ファイルなど、
    一部のファイルについては htdocs には含まれず、 web サーバー上の
    cron ジョブディレクトリーで各種スクリプトを使って生成されています。
    これらのスクリプトへアクセスするには、 "htutils/changes/*"
    をチェックアウトします。
</p>
<hr>
<h3 class="title">web サイト全体の構造はどうなっているか?</h3>
<h4 class="title">
<a name="structure-overview"></a>概観 (<a href="#structure">top</a>)
  </h4>

	<p></p>


<h4 class="title">
<a name="structure-directories"></a>各ディレクトリーの役割は? (<a href="#structure">top</a>)
  </h4>

	<div class="variablelist"><dl>
<dt><span class="term"><code class="filename">share/mk</code></span></dt>
<dd><p>ソースファイルからの
	web ページの構築を自動化するための
	<a href="http://netbsd.gw.com/cgi-bin/man-cgi?make+1+NetBSD-5.1+i386">make(1)</a> の基盤があります。</p></dd>
<dt><span class="term"><code class="filename">share/xml</code></span></dt>
<dd><p>[TODO]</p></dd>
<dt><span class="term"><code class="filename">share/xsl</code></span></dt>
<dd><p>[TODO]</p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
<dt><span class="term"><code class="filename"></code></span></dt>
<dd><p></p></dd>
</dl></div>


<h4 class="title">
<a name="structure-files"></a>各ファイルの役割は? (<a href="#structure">top</a>)
  </h4>

	<div class="variablelist"><dl>
<dt><span class="term"><code class="filename">Makefile</code></span></dt>
<dd><p>そのディレクトリーの内容の説明が書かれています。
	通常は、<code class="varname">SUBDIR</code> および <code class="varname">XMLDOCS</code>
	の各変数を定義してから、適切な相対パスを使って
	<code class="filename">htdocs/share/mk/web.site.mk</code> ファイルを
	<span class="command"><strong>.include</strong></span> しています。<code class="filename">share/mk</code>
	以下のファイルは、冒頭に長めのコメントがあり、
	<code class="filename">Makefile</code>
	で何ができるかを説明しています。</p></dd>
<dt><span class="term"><code class="filename">*.xml</code></span></dt>
<dd><p>一つの HTML ページに対応するソースコードが、
	<span class="quote">“<span class="quote">DocBook Website</span>”</span> 形式で書かれている
	XML ファイルです。</p></dd>
<dt><span class="term"><code class="filename">layout.xml</code></span></dt>
<dd><p>[TODO]</p></dd>
<dt><span class="term"><code class="filename">autolayout.xml</code></span></dt>
<dd><p>[TODO]</p></dd>
</dl></div>

<hr>
<h3 class="title">特定のエリアへ追加する</h3>
<h4 class="title">
<a name="adding-gallery-entries"></a><span class="quote">“<span class="quote">NetBSDを稼働させているサイト</span>”</span> のギャラリーを追加する (<a href="#specific">top</a>)
  </h4>
<p>
<a class="ulink" href="../../gallery/addsite.html" target="_top">htdocs/gallery/addsite.html</a>ページから送信された
<code class="code">NETBSD GALLERY ADDITION</code> 電子メールを受け取った場合は、こうします:
</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">当該サイトに www.NetBSD.org へ戻るリンクがあることを確認します。
    ない場合は、戻るリンクを追加するよう当該サイトに依頼し、
    戻るリンクが用意されてからそのサイトの情報を追加します。</li>
<li class="listitem">perlがインストールされているか確認します</li>
<li class="listitem">コピー/ペースト用のバッファーにメッセージを保存します</li>
<li class="listitem">
<code class="code">cd htdocs/gallery</code>します</li>
<li class="listitem">
<code class="code">./addsite.pl</code> を実行して、バッファーの内容をペーストしてから ^D でペーストを終え、
      それが正しく扱われていれば '<code class="code">y</code>'と答えます</li>
<li class="listitem">
<code class="code">cvs commit</code>します</li>
</ol></div>
<p>
手で<code class="code">htdocs/gallery/sites.data</code>を編集し、
<code class="code">make</code>を実行する方法もあります。
</p>

<h4 class="title">
<a name="adding-gallery-screenshots"></a><span class="quote">“<span class="quote">NetBSD in action</span>”</span> のギャラリーに追加する (<a href="#specific">top</a>)
  </h4>
<p>
できれば、スクリーンショットにはそれが
NetBSD システムのものであることが簡単にわかるような内容を含めてください。
簡単な方法は、 X 端末で
<span class="command"><strong>uname -a</strong></span> コマンドの出力を表示しておくことです。
</p>

<h4 class="title">
<a name="adding-news-items"></a>ニュースの項目を追加する (<a href="#specific">top</a>)
  </h4>
<p>
ほとんどのニュース項目は<a class="ulink" href="../changes/" target="_top">htdocs/changes/index.xml</a>にあります
(<a class="ulink" href="#dotxml-files" target="_top">.xml ファイル</a>に関する記述をごらんください) 。
特定のポートに影響する変更はhtdocs/ports/*/にあるニュースの章からも
リンクをはってください。
</p>
<p>
重要なコードのニュース項目は
<a href="http://cvsweb.NetBSD.org/bsdweb.cgi/src/doc/CHANGES?rev=HEAD&amp;content-type=text/x-cvsweb-markup">src/doc/CHANGES</a>
ファイルにも記述すべきです。
</p>
<p>せっかちな人向けのお手軽 ``howto'' (ただし、詳細な説明も読んでください):
</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">cd htdocs/changes</li>
<li class="listitem">make update</li>
<li class="listitem">${EDITOR} index.xml</li>
<li class="listitem">make</li>
<li class="listitem">make MSG="I added important NEWS!" commit</li>
</ul></div>
<p>
</p>

<div class="sect4" title="htdocsに変更を加える前に:">
<div class="titlepage"><div><div><h5 class="title">
<a name="before-anything"></a>htdocsに変更を加える前に:</h5></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/meta-pkgs/netbsd-www/README.html" target="_top"><code class="filename">meta-pkgs/netbsd-www</code></a> がインストールされていることを確認します。
    <a class="ulink" href="#what-is-required" target="_top">前の項目</a>もご覧ください。</li>
<li class="listitem">CVSリポジトリーから<code class="code">htdocs</code>をチェックアウトします。</li>
<li class="listitem">htdocs ツリーのコピーがすでにある場合は、定期的に更新するように
    してください。特に、ニュース項目を追加する際には、 gallery/events.*
    も最新の状態になっていなければなりません。このファイルから今後のイベントを
    抜き出して利用しているからです。以下のようにすれば一番よいでしょう。
    <pre class="programlisting">
  $ cd htdocs
  $ make update</pre>
  </li>
</ol></div>
</div>

<div class="sect4" title="変更項目を付け加えるには:">
<div class="titlepage"><div><div><h5 class="title">
<a name="change-entry"></a>変更項目を付け加えるには:</h5></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">htdocs/changes/index.xml を編集します</li>
<li class="listitem">適切な節に、以下のような形式で項目の本体を追加します
    <pre class="programlisting">
  &lt;sect3 id="link-name&gt;
  &lt;title&gt;XX Mon XXX - 自由形式のタイトル&lt;/title&gt;
  &lt;para&gt;
    項目の本文をここに書きます。マニュアルページは <span class="quote">“<span class="quote">&amp;man.command.X;</span>”</span> として、
    email アドレスは &lt;email&gt;full@address&lt;/email&gt; として参照できます。
  &lt;para&gt;
  &lt;/sect3&gt;</pre>
  </li>
<li class="listitem">'<code class="code">make</code>' を実行します。</li>
</ol></div>
</div>

<div class="sect4" title="メインページからのリンクを追加するには:">
<div class="titlepage"><div><div><h5 class="title">
<a name="adding-links"></a>メインページからのリンクを追加するには:</h5></div></div></div>

<p>
htdocs/changes で <code class="code">make</code> を実行すると、
<a class="ulink" href="../" target="_top">htdocs/index.html</a>
が自動的に更新されます。それ以上なにかする必要はありません。
</p>
<p>
こうするかわりに、 htdocs 最上層のディレクトリーで <code class="code">make index.html</code>
を実行するという方法も使えます。
</p>
</div>

<div class="sect4" title="特定のポートのページからリンクをはるには:">
<div class="titlepage"><div><div><h5 class="title">
<a name="link-specific"></a>特定のポートのページからリンクをはるには:</h5></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">htdocs/ports/<span class="emphasis"><em>arch</em></span>/index.html を編集して、
    '&lt;!-- news --&gt;' ブロックを探します。</li>
<li class="listitem">新しい項目を以下の形式でリストの後ろに追加します:
    <p>
    </p>
<pre class="programlisting">&lt;dt&gt;&lt;b&gt;<span class="emphasis"><em>日付</em></span>:&lt;/b&gt; <span class="emphasis"><em>タイトル</em></span>
    &lt;dd&gt;<span class="emphasis"><em>記事の本文</em></span>
    &lt;p&gt;</pre>
<p>
    </p>
    それぞれの項目は以下のように書きます
    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<span class="emphasis"><em>日付</em></span> - 通常通り YEAR.MONTH.DATE</li>
<li class="listitem">
<span class="emphasis"><em>タイトル</em></span> - 自由形式の (短い) テキストタイトル</li>
<li class="listitem">
<span class="emphasis"><em>記事の本文</em></span> - 項目用の自由形式のテキスト。
        複数行あけたり、HTMLタグやリンクを使ったりすることもできます。</li>
</ul></div>
</li>
</ol></div>
</div>

<div class="sect4" title="最後に:">
<div class="titlepage"><div><div><h5 class="title">
<a name="finally"></a>最後に:</h5></div></div></div>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">変更したファイルの<a class="ulink" href="#validate-html" target="_top">HTML
    をチェック</a>します。</li>
<li class="listitem">ファイルをチェックインします。 htdocs 最上層のディレクトリーで
    'make commit' コマンドを実行すると、メインの index ページが、
    デフォルトメッセージ "NEWS; regen" でコミットされます。
    何かメッセージを追加したければ 'MSG="Added News regarding FooBar" make
    commit' のようにします。</li>
<li class="listitem">特に重要なニュースの場合、以下のようなニュースサイトに投稿するというのは、
    よい考えです:
    <a class="ulink" href="http://daily.daemonnews.org/add_story.php3" target="_top">Daily Daemonnews</a>,
    <a class="ulink" href="http://www.osnews.com/submit.php" target="_top">OSNews</a>,
    <a class="ulink" href="http://slashdot.org/submit.pl" target="_top">Slashdot</a>,
    <a class="ulink" href="http://www.newsforge.com/submit.pl" target="_top">Newsforge</a>,
    <a class="ulink" href="http://www.bsdforums.org/submitnews.php" target="_top">BSDForums</a>.
   </li>
</ol></div>
</div>


<h4 class="title">
<a name="adding-events"></a>イベントを追加する (<a href="#specific">top</a>)
  </h4>
<p>
メインの index ページには "Upcoming Events" (これからのイベント) というリンクもあります。
このリンクは <a class="ulink" href="#adding-news-items" target="_top">News entries</a> 同様に自動的に更新されます:
</p>
<p>
  </p>
<pre class="programlisting">
cd .../htdocs/gallery
$EDITOR events.xml
make events.html</pre>
<p>
</p>

<p>
  </p>
<pre class="programlisting">
cd .../htdocs
make index.html
MSG="Added Event Foo" make commit</pre>
<p>
</p>

<h4 class="title">
<a name="adding-mailinglists"></a>メーリングリストのページへの追加や編集をする (<a href="#specific">top</a>)
  </h4>
<p>
<a class="ulink" href="../mailinglists/" target="_top">メーリングリスト</a>
ページに載っていないメーリングリストがある場合の手順:
</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">htdocs/mailinglists/index.xml と htdocs/mailinglists/list2group.xsl ファイルを編集します。</li>
<li class="listitem">htdocs/mailinglists にある makefile を実行します。これで
    index.html が作られます。</li>
<li class="listitem">html ファイルがうまく作られているか確認します。</li>
<li class="listitem">index.xml と list2group.xsl ファイルをコミットします。</li>
<li class="listitem">index.html に適切な "Generated from" を含めるために、このファイルを作り直します。</li>
<li class="listitem">作り直した index.html ファイルをコミットします。</li>
</ol></div>
<p>
</p>

<h4 class="title">
<a name="consultants"></a>雇用コンサルタント (<a href="#specific">top</a>)
  </h4>
<p>
「雇用コンサルタント」ページ (<a class="ulink" href="../../gallery/consultants.html" target="_top">gallery/consultants.html</a>) に項目を追加する場合は、
あらかじめ、相手方の web サイトに私たちのホームページに戻るためのリンクを用意することや、
そのサイトで NetBSD に触れることを、関係者に頼んでおいてください。
もちろん、相手方の URL が生きていてアクセス可能であることも確認する必要があります。
</p>

</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2011 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
