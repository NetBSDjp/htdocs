<html>
<head>
<!-- Copyright (c) 2002-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>NetBSD/sh5</title>
<meta name="DESCRIPTION" content="Of course it runs NetBSD!  Modern, portable, e
legant, secure -- NetBSD/sh5 is the right operating system for your SuperH SH-5 based device.">
<meta name="KEYWORDS" content="SuperH, SH5, NetBSD, BSD, 4.4BSD, linux, embedded">
</head>
<body bgcolor="#FFFFFF" text="#000000">

<table border=0 width="98%"><tr><td align=left>
  <font size="+4" face="helvetica, arial"><b>NetBSD/</b></font><font
  size="+4" color="#404080" face="helvetica, arial"><b>sh5</b></font>
</td><td align=right>
  <img src="../../images/ports/sh5/superh.jpg"
   width="147" height="79" alt=" ">
</td></tr></table>
<p>

<table width="100%" cols="2" border=0 cellspacing=8 cellpadding=0>

  <tr>
    <td width="50%" valign=top>
	<font face="helvetica, arial">
	<big><b>About NetBSD/sh5</b></big>

	<p>
	NetBSD/sh5 is the port of NetBSD to the
	<a href="http://www.superh.com/">SuperH</a> SH-5 family of
	32/64-bit CPUs.
	<p>
	Currently status is "Experimental port".

	<p>
	While it may be experimental, the port is stable in multi-user
	mode on the Cayman evaluation board, in both 32- and 64-bit modes.


        </font>

	<td valign=top width="50%" rowspan=7>
	  <font face="helvetica, arial">
	  <p><big><b><a name="news">NetBSD/sh5 News</a></b></big>
	  </font>
	  <p><font face="helvetica, arial" size="2">
	  <dl>

<!-- news -->

<dt><b>Oct 18, 2002:</b> NetBSD/sh5 Announced
    <dd><a href="http://www.wasabisystems.com/">Wasabi Systems, Inc</a>
    officially announced the completion of a port of the NetBSD operating
    system to the <a href="http://www.superh.com/">SuperH</a> SH-5 "Cayman"
    evaluation board.
    <p>

<!-- end of news -->

          </dl>
          <a href="news.html">Archive of older news items</a>
          </font>
        </td>

  <tr>
      <th align=left valign=top>
	  <font face="helvetica, arial">
	  <big><b>Supported Systems</b></big>
	  </font>
  <tr>
     <td>
	<ul>
	  <li><a href="http://www.superh.com/">SuperH</a> Cayman SH-5
	      evaluation board (<tt>src/sys/arch/evbsh5</tt>)
	</ul>

  <tr>
      <th align=left valign=top>
	  <font face="helvetica, arial">
	  <big><b>Supported Peripherals</b></big>
	  </font>

  <tr>
      <td>
	<ul><font face="helvetica, arial">
	  <li>SH5 on-chip devices (<tt>superhyway* at mainbus?</tt>)
	    <ul>
	      <li>Peripheral Bridge (<tt>pbridge0 at superhyway?</tt>)
		<ul>
		  <li>Interrupt Controller (<tt>intc0 at pbridge?</tt>)
		  <li>Clock, Power, Watchdog/Reset Controller (<tt>cprc0 at pbridge?</tt>)
		  <li>Timer Unit (<tt>tmu0 at pbridge?</tt>)
		  <li>Serial Port (<tt>scif0 at pbridge?</tt>)
		  <li>Real-time Clock (<tt>rtc0 at pbridge?</tt>)
		</ul>
	      <li>Flash/External Memory Interface (<tt>femi0 at superhyway?</tt>)
	      <li>PCI Controller (<tt>sh5pci0 at superhyway?</tt>)
		<ul>
	          <li><a href="../../Hardware/pci.html">Devices connected via PCI controller</a>.
		</ul>
	    </ul>
	  <li>Cayman-specific devices
	    <ul>
	      <li>System FPGA (<tt>sysfpga0 at femi0</tt>)
	      <li>SMC Ethernet Controller (<tt>sm0 at sysfpga0</tt>)
	      <li>SuperIO Controller (<tt>superio0 at sysfpga0</tt>)
	        <ul>
	          <li>ISA bus (<tt>isa0 at superio0</tt>)
	            <ul>
	              <li>Serial Ports (<tt>com* at isa0</tt>)
	              <li>Printer Port (<tt>lpt0 at isa0</tt>)
	            </ul>
	        </ul>
	    </ul>
	</font></ul>

  <tr>
      <th colspan=2 align=left valign=top>
	  <font face="helvetica, arial">
	  <big><b>TODO</b></big>
	  </font>

  <tr>
      <td width="50%" valign=top>
	<ul><font face="helvetica, arial">
	  <li>More platforms, of course
	  <li>More peripherals
	  <li>X Window System??
	</font></ul>

  <tr>
      <td colspan=2 align=left valign=top>
	  <font face="helvetica, arial">
	  <big><b>NetBSD/sh5 Directory</b></big>
	  </font>

  <tr>
      <td width="50%" valign=top>
	<ul><font face="helvetica, arial">
	  <li>The <a href="faq.html">NetBSD/sh5 FAQ</a>
	  <li>The <a href="../../MailingLists/#port-sh5">
	      NetBSD/sh5 mailing list</a>, covering all SH5 ports.
	      (<a href="http://www.NetBSD.org/cgi-bin/subscribe_list.pl?list=port-sh5">subscribe</a>)
	      (<a href="http://mail-index.netbsd.org/port-sh5/">archive</a>)
	  <li><a href="mailto:port-sh5-maintainer@netbsd.org">
	       Mail the NetBSD/sh5 port maintainer</a>
	  <li><a href="http://www.superh.com/">SuperH</a> webpage, including
	      <a href="http://www.superh-software.com/docs.php">datasheets</a>.
	</font></ul>
      <td width="50%" valign=top>
	<ul><font face="helvetica, arial">
<!-- 
	  (li)(a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/arch/sh5/snapshot/")
	      Binary snapshots of &quot;NetBSD-current&quot;(/a)
-->
	</font></ul>

</table>

	<p>
	Here's a dmesg(8) output:

	<pre>

cayman{ttyp1}85: uname -a
NetBSD cayman.nat.mctavish.co.uk 1.6I NetBSD 1.6I (CAYMAN64) #45:
    Sun Oct 20 12:15:21 BST 2002
    steve@oor-wullie:/u0/netbsd/current/sys/arch/evbsh5/compile/CAYMAN64
    evbsh5
cayman{ttyp1}86: dmesg
[ using 220808 bytes of netbsd ELF symbol table ]
Copyright (c) 1996, 1997, 1998, 1999, 2000, 2001, 2002
    The NetBSD Foundation, Inc.  All rights reserved.
Copyright (c) 1982, 1986, 1989, 1991, 1993
    The Regents of the University of California.  All rights reserved.

NetBSD 1.6I (CAYMAN64) #45: Sun Oct 20 12:15:21 BST 2002
    steve@oor-wullie:/u0/netbsd/current/sys/arch/evbsh5/compile/CAYMAN64
SuperH SH5 running at 256MHz
total memory = 129728512
avail memory = 116248576
using 1609 buffers containing 6590464 bytes of memory
mainbus0 (root)
superhyway0 at mainbus0: SuperHyway bus
pbridge0 at superhyway0 p-port 0x09: Peripheral Bridge, Version 0x0
intc0 at pbridge0 offset 0x1000000: Interrupt Controller
cprc0 at pbridge0 offset 0x1010000: Clock, Power and Watchdog/Reset Controller
clock0 at cprc0: PLL frequency - 512MHz
clock0: External Memory Clock: 64MHz, SuperHyway Clock: 128MHz
clock0: Peripheral Bus Clock: 21MHz, PCIbus Clock: 21MHz
clock0: FEMI Bus Clock: 64MHz, ST Legacy Clock: 21MHz
tmu0 at pbridge0 offset 0x1020000 ipl 14 intevt 0x400: Timer Unit
tmu0: Tick period: 187 nS
tmu0: Delay constant: 142
scif0 at pbridge0 offset 0x1030000 ipl 12 intevt 0x700
rtc0 at pbridge0 offset 0x1040000 Real-time Clock
emi at superhyway0 not configured
dmac at superhyway0 not configured
femi0 at superhyway0 p-port 0x08: Flash/External Memory Interface, Version 0x0
femi0: Base Address: 0x0, Length: 0x8000000
sysfpga0 at femi0 offset 0x4000000: Cayman System FPGA, Revision: 5 - 02/05/24
 (yy/mm/dd)
sysfpga0: CPUCLKSEL: 400/200/100MHz, CPU Clock Mode: 3
superio0 at sysfpga0 offset 0x0: FDC37C935 Super IO Controller, Id 0x30,
 Revision 3
isa0 at superio0
com0 at isa0 port 0x3f8-0x3ff irq 4: ns16550a, working fifo
com0: console
com1 at isa0 port 0x2f8-0x2ff irq 3: ns16550a, working fifo
lpt0 at isa0 port 0x378-0x37b irq 7
sm0 at superio0 offset 0x1000 irq 10
sm0: SMC91C100FD, revision 0, buffer size: 128 KB
sm0: MAC address 00:00:e1:6b:20:0a, default media MII
sqphy0 at sm0 phy 0: Seeq 84220 10/100 media interface, rev. 0
sqphy0: using Seeq 84220 isolate/reset hack
sqphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
sh5pci0 at superhyway0 p-port 0x40: SH-5 PCIbus Bridge, Version 0x0
sh5pci0: CSR at 0xffffffffe835c000
pci0 at sh5pci0
vendor 0x100b product 0x0022 (ethernet network) at pci0 dev 0 function 0 not
configured
ppb0 at pci0 dev 3 function 0: vendor 0x1011 product 0x0022 (rev. 0x06)
pci1 at ppb0 bus 1
pci1: i/o space, memory space enabled, rd/line, wr/inv ok
ppb1 at pci1 dev 0 function 0: vendor 0x1011 product 0x0022 (rev. 0x06)
pci2 at ppb1 bus 2
pci2: i/o space, memory space enabled, rd/line, wr/inv ok
eap0 at pci2 dev 0 function 0: vendor 0x1274 product 0x5880 CT5880C (rev.
0x02)
eap0: interrupting at intevt 0x360
eap0: SigmaTel STAC9721/23 codec; 18 bit DAC, 18 bit ADC, SigmaTel 3D
audio0 at eap0: full duplex, mmap, independent
ahc0 at pci2 dev 1 function 0
ahc0: interrupting at intevt 0x360
ahc0: aic7850 Single Channel A, SCSI Id=7, 3/255 SCBs
ahc0: Host Adapter Bios disabled.  Using default SCSI device parameters
scsibus0 at ahc0: 8 targets, 8 luns per target
scsibus0: waiting 2 seconds for devices to settle...
boot device: <unknown>
root device: sm0
dump device:
file system (default generic):
root on sm0
mountroot: trying nfs...
nfs_boot: trying DHCP/BOOTP
nfs_boot: DHCP next-server: 192.168.2.8
nfs_boot: my_domain=mctavish.co.uk
nfs_boot: my_addr=192.168.2.14
nfs_boot: my_mask=255.255.255.0
nfs_boot: gateway=192.168.2.8
root on 192.168.2.8:/export/build/cayman
root time: 0x3db290a8
root file system type: nfs
init path (default /sbin/init):
init: copying out flags `-s' 3
init: copying out path `/sbin/init' 11

	</pre>
<hr>

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../"><img
        src="../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../"><img
        src="../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">Home Page</a>
  </td></tr></table>
</td><td>
  <table><tr><td>
    <a href="../../Ports/"><img
        src="../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../Ports/"><img
        src="../../images/empty.gif" border="0" 
        width="1" height="1" alt="NetBSD ">Supported Architectures</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  <a href="../../Misc/feedback.html">(Contact us)</a>
  $NetBSD: index.html,v 1.2 2003/01/02 00:35:42 jschauma Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 2002-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
