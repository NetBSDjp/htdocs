<?xml version="1.0"?>
<!DOCTYPE webpage
  PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
    "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="javastation-support">
<config param="desc" value="NetBSD/sparc JavaStation Support"/>
<config param="cvstag" value="$NetBSD: javastation.xml,v 1.3 2005/05/05 08:09:10 hrs Exp $"/>
<config param="rcsdate" value="$Date: 2005/05/05 08:09:10 $"/>
<head>

<!-- Copyright (c) 1994-2005
        The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->

<title>NetBSD/sparc JavaStation Support</title>
</head>

<sect1 id="top">

<para>
Starting with release 2.0 NetBSD supports two JavaStation models,
the JavaStation-1 and JavaStation-NC.
</para>

<para>Unlike other non-Sun operating systems for JavaStation models, NetBSD does
<emphasis>not</emphasis> require you to modify the PROM or NVRAM.  It should "just
work", since the NetBSD bootloader will apply any necessary NVRAM patches
for you.
</para>

<para>Sun switched their boot ROM from using OpenBoot PROM 2 to using Open
Firmware in later JavaStation-1 machines.  All JavaStation-NC machines use
Open Firmware.  OpenBoot PROM is what the rest of the NetBSD/sparc
machines have.  Open Firmware is what is used in NetBSD/sparc64 models.
</para>

<para>Briefly, the JavaStation-1 is a stripped down SPARCstation 4 (other 
than using Open Firmware in some units).  The JavaStation-NC is an   
entirely new architecture (different bus type, framebuffer chipset, and
serial chipset).
</para>

<itemizedlist>
	<listitem><ulink url="#mrcoffe">JavaStation-1 (a.k.a. Mr. Coffee,
		part number JJ-xx)</ulink></listitem>
	<listitem><ulink url="#krups">JavaStation-NC (a.k.a. Krups or
		JavaStation-10, part number JK-xx)</ulink></listitem>
</itemizedlist>

<html:hr/>

<sect2 id="mrcoffe">
<title>JavaStation-1 (a.k.a. Mr. Coffee, part number JJ-xx)</title>

<para>The banner the JavaStation-1 displays at boot-time indicates which boot 
ROM is present.
If it displays "<code>OpenBoot 2.30</code>", it has OpenBoot PROM 2.  If it
displays "<code>OpenBoot 3.x</code>" (where x is usually 10 or 11), it has
Open Firmware.
</para>

<para>Unfortunately, the OpenBoot PROM 2 does not properly initialize the
PS/2 style keyboard/mouse controller. This means you can't configure the
PROM without a serial console.  The NetBSD/sparc kernel supports PS/2 
keyboards, so you can use the keyboard once the NetBSD kernel is loaded. 
</para>

<para>Open Firmware has no PS/2 keyboard/mouse issues.
</para>

<para>The Xsun X11R6 server works with the PS/2 keyboard and mouse, as long 
as you run X with the <code>-kb</code> option to disable XKB.  This is to 
prevent problems since it has no XKB description for the 
"Type4/US101A" PC keyboard.
</para>

<para>Audio playback works.
</para>

<para>OpenBoot PROM 2-based JavaStation-1 units will netboot like any other
NetBSD/sparc machine.  See the 
<ulink url="../../Documentation/network/netboot/intro.sun.html">sparc-specific
section</ulink> of the Diskless NetBSD HOW-TO. 
</para>

<para>Open Firmware-based JavaStation-1 units will netboot like any other
modern machine -- they send a DHCP request for a TFTP server and
bootloader filename, then download and execute that file.  These units
require a different bootloader than other NetBSD/sparc machines.  Make
sure you use <code>bootjs.net</code> from the snapshot or distribution.  See the 
<ulink
url="../../Documentation/network/netboot/intro.sun.ofw.html">javastation-specific
section</ulink> of the Diskless NetBSD HOW-TO. 
</para>
</sect2>

<html:hr/>

<sect2 id="krups">
<title>JavaStation-NC (a.k.a. Krups or JavaStation-10, part number JK-xx)</title>

<para>
All JavaStation-NC units have Open Firmware.  Some units may have a flash 
SIMM with JavaOS installed.  If the flash SIMM is present, the 
JavaStation-NC will attempt to boot from that before trying to netboot.  
You may need to remove the flash SIMM before netbooting NetBSD.
</para>

<para>There is support for text console on these units.
</para>

<para>While the XFree86 server supports the framebuffer chipset used in
these units, this support hasn't been integrated into XFree86 on the sparc 
platform.
</para>

<para>Audio playback and recording work.
</para>

<para>JavaStation-NC units will netboot like any other
modern machine -- they send a DHCP request for a TFTP server and
bootloader filename, then download and execute that file.  These units
require a different bootloader than other NetBSD/sparc machines.  Make
sure you use <code>bootjs.net</code> from the snapshot or distribution.  See the
<ulink url="../../Documentation/network/netboot/intro.sun.ofw.html">javastation-specific
section</ulink> of the Diskless NetBSD HOW-TO. 
</para>
</sect2>

</sect1>
<parentsec url="./" text="NetBSD/sparc Port Page"/>
</webpage>

