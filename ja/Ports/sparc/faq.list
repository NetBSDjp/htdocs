<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 1994-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.org">
<title>NetBSD/sparc Frequently Asked Questions</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD/sparc Frequently Asked Questions</h1>

It is intended for this to become a repository of frequently asked questions
(and answers) specific to NetBSD/sparc. 

<LIST>

<h2>Other sources of information</h2>

<ul>
<li><a href="http://sunsolve.sun.com/handbook_pub/">Sun System Handbook</a> - Sun's online system docs
<li><a href="http://sunsolve.sun.com/handbook_pub/Devices/Memory/MEM_Modules.html">Memory Modules</a> - memory module compatability
<li><a href="http://www.sunhelp.org/">SunHELP</a> - much sun related information
<li><a href="http://www.sunhelp.org/faq/sunref1.html">Sun
    Hardware Reference FAQ</a> - overview of Sun hardware over the years
<li><a href="http://docs.sun.com/?p=/coll/216.2">OpenBoot Collection</a>
    reference on PROM commands and variables
<li><a href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html">Sun
    NVRAM/Hostid FAQ</a> - if your machine PROM's battery has gone dead
<li><a href="http://www.stokely.com/unix.serial.port.resources/A-B-Ycablepinout.html">
    Sun Serial Port & Cable Pinouts</a> - lists serial port pinouts for
    almost all models
<li><a href="http://www.sunhelp.org/faq/FrameBuffer.html">Frame Buffer
FAQ</a> by David Tong
<li><a href="http://lios.apana.org.au/~cdewick/data/">The SunShack Data 
    Archive</a> collected by Craig Dewick (includes BootROM upgrades
    and the Sun Field Engineer Handbook)
<li><a href="http://www.users.qwest.net/~eballen1/sparc.tech.links.html">Technical SPARC CPU resources</a>
<li><a href="http://mbus.sunhelp.org/misc/genconf.htm">Information about mixing MBus modules</a>
</ul>
<p>

<ul>
<li><a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.6/sparc/INSTALL.html">
    NetBSD 1.6 install notes</a> - supported hardware and how to install.
<li><a href="../../MailingLists/#port-sparc"> port-sparc mail list</a>
    - if you have any additional questions please subscribe.
<li><a href="../../Documentation/network/netboot/">Diskless
    NetBSD HOW-TO</a>.
<li><a href="../../Documentation/Hardware/Misc/serial.html">NetBSD Serial 
Port Primer</a>
<li><a href="../../Documentation/">General NetBSD Documentation</a>
    - for questions not specific to NetBSD/sparc.
</ul>
<p>

<SECTION>General Questions

<ENTRY>mpg123-nosupportedrate I'm getting a <tt><b>No supported rate found!</b></tt> error from mpg123
If you've gotten this error you'll have to pass arguments to mpg123 for your
number of channels and rate of stream.  Older systems (such as the sun4c 
machines and the SPARC Classic) only support an 8 bit 8 kHz mono sampling
rate.  For these systems, you would specify:
<p>

<blockquote>
mpg123 -m -r 8000 <i>filename</i>
</blockquote>
<p>

The -m option is for mixing both channels for mono output, and the -r specifies
the rate that the audio card supports. 

<ENTRY>serial-console-garbage Serial console displays garbage
Typically this is because the default terminal type for console is <tt>sun</tt>
and most serial terminals are <tt>vt100</tt> (or similar), and they
use different escape codes.  The temporary fix is to change your terminal type:
<pre># <b>setenv TERM vt100</b></pre>

The permanent solution is to edit <tt>/etc/ttys</tt> and change
the <tt>console</tt> line to read:
<pre>console "/usr/libexec/getty suncons"    vt100 on secure</pre>
Then you need to <tt>kill -HUP 1</tt> or reboot.

<ENTRY>consoleopt How do I change console options such as colour or font size?
You have to recompile a kernel for this. For example, for a white on black
console, add the following to your kernel config file: 
<blockquote><pre> 
options         RASTERCONSOLE_FGCOL=WSCOL_WHITE 
options         RASTERCONSOLE_BGCOL=WSCOL_BLACK
</pre></blockquote>

<p>
For a smaller font, add the following:
<blockquote><pre>
options         FONT_BOLD8x16
</pre></blockquote>

<p>
Another useful option is
<blockquote><pre>
options         RASTERCONS_FULLSCREEN
</pre></blockquote>

<ENTRY>voyager-mouse The mouse on SPARCstation Voyager acts weird in X (<tt>ms0: input error (0xc47)</tt>)
Apparently the original mouse that came with the Voyager (the Compact1
370-1865-01 mouse, but not the 370-1865-03) runs at a faster serial speed
than every other Sun mouse (4800 bps instead of 1200 bps).  You have two
options: 

<ul>
<li>Use another mouse
<li>Add <tt>options SUN_MS_BPS=4800</tt> to your kernel configuration and 
  recompile
</ul>

See ms(4) for more information.

<ENTRY>cgsix-framebuffer-garbage Framebuffer displays garbage on scrollback
When exiting vi, and sometimes when scrolling back, the display scrolls
back for a few seconds displaying a lot of garbage. There is usually
garbage in the non-text portion of the screen as well. This is
purported to be caused by a firmware bug on Sbus cgsix boards, and has
to date been noticed on all machines in which a cgsix board is installed.
<br> Some options:
<p>

<ul>
<li>Set your terminal type to <tt>sun-cgsix</tt>.
<li>Edit your termcap so that the default '<tt>sun</tt>' entry has
<tt>:tc=sun-cgsix:</tt> instead of <tt>:tc=sun-il:</tt>
<li>Edit <tt>/etc/ttys</tt> and change
<br><tt>console "/usr/libexec/getty suncons"    sun on secure</tt>
<br>to
<br><tt>console "/usr/libexec/getty suncons"    sun-cgsix on secure</tt>
</ul>

<ENTRY>sparclinux-sun4c Why is NetBSD so much faster than SparcLinux on sun4c
The memory management hardware on sun4c machines (SPARCstation
1, 1+, 2, IPC, IPX, SLC, ELC and clones) is not handled
particularly well by Linux. Until Linux reworks their MMU code
NetBSD will be very much faster on this hardware.  The exceptions are 
SPARCStation 1, 1+, and IPC models running NetBSD 1.6 and 1.6.1 (see
<a href="#sun4c-sw-cache"><tt>sw flush: cache enabled</tt></a>).

<ENTRY>illegal-reloc I get a <tt><b>ld: /usr/lib/c++rt0.o: illegal reloc type mix</b></tt> when compiling
For versions older than 1.4.3, the default NetBSD/sparc /usr/lib/c++rt0.o
is compiled -fpic.  This means it can only handle offsets up to a certain
size, and can fail to work in large programs.  Compiling -fPIC allows
larger offsets and should permit large programs to function.
<p>

If you're using a NetBSD release before 1.4.3, replacing /usr/lib/c++rt0.o
with a -fPIC version, located at <a
href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/sparc/c++rt0/">ftp://ftp.NetBSD.org/pub/NetBSD/arch/sparc/c++rt0/</a>,
will solve this problem. 

<ENTRY>boot-floppy Making install boot floppies
To create install floppies for NetBSD/sparc, you first need to have the
release source.  You also need to have the release files installed; you'll
find them under the
<a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-release-1-6/tar_files/src/distrib.tar.gz">
NetBSD-release</a> section.  Note that the release source extracts to
the <tt>src</tt> directory, so be sure to extract the archive under <tt>/usr</tt>.
Next, create the INSTALL kernel:
<blockquote><pre>
# cd /sys/arch/sparc/INSTALL; make</pre></blockquote>
After the kernel has build, you can create the installation floppies:
<blockquote><pre># cd /usr/src/distrib/sparc/sysinst.ramdisk; make
# cd /usr/src/distrib/sparc/sysinst.bootfs; make</pre></blockquote>

<ENTRY>bootcd Making a bootable CD-ROM
See the <a
href="../../Documentation/bootcd.html#sparcimage">NetBSD
Bootable CD ROM HOWTO</a>.

<ENTRY>nell Using the <i>nell</i> sbus-to-PCMCIA bridge
NetBSD 1.6 and later support cardbus and PCMCIA cards with the SPARCstation 
Voyager's on-board interface and with the nell sbus-to-PCMCIA bridge card.
All PCMCIA devices listed on the
<a href="../../Hardware/pcmcia.html">Machine-independent PCMCIA drivers</a>
page should work in -current. Some have been tested. On 1.6, there is a
byte endian issue which currently prevents 16 bit devices from working.
See the 
<a href="http://mail-index.NetBSD.org/port-sparc/2002/03/10/0002.html">post</a>
by Martin Husemann on nell support. 

<p>There is a conflict between the <i>audioamd</i> device in sun4c and some 
sun4m models and the (nell) device.  The 1.6 GENERIC kernel has the nell 
interface disabled by default.  You'll need to build a kernel with the nell
and various pcmcia interfaces uncommented.

<p>If your system has the audioamd device on-board and you want to use
it and the nell interface, you need to build a new kernel with
the following option:
<pre>
options 	AUDIO_C_HANDLER
</pre>

<p>If you wish to use the Lucent WaveLAN card on 1.6, you will need to
add the following hack to your kernel configuration:
<pre>
options	WI_AT_BIGENDIAN_BUS_HACK
wi*	at pcmcia? function ?		# Lucent WaveLan IEEE (802.11)
</pre>

Note that this is not required in -current.
<p>

<SECTION>Hardware Questions

<ENTRY>smp-cpus What CPU modules are capable of running multiprocessor
The only NetBSD/sparc models capable of SMP are the Sun 
4/600, SPARCstation/server 10, SPARCstation/server 20, and clones of these
models.  Most SuperSPARC-I and SuperSPARC-II MBus CPU modules can be used 
in an SMP system.  Unfortunately, multiple hyperSPARC CPUs are not yet 
supported.  Briefly, two
modules with the same speed and (non-zero) cache size will have no problems. 
Modules with different cache sizes and speeds have been reported to work,
but you run into trouble when using older (i.e. slower) modules and
modules without caches. Check the following references: 
<ul>
<li><a href="http://lios.apana.org.au/~cdewick/data/suncpum.html">Sun CPU
    and Memory Tables</a>
<li><a href="http://mbus.sunhelp.org/">The Rough Guide to MBus Modules</a>
</ul>

<p>You will need to use the GENERIC.MP kernel, or a kernel with the 
following options enabled:
<pre>options         MULTIPROCESSOR          # include multiprocessor support
cpu*            at mainbus0             # declare additional CPUs</pre>

<p>To boot from a different CPU, run the following commands at the PROM 
prompt:
<pre>&lt;#0&gt; ok <b>N switch-cpu</b></pre>

Where <tt><b>N</b></tt> is the cpu number you want to switch to.  0 is 
the primary CPU on the first mbus module.  1 is the second CPU on the 
first module.  2 is the first CPU on the second module.  3 is the second 
CPU on the second module.  Switching to a non-existent CPU may cause
your system to hang.
You must have already booted NetBSD once to load the CPU code into the 
PROM.  See Paul Kranenburg's <a 
href="http://mail-index.NetBSD.org/port-sparc/2003/01/20/0016.html">post</a>.

<ENTRY>video-cables How do I hook up a VGA monitor to my Sun
Well, there are two ways, build your own cable, or purchase an
adapter.  The adapters can be found for around US$30 and the framebuffer
will typically "just work" at its default resolution.
<p>

To build your own cable, can follow the 
<a href="http://mail-index.NetBSD.org/port-sparc/2000/04/22/0001.html">instructions
</a>provided by Izumi Tsutsui.
<p>

Don't forget to take a look at the <a
href="http://www.sunhelp.org/faq/FrameBuffer.html">Frame Buffer FAQ</a>
for information on your framebuffer, what resolutions it supports, and how
to set the default resolution in the prom.

<ENTRY>pmap-failure What does a message similar to <tt>"*** U0209 ***</tt>" "<tt>PMAP 000d5000, Exp = 00000000, Obs = 04000000</tt>" from the PROM mean
If the page map ram on a sparc2 fails the PROM will not initialise the
frambuffer, but will output a message similar to
<pre>
*** U0209 ***
	PMAP = 000d5000, Exp = 00000000, Obs = 04000000
</pre>
to the serial console. (the U0209 can also be U0208).
The only options are to replace the chip, which requires exceptionally
delicate soldering work, or the entire motherboard.

<ENTRY>ross-mbus Are hyperSPARC mbus modules supported?
Yes.  All Ross hyperSPARC modules should work.

<ENTRY>ross-memory What is the memory configuration in a Ross sparc 20 clone?
Ben Cottrell reports that:
<cite>For anyone else who's curious about this, the slots in a Ross sparc
20 clone go like: 0 4 1 5 2 6 3 7, going top to bottom, looking down on
the case in its conventional orientation.
</cite>

<ENTRY>oldscsi How do I hook up this strange SCSI connector to a normal device
Older sun4 machines might have an old style SCSI connector with three rows
of pins.  The pins are listed on <a href="oldscsipins.html">this page</a>.


<SECTION>PROM/Booting Questions

<ENTRY>abort-to-prom How to abort to the prom
There are three ways to abort to the prom:
<p>

<ul>
<li>If using a Sun keyboard, Press <tt>[L1]</tt>+<tt>[A]</tt>,
    (or <tt>[STOP]</tt>+<tt>[A]</tt>)
<li>If using a Tadpole SPARCbook keyboard, press <tt>[Pause]</tt>+<tt>[A]</tt>
<li>If using a serial console, send a BREAK signal (the method may very from
    terminal to terminal).
</ul>
<p>

Once at the prom you can continue with '<tt>go</tt>' ('ok' prompt), or
'<tt>c</tt>' (&gt; prompt).

<ENTRY>prom-troubleshooting Troubleshooting PROM problems
See the troubleshooing guide at 
<a href="http://docs.sun.com/db?p=/doc/806-2906-10/6jc3f0abd&a=view">docs.sun.com</a>.
Additionally, if your ethernet address is <tt>FF:FF:FF:FF:FF:FF</tt>, then your
NVRAM is dead and you may have trouble booting.  See 
<a href="#dead-nvram">Ethernet address or hostid are all ones</a>.

<ENTRY>non-sun-cdrom Why won't my non-Sun SCSI CD-ROM drive boot the NetBSD/sparc CD-ROM?
Most UNIX workstations, including Sun's OpenBoot PROM, have a PROM that
requires the CD-ROM to support a 512 byte block size.  Most OEM Sun CD-ROM
drives are set to 512 byte block size by default.  Most newer 3rd party
drives automatically support both 512 and 2048 byte block sizes.  Older
3rd party drives may have a jumper to change the value from 2048 bytes to
512 bytes.  Check with your hardware vendor -- those drives that do not 
support 512 byte sectors will be unusable for booting, but will be useable 
once the kernel is loaded for normal operations. 

<p>See the <a href="http://www.ebsinc.com/solaris/suncdrom.html">Sun CD-ROM 
FAQ</a>.

<ENTRY>sun4c-sw-cache <tt>sw flush: cache enabled</tt>
Prior to July 2003, there has been a longstanding MMU bug in the sun4c 
architecture.  This is fixed in future releases of NetBSD (1.6.2 and 
2.0).  NetBSD 1.6 and 1.6.1 attempted to work around this bug by using a 
slower caching mechanism on the SPARCstation/server 1, 
SPARCstation/server 1+, and Sun IPC.  Read Paul Kranenburg's 
<a href="http://mail-index.NetBSD.org/port-sparc/2003/07/18/0002.html">post</a>
for more information.

<ENTRY>no-kernel-1-6-install <tt>open netbsd: no such file or directory</tt>
D'oh.  The NetBSD 1.6 installer does not install a kernel if you select 
the default install.  This is, of course, corrected in the NetBSD 1.6.1 
installer.

<p>The easy fix is to run the installer again and select <tt>Re-install 
sets or install additional sets</tt> and chose the 
<tt>kern-GENERIC.tgz</tt> package to install.

<ENTRY>sun4c-framebuffer-speedup How to speed up the framebuffer on sun4c hosts
Here is a shellscript provided by greywolf@starwolf.com which speeds up
PROM access to the framebuffer on sun4c hosts running OBP version 2 and
greater (such as the IPX).
<pre>
#! /bin/sh -
eeprom 'nvramrc=probe-all install-console
ramforth
: cache-page dup pgmap@ cacheable swap pgmap! ;
up@ cache-page
here origin do i cache-page pagesize +loop
banner'
eeprom 'use-nvramrc?=true'
exit 0
</pre>

<ENTRY>cylinders Do I really have to have my partitions start and end on cylinder boundaries
Yes and no.  The prom only knows how to load a bootloader from the
beginning of a cylinder.  This means that your bootable partitions need to
start on cylinder boundaries.   The cylinder size in your disklabel does
not have to bear any relation to the actual physical cylinder size of the
disk.  You can't just set your cylinder size to 1 (i.e. the number of
cylinders = the number of sectors), since the number of cylinders is
stored as a 16 bit number (i.e. your disk could only be about 32 MB).
<p>

The partitions apparently do not need to end on cylinder boundaries, and
there are no bad side-effects of doing so.


<ENTRY>prom-passwd The PROM wants a password when I abort booting
You need physical access to the machine to erase the password.  Power off,
power on, hold <tt>[L1]</tt>+<tt>[N]</tt>,
    (or <tt>[STOP]</tt>+<tt>[N]</tt>) until the PROM prompt.  This will
reset your PROM to the factory defaults.
<p>

Alternatively (this is not for the faint of heart), power on, abort, wait
for the password prompt, carefully remove the PROM chip, hit return,
carefully replace the PROM, enter a new password.

<ENTRY>cachechipbug What does the <tt><b>cache chip bug; trap page uncached</b></tt> kernel message mean?
If you get this kernel message, nothing has gone wrong.  Machines with
"buserr-type" 1 have a bug in the cache chip that affects traps.  The
<tt><b>cache chip bug; trap page uncached</b></tt> message is the kernel
activating a workaround for this bug.
<p>

Without this workaround, the cache simply delivers wrong data.  Often this
turns into an illegal instruction, so that you get a trap during a trap,
which causes a reset.  This condition can only be caught by the ROM, and
by then it is too late to do anything about it.  This message, if you happen
to get it, just means you'll avoid that problem.

<ENTRY>floppy-memory-boundary When booting from 1.4.2 floppies, you get "Data Access Exception"
Unfortunately, the NetBSD 1.4.2 floppies, have a problem with the
bootloader on some machines (in particular, sun4c machines with
non-contiguous memory banks, such as the IPX).  If you
encounter this error, then you will need to download the repaired 
<a href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/sparc/1.4.2-bootfs/">floppy
images</a> or install a 16 MB SIMM in the first bank of your machine (4 MB
isn't large enough to hold the broken bootloader and the kernel).
<p>

This problem is only present on 1.4.2 boot floppies.
It has been fixed in -current and will not be present in future
releases of NetBSD/sparc.

<ENTRY>powerlite85-floppy How do I boot an RDI PowerLite 85 from a floppy disk?
The PowerLite 85 seems to have an OpenBoot PROM bug in the floppy driver.
Cliff Wright has determined the nvramrc patch to fix this:
<pre>: trk0_delay
    50 ms 4
;
['] trk0_delay false ['] 4 false ffd34e90 (patch)
4 true ['] 2 false ffd34f28 (patch)</pre>

See his 
<a href="http://mail-index.NetBSD.org/port-sparc/2001/05/14/0001.html">post</a>
for more information.

<SECTION>Serial Port Questions

<ENTRY>sparc2-serial-console Problems running a serial console on a SPARCstation 2 prior to NetBSD 1.4.2
When booting a 1.4  or 1.4.1 kernel from a serial console, the following
messages may appear:
<blockquote>
<pre>Warning: unparseable stdin-path property
Warning: unparseable stdout-path property
cninit: invalid inSource 0xffffffff</pre>
</blockquote>
This is a know problem when booting with a serial console on a
SPARCstation 2
with a PROM revision prior to 2.4.  The full details can be found under
<a href="http://www.NetBSD.org/cgi-bin/query-pr-single.pl?number=7409">
PR/7409</a>.  The problem has been solved in NetBSD 1.4.2.  If you need a
patched 1.4.1 GENERIC kernel, try
<a href="ftp://ftp.yubyub.net/pub/NetBSD/NetBSD-1.4.1/sparc/netbsd.GENERIC_SS2_CONSOLE.gz">
this one</a>.  A patch which alters <tt>src/arch/sparc/dev/zs.c</tt> to force
<tt>/dev/ttya</tt> as the only serial console can be found as
<a href="ftp://ftp.yubyub.net/pub/NetBSD/NetBSD-1.4.1/sparc/zs.diff">
zs.diff</a>.
Note that this patch does not prevent a standard keyboard and monitor from
being the console; it forces <tt>/dev/ttya</tt> to be the console should a
serial console be selected.

<ENTRY>serial-unplug Whenever I unplug the serial console, my machine reboots!
A continuous stream of zeros is equivalent to a "BREAK" command which will
enter the prom.  This might happen, since the serial lines are floating
when you unplug your cable.  If you build a special switchbox that uses
a pullup resistor, then you can avoid this problem.
<p>

Put a 4.7 KOhm resistor between pins 3 and 25.

<ENTRY>serial-port-minidin8 Can I use a Macintosh serial cable on machines that have a MiniDin8 connector?
Yes and no.  Yes, you can use it, but it doesn't support the same hardware
handshaking lines so you won't get hardware handshaking.
<p>

See the <a href="../../Documentation/Hardware/Misc/serial.html">NetBSD Serial 
Port Primer</a> for more information.

<ENTRY>serial-port-splitter Splitting the serial port on a SPARCstation 20 and SPARC classic
Some sparc machines, such as the SPARCstation 20 and SPARC Classic, have 2
serial
ports but use a single DB-25 connector. Serial port A is wired
using the standard pin out so that it may be used with a "normal"
(whatever that means with serial ports) serial cable. To use serial
port B, an adapter cable is required. Dan McMahill has traced the pin
out on a Sun P/N 530-1677-01 cable.
<p>

<ul>
<li><a href="faq/sun_530-1677-01-rev50.txt">Cable Diagram (ascii 4k)</a>
<li><a href="faq/sun_530-1677-01-rev50.jpg">Cable Diagram (jpeg 76k)</a>
<li><a href="faq/sun_530-1677-01-rev50.ps">Cable Diagram (postscript 18k)</a>
</ul>

<ENTRY>fastserial Can I run my built-in serial port faster than 38400 bps?
The short answer: No.
<p>
The long answer is that you can possibly run it at non-standard speeds
(such as 76800 bps and 51200 bps).  der Mouse has patched things
in the attempt to run the serial chip in an even 
<a href="http://mail-index.NetBSD.org/port-sparc/2000/04/25/0005.html">faster
mode</a>, but it is very unreliable (i.e. very error-prone).
<p>

Note that some of the <a href="../sparc64/">sparc64</a> machines can run
their serial ports faster, but they use a different serial chipset.

<SECTION>Ethernet Questions

<ENTRY>ether-address All my ethernet interfaces have the same hardware address
Yes, that's correct.  In general, each machine only has one ethernet 
hardware address (a.k.a. MAC) for <i>all</i> ethernet interfaces attached
to it, since the MAC address is stored in the NVRAM on the motherboard
instead of on the ethernet interface.
<p>

This means that if you have a sparc box with more than one ethernet
interface, no two interfaces can be on the same subnet. In most practical 
situations, this should not be a problem.  For example:
<pre>smaug% ifconfig -a
le0: flags=8822&lt;BROADCAST,NOTRAILERS,SIMPLEX,MULTICAST&gt; mtu 1500
        address: 08:00:20:20:e2:54
        media: Ethernet autoselect
be0: flags=8863&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        address: 08:00:20:20:e2:54
        media: Ethernet autoselect (10baseT half-duplex)
</pre>

<ENTRY>dead-nvram Ethernet address or hostid are all ones
If a machine boots up with with an all-ones ethernet address (i.e.
ff:ff:ff:ff:ff:ff) or hostid, it is most likely because the NVRAM has
reached the end of its life cycle. This is especially common on sun4c
class machines because the NVRAM used in those systems have relatively
short life spans many of which are currently ending now.
<p>

See the <a href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html">
Sun NVRAM/Hostid FAQ</a> for information on how to replace and reinitialize
the chip and possible workarounds if you cannot find a new NVRAM chip.

<p>If you don't know your system's original hostid and ethernet address, it
may be possible to reconstruct them using the information on the nvram chip's
barcode.  See this 
<a href="http://mail-index.NetBSD.org/port-sparc/2001/09/04/0002.html">post</a>
and this
<a href="http://mail-index.NetBSD.org/port-sparc/2001/09/04/0003.html">post</a>
for more information.

<ENTRY>tadpole-3gx-transceiver Tadpole 3GX transceiver does not work if not \
	plugged in at boot
The interface may be autosensing to 10BaseT, even though there's
no physical 10Base-T port.
<p>

Check the media type in the output of "<tt><b>ifconfig le0</b></tt>".
it should read <tt>10Base5</tt> to use the external transceiver, if
not issue a "<tt><b>ifconfig le0 media 10base5</b></tt>" command.

<SECTION>JavaStation Questions

<ENTRY>javastation-supported Which JavaStations are supported?
The JavaStation-1 (a.k.a. "Mr.Coffee") and JavaStation-10 (a.k.a. 
JavaStation-NC or "Krups") models are known to be working well in 
NetBSD-current with a kernel patch.

<p>Some JavaStation-1 units have an OpenBoot PROM (OBP2) similar to all
other models supported by NetBSD/sparc (i.e. models with 32 bit SPARC
CPUs).  Some JavaStation-1 units and all JavaStation-10 units have an Open
Firmware (OFW) similar to the models supported by NetBSD/sparc64 (i.e.
models with 64 bit UltraSPARC CPUs).  This has traditionally leads to some
confusion, but NetBSD/sparc should hide most of these problems from you
once your system is booted. Most of the compatability issues are related
to whether your JavaStation has OpenBoot PROM 2 or Open Firmware, not
which model it is. 

<p>Unlike other non-Sun operating systems for the JavaStation, NetBSD does
<i>not</i> require you to modify the PROM or NVRAM.  It should "just
work", since the NetBSD bootloader will apply any necessary NVRAM patches
for you. 

<p>Briefly, the JavaStation-1 is a stripped down SPARCstation 4 (other
than Open Firmware in some units).  The JavaStation-10 is an entirely new
architecture (different bus type, framebuffer chipset, and serial
chipset), with an entirely different approach to booting (i.e. Open
Firmware). 

<p>Read the <a href="javastation.html"> JavaStation Status</a> page to
determine what the current level of support is for JavaStations. 


<ENTRY>javastation-info Hardware information
The Linux on the Sun JavaStation NC HOWTO contains gobs of good info.  <a
href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/JavaStation-HOWTO.html#WHATISCHAPTER">
Section 2</a> covers the various models and what sorts of guts they've
got. <a
href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/JavaStation-HOWTO.html#BACKGROUNDREQUIREMENTSCHAPTER">
Section 3</a> describes the netboot environment (also see the NetBSD <a
href="../../Documentation/network/netboot/">Diskless HOW-TO</a> on how to
set up netbooting for these puppies).  And <a
href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/JavaStation-HOWTO.html#APPENDIXCHAPTER">
Section 10</a> lists the jumper settings for JavaStations.


<ENTRY>fox What was the Fox?
The Fox is probably best described as a brick sized SS4. Among it's features:
<p>

<ul>
<li> one SBus and one AFX slot side by side so you can only use one
<li> Crystal Semiconductor 4231(sp?) audio
<li> stp4020 (PCMCIA)
<li> the usual onboard serial a/b, SCSI, 10BaseT
</ul>
<p>

This was used in the early versions of the Java car, which later moved to
a faster machine.



<SECTION>SunOS and Solaris Emulation Questions

<ENTRY>solaris-filesystem Does NetBSD support the Solaris filesystem?
Kinda.  If Solaris 5 or later created a filesystem with access control
lists (ACL), NetBSD's fsck(8) will render the superblock unusable to
Solaris (i.e. Solaris can't mount the filesystem again). 

<p>You should either mount your Solaris filesystem read-only or have
created it without ACLs.  See this
<a href="http://mail-index.NetBSD.org/port-sparc/2001/03/10/0001.html">post</a>
by Christos Zoulas on this topic.

<ENTRY>emulation-setup How do I set up SunOS/Solaris emulation?
<b>Note:</b>  Remember, despite Sun's marketing and the misleading
output of uname on Solaris, SunOS and Solaris are not the same OS!
SunOS 4.x (Solaris 1.x) is BSD, Solaris 2.x is SysV. SunOS uname says
`SunOS 4.x', Solaris uname says `SunOS 5.x'.
<p>
To setup SunOS emulation, you'll need some of SunOS's libraries.  They can
be found at Sun's support site.  You'll need the following libraries:
<p>

<ul>
<li><tt><a href="ftp://sunsolve.sun.com/pub/patches/102545.readme">
ftp://sunsolve.sun.com/pub/patches/102545-13.tar.Z</a></tt>
 - This archive contains <tt>102545-13/lib/libc.so19</tt> and
<tt>102545-13/5lib/libc.so29</tt>, which should be renamed to
<tt>/emul/sunos/usr/lib/libc.so.1.9</tt> and
 <tt>/emul/sunos/usr/5lib/libc.so.2.9</tt> respectively.
<li><tt><a href="ftp://sunsolve.sun.com/pub/patches/100257-06.tar.Z">
ftp://sunsolve.sun.com/pub/patches/100257-06.tar.Z</a></tt>
 - This archive contains <tt>100257-06/4.1.3c/sun4/ld.so</tt>, which
should be renamed to <tt>/emul/sunos/usr/lib/ld.so</tt>
<li>Lastly, you'll need to get <tt>libdl.so.1.0</tt> from any
SunOS machine, and place this file in <tt>/emul/sunos/usr/lib</tt>.
Please note that the <tt>libdl.so.1.0</tt> from Solaris will
not work for SunOS emulation.
<p>

See compat_sunos(8) and compat_svr4(8) for more information.
<p>
</ul>

<ENTRY>netscape Can NetBSD/sparc run Netscape
There are three 'Netscape' browsers in the <a href="../../Documentation/software/packages.html">NetBSD packages collection</a>:
<p>

<ul>
<li><PKGSRC>www/communicator - complete Netscape communicator install including email. (requires SunOS or Solaris libraries)
<li><PKGSRC>www/navigator - Standalone Navigator browser (requires SunOS or Solaris libraries)
<li><PKGSRC>www/mozilla - Free version of the Netscape browser.
</ul>
<p>

Both the communicator and navigator packages will run faster and
provide more features than mozilla, but they require either Solaris
libraries in /emul/svr4 (see compat_svr4(8)) or SunOS-4.1 libraries in
/emul/sunos (see compat_sunos(8)). All of the SunOS-4.1 libraries
except libdl.so are
available from Sun's <a href="ftp://sunsolve.sun.com/pub/patches/">ftp
site</a>. If anyone is interested in putting together a libdl it would
be greatly appreciated :)

The Solaris-2.5.1 versions of communicator and navigator are the defaults as 
current netscape versions are available for Solaris.  It appears that netscape-4.61
was the last SunOS-4.1 version available.  If you wish to use the SunOS-4.1
version of netscape, set the NS_USE_SUNOS variable in /etc/mk.conf.

<ENTRY>sunos-netscape-socket Under SunOS emulation, Netscape fails with `Error: Can't open display: :0.0'
Solaris Netscape (at least, version 4.51 attempts to use a pipe rather
than a Unix domain socket to connect to the X server. Put
<b>DISPLAY=unix:0.0</b> into netscape's environment before starting it
and it will work ok. The easiest way to do this, as well as the other
variables you need to set up for it, is to have a shell script that does
this before executing netscape:
<p>

<blockquote>
<pre>#!/bin/sh
export XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
export MOZILLA_HOME=/usr/local/netscape.svr4
export XNLSPATH=$MOZILLA_HOME/nls
exec $MOZILLA_HOME/netscape $* </pre>
</blockquote>

</LIST>

<a href="./">Up to <em>NetBSD/sparc Port Page</em></a>
<hr>

<DOCLINK>

<hr>
<address>
  <small>
  <a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">(Contact us)</a>
  $NetBSD: faq.list,v 1.94 2003/10/21 14:11:25 jschauma Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1994-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
