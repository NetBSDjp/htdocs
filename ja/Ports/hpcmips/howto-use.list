<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 2000-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>NetBSD/hpcmips User How-To page</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>Using NetBSD/<font color="#CC0000">hpcmips</font></h1>

This page contains information that current and potential users of
NetBSD/hpcmips can use to help them set up and maintain their
systems.

<LIST>

<SECTION>Getting started with NetBSD/hpcmips

<ENTRY>overview-start Overview of how to start NetBSD/hpcmips
You need at least 2 files to start NetBSD/hpcmips.
<p>

<dl>
  <dt>pbsdboot.exe
  <dd>bootloader runs on WindowsCE environment.
  <dt>netbsd kernel
</dl>
<p>

On pbsdboot pull-down menu,setup hardware type,kernel path.
pbsdboot teach hardware type,flamebuffer information to kernel.
pbsdboot put kernel file image to all Windows CE memory area,
so you MUST backup all of your datas on life with Windows CE era.
to push Boot and loading kernel.You get into NetBSD/hpcmips kernel
world start up.

<ENTRY>overview-filesystem filesystem overview
Choice file system
<p>

<dl>
  <dt>filesystem on Compact Flash Cards or ATA Cards
  <dd>contain DOS partition for pbsdboot.exe and partition for NetBSD 
  <dt>filesystem on SCSI/IDE disk
  <dd>NetBSD/hpcmips supports PCMCIA SCSI Card such as SlimSCSI.so you
      can make your file system on SCSI disks.recommended for developers.
  <dt>filesystem on NFS Server
  <dd>On booting process:
  <dd>NetBSD/hpcmips find pcmcia Ethernet Card
  <dd>find IP address via dhcp server
  <dd>find NFS server 
  <dd>mount / partition from NFS server
</dl>

<ENTRY>cf-recomen Do I need to purchase a CF or ATA card? If so - got any recomendations?
<dl>
  <dt>for typical users.recommended 128M CF.
    <dd>base+kern+etc+comp works fine
  <dt>80M-96M CF
    <dd>base+kern+etc basical NetBSD system available in your pocket.
  <dt>less than 64M CF
    <dd>base+kern+etc with delete large unuse files
  <dt>15M CF
    <dd>north pole for living.some adventure living here.
</dl>

<ENTRY>prep-hwsupport Finding out if your system is supported by NetBSD/hpcmips
Check <a href="../hpcmips/#supported">Supported Machines</a> listing.

<ENTRY>prep-cardsupport Supported CF and PCMCIA cards
<dl>
  <dt>NetBSD <a href="http://projects.netbsd.org/cgi-bin/hw.cgi">Supported
      hardware database</a> is available.  Select PCMCIA and query/add
      database.  NetBSD users build this database.
  <dt>See NetBSD <a href="../../Hardware/pcmcia.html">Machine-independent
      PCMCIA drivers</a>.
  <dt>Compact Flash Storage
    <dd>over 48M CF SanDisk
    <dd>note:on z50 Extreme Memory Compact Flash EM-CF/128/P (PQI FLASH DISK
	1201N)sometimes chokes and hangs the z50, especially under heavy
	"disk" load.
  <dt>PCMCIA Devices cards
    <dd>NE2000 compatible corega Ether PCC-T
    <dd>3com 3C589*
    <dd>Socket Communications,Inc. Standard LP-E CF+ (EA2900-117)
    <dd>Xircom CF Ethernet card
    <dd><a href="http://www.tdk.co.jp/tjbda01/bda11100.htm">TDK LAC-CF010 CF
	Ethernet Card </a>
    <dd>3com 3C1 can get mac address via ep driver.but does not xmit any
	packet.not works. 
    <dd>NTT DoCoMo Paldio 611S (Japan:PHS include CF Modem I/F)
    <dd><a href="http://www.linkease.com.tw/thing/dn_boy.htm">DN-boy</a>
    <dd><a href="http://www.planex.co.jp/product/drive/rxindex.htm">eXtreme
	drive</a>
  <dt>Adaptec SlimSCSI 1460 (APA-1460)
  <dt>Apricorn EZ-GIG Expansion Card
  <dt>Callunacard CT260T2
</dl>

<ENTRY>prep-get Getting the NetBSD/hpcmips distribution:
<dl>
  <dt>check <a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5.2/hpcmips/">ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5.2/hpcmips/</a>
    <dd>binary/sets:NetBSD/hpcmips binary such as base.tgz,comp.tgz..
    <dd>installation:pbsdboot.exe.gz and netbsd.gz
    <dd>source:source file
    <dd>place pbsdboot.exe and netbsd on your CF.and exec pbsdboot.exe to
	start netbsd kernel includes sysinst.
</dl>
        

<ENTRY>prep-getbooter Getting the NetBSD/hpcmips boot loader (pbsdboot.exe)
Download from <a
href="ftp://ftp.netbsd.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">pbsdboot
download directory</a>.
Pbsdboot.exe is compiled for WindowsCE 2.00.
Use Pbsdboot1.exe for Windows CE 1.01.
Pbsdboot is renewed to set up color map for 8 bit frame
buffer machines. Now we can use 256 colors, though we
don't know about details of video controller chip.
(We actually do not know about the video chips at all.)
<p>

Because Windows CE 1.0 does not support color map at all,
the pbsdboot can not support both CE 1.0 and 2.0 with single
binary. Thus pbsdboot.exe is compiled for CE 2.0 or later. You
should involve pbsdboot1.exe for CE 1.0.

<ENTRY>prep-kernel Getting the NetBSD/hpcmips kernel 
<dl>
  <dt>pbsdboot hook up NetBSD/hpcmips kernel file.
    <dd>GENERIC kernel is <a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5.2/hpcmips/binary/kernel/">here</a>. 
    <dd><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5.2/hpcmips/binary/kernel/">kernel
	image for TX3912 machine is here</a>.
    <dd><a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5.2/hpcmips/binary/kernel/">kernel
	image for TX3922 machine is here</a>.
</dl>

<ENTRY>ms_partition Accessing Microsoft partitions
To access MS-DOS partition which can read from WinCE,Read <a href="http://www.netbsd.org/Ports/i386/faq.html#ms_partition">Accessing Microsoft partitions</a>.

<ENTRY>prep-cfpart Preparing a Compact Flash card with a NetBSD partition
<a href="install.txt">Creating a file system on Compact Flash</a>.  

<ENTRY>prep-cfnopart Preparing a Compact Flash card without a NetBSD partition

<ENTRY>prep-support Getting support from mailing lists
<dl>
  <dd><a href="../../MailingLists/#port-hpcmips">NetBSD/hpcmips mailing list
      (English language)</a>
  <dd><a href="http://www.jp.netbsd.org/ja/JP/ml.html#port-hpcmips-ja">NetBSD/hpcmips
      mailing list (Japanese language)</a>
</dl>

<ENTRY>key-map keyboard mapping control
<dl>
  <dt>Swap CTRLCAPS 
    <dd>wsconsctl -w encoding=jp.swapctrlcaps
  <dt>Muhenkan key to Function 10 (for MGL2 switch window)
    <dd>wsconsctl -w map+="keysym Muhenkan = F10"
  <dt>Henkan key to Function 9 (for MGL2 change window)
    <dd>wsconsctl -w map+="keysym Henkan = F9"
</dl>

<SECTION>pbsdboot.exe: the NetBSD/hpcmips boot loader

<ENTRY>booter-background What is the NetBSD/hpcmips boot loader (pbsdboot.exe)?

<ENTRY>booter-options NetBSD/hpcmips boot loader options
<dl>
  <dt>Boot loader from Windows CE 
    <dd>Boot loader from Windows CE environment called "pbsdboot.exe" is
	available from <a
	href="ftp://ftp.netbsd.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">ftp.netbsd.org</a>.
  <dt>Boot loader Options
    <dd><b>-d</b>      break into the kernel debugger
    <dd><b>-m</b>      use miniroot in memory
    <dd><b>-s</b>      single user mode
    <dd><b>-h</b>      use serial console
    <dd><b>-a</b>      ask for name:kernel ask root device (such as wd0a),
	dump device (such as wd0b),file system (such as ffs).  To change root
	device on Slim SCSI card/IDE PCMCIA card,use this option and set root
	device to sd0/wd.
    <dd><b>-b=DEV</b>  change boot device to DEV(wd0,sd0,nfs etc.)
</dl>

<ENTRY>booter-console Booting the kernel with a serial console
<dl>
    <dd>On pbsdboot,check & set these paramater:
    <dd>Options: h
    <dd>Serialport on
    <dd>Connect your terminal with 9600bps, 8bit, non-parity, VT100 mode
  <dt>pbsdboot frame buffer type setting
    <dd>D8_FF : white typo on black screen 
    <dd>D8_00 : black typo on white screen
</dl>

<ENTRY>booter-configfb Configuring the frame buffer type in the boot loader

<ENTRY>booter-quickboot automatically run
To skip touch panel calibration,Power on with shift+power key.
Some systems will automatically run \Storage Card\AutoRun\XXXXXX\Autorun.exe
where XXXXXX is the CPU family.  However, that isnt' true for all
systems.  Also, the exact path is from memory and may be slightly
incorrect.
<p>

<dl>
  <dt>CASIO Cassiopeia:
    <dd>        \CE\R4100\AutoRun.exe
</dl>


<ENTRY>booter-everex-quickboot One-button boot on the Everex Freestyle
Everex Freestyle systems can be configured to start the boot loader
at the press of a button!
To set up one-button boot loader invocation, place a copy of
<tt>pbsdboot.exe</tt> in the root directory of an FAT file system on
a compact flash, with the name <tt>voiceapp.exe</tt>.
<p>

To boot, just push the Freestyle "Record" button.
PHILIPS Nino312 can use this method.

</LIST>

<a href="./">Up to <em>NetBSD/hpcmips Port Page</em></a>
<hr>

<PORTLINK>

<hr>
<address>
  <small>
  www@NetBSD.ORG<br>
  $NetBSD: howto-use.list,v 1.1.1.5 2003/01/11 00:55:32 kano Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 2000-2003
    The NetBSD Foundation, Inc. ALL RIGHTS RESERVED.</a> 
  </small>
</address>

</body>
</html>

