<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html lang="ja">
<head>
<!-- Copyright (c) 2000-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<link rev="made" href="mailto:www@jp.NetBSD.org">
<title>NetBSD/hpcmips User How-To page</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD/<font color="#CC0000">hpcmips</font> をつかおう</h1>


このページは、NetBSD/hpcmips を使っている、あるいは使いたいと考えている
ユーザーが、システムをセットアップし保守することを助けるための情報が
含まれています。


<LIST>

<SECTION>NetBSD/hpcmips を始めよう

<ENTRY>overview-start NetBSD/hpcmips の始め方の概要
NetBSD/hpcmips を始めるにあたって、少なくても2つのファイルが必要です。
<p>

<dl>
  <dt>pbsdboot.exe
  <dd>WindowsCE 環境で動作するブートローダー。
  <dt>netbsd カーネル
</dl>
<p>

pbsdboot のプルダウンメニューで、ハードウェアの型と、カーネルのパスを選択します。
pbsdboot は、ハードウェアの情報 (フレームバッファー情報その他) をカーネルに渡します。
カーネルは Windows CE のメモリー全部を RAM として使いますので、
ブートする前に、 CE メモリーに保存されている全データを *必ず* バックアップしておいてください。
カーネルをロードするには、 Boot を押してください。

<ENTRY>overview-filesystem ファイルシステムの概要
ファイルシステムは、以下のいずれかを選択します:
<p>

<dl>
  <dt>コンパクトフラッシュカード、あるいは、 ATA カード上のファイルシステム
  <dd>pbsdboot.exe のための DOS パーティションと NetBSD のパーティションが必要です。
  <dt>SCSI/IDE ディスク上のファイルシステム
  <dd>NetBSD/hpcmips は SlimSCSI のような PCMCIA SCSI カードをサポートしますので、
      SCSI ディスク上にファイルシステムを作ることができます。これは開発者にお勧めです。
  <dt>NFS サーバー上のファイルシステム
  <dd>起動時の経緯:
  <dd>NetBSD/hpcmips が PCMCIA イーサネットカードを見つけ
  <dd>dhcp サーバーから IP アドレスをもらい
  <dd>NFS サーバーを見つけ 
  <dd>NFS サーバーから、 / パーティションをマウント
</dl>

<ENTRY>cf-recomen コンパクトフラッシュや ATA カードを買う必要がありますか? そうだとすると、推奨は?
<dl>
  <dt>一般的な利用者には、128M CF を推奨します。
    <dd>base+kern+etc+comp の構成で良好に動きます。
  <dt>80M-96M CF
    <dd>base+kern+etc - 基本的な NetBSD システムがポケットに入ります。
  <dt> 64M CF 以下
    <dd>base+kern+etc - 使わない大きなファイルを消せば、収まります。
  <dt>15M CF
    <dd>北極での生活 - 冒険好きの人向けです。
</dl>

<ENTRY>prep-hwsupport この機種で NetBSD/hpcmips がサポートされているかの調査
<a href="../hpcmips/#supported">サポートされている機種</a>一覧をチェック
してください。

<ENTRY>prep-cardsupport サポートされている CF カードと PCMCIA カード
<dl>
  <dt>NetBSD で <a href="http://projects.NetBSD.org/cgi-bin/hw.cgi">サポートされているハードウェアデータベース(一覧)</a>
      があります。 PCMCIA を選択して、データベースの 問い合わせ/追加をします。
  NetBSD ユーザーがこのデータベースをつくるのです。
  <dt>NetBSD <a href="../../Hardware/pcmcia.html">機種非依存
      PCMCIA ドライバー</a> を見てください。
  <dt>コンパクトフラッシュカード
    <dd>48M 以上の SanDisk の CF
    <dd>注意:z50 では、Extreme Memory Compact Flash EM-CF/128/P (PQI FLASH DISK
	1201N) は、時々 つっかかり、 z50 がハングします。
	特に重い "ディスク" 負荷においては。
  <dt>PCMCIA カードデバイス
    <dd>NE2000 互換 corega Ether PCC-T
    <dd>3com 3C589*
    <dd>Lucent/Agere WaveLAN/Orinoco ワイヤレス NIC
    <dd>Socket Communications, Inc. Standard LP-E CF+ (EA2900-117)
    <dd>Xircom CF イーサネットカード
    <dd><a href="http://www.tdk.co.jp/tjbda01/bda11100.htm">TDK LAC-CF010 CF
	イーサネットカード</a>
    <dd>3com 3C1: は ep ドライバーで mac address を取得できますが、パケットをまったく送信しません。
	動きません。
    <dd>NTT DoCoMo Paldio 611S (日本:コンパクトフラッシュモデムインターフェースを持つ PHS)
    <dd><a href="http://www.linkease.com.tw/thing/dn_boy.htm">DN-boy</a>
    <dd><a href="http://www.planex.co.jp/product/drive/rxindex.htm">eXtreme
	drive</a>
  <dt>Adaptec SlimSCSI 1460 (APA-1460)
  <dt>Apricorn EZ-GIG Expansion Card
  <dt>Callunacard CT260T2
</dl>

<ENTRY>prep-get NetBSD/hpcmips 配布物の入手:
<dl>
  <dt><a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.6.1/hpcmips/">ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.6.1/hpcmips/</a> をチェックしてください
    <dd>binary/sets:base.tgz, comp.tgz.. のようなNetBSD/hpcmips バイナリー
    <dd>installation:pbsdboot.exe.gz と netbsd.gz
    <dd>source:ソースファイル
    <dd> pbsdboot.exe と netbsd を CF 上に置いて、 netbsd インストール用カーネル
	(sysinst を含む) を起動するために pbsdboot.exe を実行してください。容量に余裕がない場合は、 netbsd.gz を伸長せずにそのままブートすることができます。
</dl>
        

<ENTRY>prep-getbooter  NetBSD/hpcmips ブートローダー (pbsdboot.exe) の入手
 <a 
href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">pbsdboot
ダウンロードディレクトリー</a> からダウンロードしてください。
pbsdboot.exe は WindowsCE 2.00 用にコンパイルされています。
Windows CE 1.01 には、 pbsdboot1.exe を使います。
pbsdboot.exe は 8ビットフレームバッファー機のために、カラーマップを使うようになりました。
現在、 256色を使うことができるのですが、ビデオコントローラーチップの詳細がわかりません。
(実際にビデオチップについては何も知らないのです。)
<p>

Windows CE 1.0 では カラーマップのサポートがまったく無いために、
pbsdboot は CE 1.0 と 2.0 で同一のバイナリーによるサポートができません。
よって、 pbsdboot.exe は CE 2.0 以降用にコンパイルされています。
CE 1.0 では、 pbsdboot1.exe を使う必要があります。

<ENTRY>prep-kernel  NetBSD/hpcmips カーネルの入手 
<dl>
  <dt>pbsdboot は NetBSD/hpcmips カーネルファイルへブートを引き継ぎます。
    <dd>GENERIC カーネルは <a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.6.1/hpcmips/binary/kernel/">ここ</a> です。 
    <dd><a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.6.1/hpcmips/binary/kernel/"
	>TX3912 機のためのカーネルイメージはここ</a>。
    <dd><a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.5.3/hpcmips/binary/kernel/"
	>TX3922 機のためのカーネルイメージはここ</a>。
</dl>

<ENTRY>ms_partition  Microsoft パーティションのアクセス
WinCE で読みこめる MS-DOS パーティションのアクセスには、
 <a href="../i386/faq.html#ms_partition">Microsoft 
パーティションのアクセス</a> を読んでください。

<ENTRY>prep-cfpart コンパクトフラッシュにNetBSD パーティションを準備する
<a href="install.txt">コンパクトフラッシュ上にファイルシステムを作る</a>。

<ENTRY>prep-cfnopart NetBSDパーティションのないコンパクトフラッシュを準備する

<ENTRY>prep-support メーリングリストによるサポート
<dl>
  <dd><a href="../../MailingLists/#port-hpcmips">NetBSD/hpcmips メーリングリスト
      (英語)</a>
  <dd><a href="http://www.jp.NetBSD.org/ja/JP/ml.html#port-hpcmips-ja">NetBSD/hpcmips
      メーリングリスト (日本語)</a>
</dl>

<ENTRY>key-map キー配置制御
<dl>
  <dt> CTRLCAPS 交換
    <dd>wsconsctl -w encoding=jp.swapctrlcaps
  <dt>無変換キー を Function 10 に (MGL2 ウィンドウ switch に)
    <dd>wsconsctl -w map+="keysym Muhenkan = F10"
  <dt>変換キー を Function 9 に (MGL2 ウィンドウ change に)
    <dd>wsconsctl -w map+="keysym Henkan = F9"
</dl>

<SECTION>pbsdboot.exe: NetBSD/hpcmips ブートローダー

<ENTRY>booter-background  NetBSD/hpcmips ブートローダー (pbsdboot.exe)ってなんですか?

<ENTRY>booter-options NetBSD/hpcmips ブートローダーのオプション
<dl>
  <dt>Windows CE からのブートローダー
    <dd>"pbsdboot.exe" と呼ばれる、Windows CE 環境でのブートローダーは
	 <a
	href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">ftp.NetBSD.org</a>
	にあります。
  <dt>ブートローダーオプション
    <dd><b>-d</b>      カーネルデバッガーに落ちる
    <dd><b>-m</b>      メモリー上の miniroot をつかう
    <dd><b>-s</b>      シングルユーザーモード
    <dd><b>-h</b>      シリアルコンソール使用
    <dd><b>-a</b>      名前を尋ねる:カーネルはルートデバイス (wd0a のような)、
	dump デバイス (wd0b のような)、ファイルシステム (ffs のような)を尋ねます。
	ルートデバイスを Slim SCSI カード / IDE PCMCIA カードに変えるには、
	このオプションを使って、ルートデバイスを sd0/wd に設定してください。
    <dd><b>-b=DEV</b>  起動デバイスを DEV(wd0, sd0, nfs etc.) に変更する
</dl>

<ENTRY>booter-console シリアルコンソールでカーネルを起動する
<dl>
    <dd>pbsdboot 上で、次のパラメーターを確かめ、設定します:
    <dd>Options: h
    <dd>Serialport on
    <dd> 9600bps, 8bit, non-parity, VT100 モードで、ターミナルを接続します。
  <dt>pbsdboot フレームバッファー形式設定
    <dd>D8_FF : 黒地に白文字
    <dd>D8_00 : 白地に黒文字
</dl>

<ENTRY>booter-configfb ブートローダーでのフレームバッファーの型の設定

<ENTRY>booter-quickboot 自動実行
タッチパネル設定を飛ばすには、 shift+power キーを押しながら電源を入れてください。
いくつかの機種では、 \Storage Card\AutoRun\XXXXXX\Autorun.exe で自動実行できます。
 XXXXXX は CPU 種別です。
しかし、これは全ての機種でできるわけでありません。
また正確なパスも記憶によるものなので、ちょっと不正確かもしれません。
<p>

<dl>
  <dt>CASIO Cassiopeia:
    <dd>        \CE\R4100\AutoRun.exe
</dl>


<ENTRY>booter-everex-quickboot Everex Freestyle でのボタンひとつ起動 
Everex Freestyle システムは ボタンをひとつ押すだけで、ブートローダーを開始する設定ができます!
"ボタンひとつでブートローダー発動"をするには、
コンパクトフラッシュ上の FAT ファイルシステムのルートディレクトリーに、
<tt>pbsdboot.exe</tt> を <tt>voiceapp.exe</tt> という名前で置いてください。

<p>

ブートするには、 Freestyle の "Record" ボタンを押すだけです。
PHILIPS Nino312 はこの方法が使えます。

</LIST>

<a href="./"><em>NetBSD/hpcmips ポートのページ</em>に戻る</a>
<hr>

<PORTLINK>

<hr>
<address>
  <small>
  www@jp.NetBSD.org<br>
  $NetBSD: howto-use.list,v 1.19 2006/06/04 11:36:35 kano Exp $<br>
  <!-- Based on english version: -->
  <!-- NetBSD: howto-use.list,v 1.40 2006/03/18 03:34:48 kano Exp   -->
  <a href="../../Misc/disclaimer.html">Copyright &copy; 2000-2003
    The NetBSD Foundation, Inc. ALL RIGHTS RESERVED.</a> 
  </small>
</address>

</body>
</html>
