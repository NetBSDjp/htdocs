<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>

<!-- DO NOT EDIT THIS FILE. EDIT 'howto-use.list' AND RUN 'make' -->

<!-- Copyright (c) 2000
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>NetBSD/hpcmips User How-To page</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD/<font color="#CC0000">hpcmips</font> をつかおう</h1>


このページは、NetBSD/hpcmips を使っている、あるいは使いたいと考えている
ユーザーが、システムをセットアップし保守することを助けるための情報が
含まれています。


<h2><a name="top">NetBSD/hpcmips を始めよう</a></h2>
<ul>
<li>
<a href="#overview-start">NetBSD/hpcmips の始め方の概要</a></li>
<li>
<a href="#overview-filesystem">ファイルシステムの概要</a></li>
<li>
<a href="#cf-recomen">コンパクトフラッシュや ATA カードを買う必要がありますか? そうだとすると、推奨は?</a></li>
<li>
<a href="#prep-hwsupport">この機種で NetBSD/hpcmips がサポートされているかの調査</a></li>
<li>
<a href="#prep-cardsupport">サポートされている CF カードと PCMCIA カード</a></li>
<li>
<a href="#prep-get">NetBSD/hpcmips 配布物の入手:</a></li>
<li>
<a href="#prep-getbooter">NetBSD/hpcmips ブートローダー (pbsdboot.exe) の入手</a></li>
<li>
<a href="#prep-kernel">NetBSD/hpcmips カーネルの入手</a></li>
<li>
<a href="#ms_partition">Microsoft パーティションのアクセス</a></li>
<li>
<a href="#prep-cfpart">コンパクトフラッシュにNetBSD パーティションを準備する</a></li>
<li>
<a href="#prep-cfnopart">NetBSDパーティションのないコンパクトフラッシュを準備する</a></li>
<li>
<a href="#prep-support">メーリングリストによるサポート</a></li>
<li>
<a href="#key-map">キー配置制御</a></li>
</ul>
<h2>pbsdboot.exe: NetBSD/hpcmips ブートローダー</h2>
<ul>
<li>
<a href="#booter-background">NetBSD/hpcmips ブートローダー (pbsdboot.exe)ってなんですか?</a></li>
<li>
<a href="#booter-options">NetBSD/hpcmips ブートローダーのオプション</a></li>
<li>
<a href="#booter-console">シリアルコンソールでカーネルを起動する</a></li>
<li>
<a href="#booter-configfb">ブートローダーでのフレームバッファーの型の設定</a></li>
<li>
<a href="#booter-quickboot">自動実行</a></li>
<li>
<a href="#booter-everex-quickboot">Everex Freestyle でのボタンひとつ起動</a></li>
</ul>


<hr>
<h2>NetBSD/hpcmips を始めよう</h2><hr>
<p><h3>
<a name="overview-start">NetBSD/hpcmips の始め方の概要</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
NetBSD/hpcmips を始めるにあたって、少なくても2つのファイルが必要です。
<p>

<dl>
  <dt>pbsdboot.exe
  <dd>WindowsCE 環境で動作するブートローダー。
  <dt>netbsd カーネル
</dl>
<p>

pbsdboot のプルダウンメニューで、ハードウェアの型、カーネルのパスを設定します。
pbsdboot は、ハードウェアの型とフレームバッファー情報をカーネルに教えます。
pbsdboot は、カーネルファイルイメージを Windows CE の RAM 空間全体に置きます。
それで、 WindowsCE 時代に生活した時のデータをバックアップする *必要があります*。
Boot を押すと、カーネルがロードされ、
NetBSD/hpcmips カーネルの世界が始まります。

</dd></dl>
<p><h3>
<a name="overview-filesystem">ファイルシステムの概要</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
ファイルシステムの選択
<p>

<dl>
  <dt>コンパクトフラッシュカード、あるいは、 ATA カード上のファイルシステム
  <dd> pbsdboot.exe のための DOS パーティションと NetBSD のパーティションを含みます。
  <dt> SCSI/IDE ディスク上のファイルシステム
  <dd>NetBSD/hpcmips は SlimSCSI のような PCMCIA SCSI カードをサポートします。
      それで、 SCSI ディスク上にファイルシステムを作ることができ、
      開発者にお勧めです。
  <dt> NFS サーバー上のファイルシステム
  <dd>起動時の経緯:
  <dd>NetBSD/hpcmips が PCMCIA イーサネットカードを見つけ
  <dd> dhcp サーバーから IP アドレスをもらい
  <dd> NFS サーバーを見つけ 
  <dd>NFS サーバーから、 / パーティションをマウント
</dl>

</dd></dl>
<p><h3>
<a name="cf-recomen">コンパクトフラッシュや ATA カードを買う必要がありますか? そうだとすると、推奨は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt>一般的な利用者には、128M CF を推奨します。
    <dd>base+kern+etc+comp が良く動きます。
  <dt>80M-96M CF
    <dd>base+kern+etc 基本的な NetBSD システムがポケットに入ります。
  <dt> 64M CF 以下
    <dd>base+kern+etc 使わない大きなファイルを消せば。
  <dt>15M CF
    <dd>北極での生活。ここで生活するのは、いくらかの冒険。
</dl>

</dd></dl>
<p><h3>
<a name="prep-hwsupport">この機種で NetBSD/hpcmips がサポートされているかの調査</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a href="../hpcmips/#supported">サポートされている機種</a>一覧をチェック
してください。

</dd></dl>
<p><h3>
<a name="prep-cardsupport">サポートされている CF カードと PCMCIA カード</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt>NetBSD で <a href="http://mail-index.netbsd.org/cgi-bin/hw.cgi">サポートされているハードウェアデータベース(一覧)</a>
      があります。 PCMCIA を選択して、データベースの 問い合わせ/追加をします。
  NetBSD ユーザーがこのデータベースをつくるのです。
  <dt>NetBSD <a href="../../Hardware/pcmcia.html">機種非依存
      PCMCIA ドライバー</a> を見てください。
  <dt>コンパクトフラッシュカード
    <dd>48M 以上の SanDisk の CF
    <dd>注意:z50 では、Extreme Memory Compact Flash EM-CF/128/P (PQI FLASH DISK
	1201N) は、時々 つっかかり、 z50 がハングします。
	特に重い "ディスク" 負荷においては。
  <dt>PCMCIA カードデバイス
    <dd>NE2000 互換 corega Ether PCC-T
    <dd>3com 3C589*
    <dd>Socket Communications,Inc. Standard LP-E CF+ (EA2900-117)
    <dd>Xircom CF イーサネットカード
    <dd><a href="http://www.tdk.co.jp/tjbda01/bda11100.htm">TDK LAC-CF010 CF
	イーサネットカード</a>
    <dd>3com 3C1 は ep ドライバーで mac address を取得できますが、パケットをまったく送信しません。動きません。
    <dd>NTT DoCoMo Paldio 611S (日本:コンパクトフラッシュモデムインターフェースを持つ PHS)
    <dd><a href="http://www.linkease.com.tw/thing/dn_boy.htm">DN-boy</a>
    <dd><a href="http://www.planex.co.jp/product/drive/rxindex.htm">eXtreme
	drive</a>
  <dt>Adaptec SlimSCSI 1460 (APA-1460)
  <dt>Apricorn EZ-GIG Expansion Card
  <dt>Callunacard CT260T2
</dl>

</dd></dl>
<p><h3>
<a name="prep-get">NetBSD/hpcmips 配布物の入手:</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt> <a 
href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5/hpcmips/">ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5/hpcmips/</a>
      をチェックしてください。
    <dd>binary/sets: base.tgz,comp.tgz.. のようなNetBSD/hpcmips バイナリー
    <dd>installation:pbsdboot.exe.gz と netbsd.gz
    <dd>source:ソースファイル
    <dd> pbsdboot.exe と netbsd を CF 上に置いて、 sysinst を含む netbsd カーネルを開始するために
        pbsdboot.exe を実行してください。
</dl>
        

</dd></dl>
<p><h3>
<a name="prep-getbooter">NetBSD/hpcmips ブートローダー (pbsdboot.exe) の入手</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
 <a 
href="ftp://ftp.netbsd.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">pbsdboot
ダウンロードディレクトリー</a> からダウンロードしてください。
pbsdboot.exe は WindowsCE 2.00 用にコンパイルされています。
Windows CE 1.01 には、 pbsdboot1.exe を使います。
pbsdboot は 8ビットフレームバッファー機のために、カラーマップ設定を書き換えました。
現在、 256色を使うことができるのですが、ビデオコントローラチップの詳細がわかりません。
(実際にビデオチップについては何も知らないのです。)
<p>

Windows CE 1.0 では カラーマップのサポートがまったく無いために、
pbsdboot は CE 1.0 と 2.0 で同一のバイナリーによるサポートができません。
よって、 pbsdboot.exe は CE 2.0 以降用にコンパイルされています。
CE 1.0 では、 pbsdboot1.exe を使う必要があります。

</dd></dl>
<p><h3>
<a name="prep-kernel">NetBSD/hpcmips カーネルの入手</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt>pbsdboot NetBSD/hpcmips カーネルファイルの取り付け。
    <dd>GENERIC カーネルは <a href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5/hpcmips/binary/kernel/">ここ</a> です。 
    <dd><a 
href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5/hpcmips/binary/kernel/"> TX3912 機のためのカーネルイメージはここ</a>。
    <dd><a 
href="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-1.5/hpcmips/binary/kernel/"> 
TX3922 機のためのカーネルイメージはここ</a>。
</dl>

</dd></dl>
<p><h3>
<a name="ms_partition">Microsoft パーティションのアクセス</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
WinCE で読みこめる MS-DOS パーティションのアクセスには、
 <a href="http://www.netbsd.org/Ports/i386/faq.html#ms_partition">Microsoft 
パーティションのアクセス</a> を読んでください。

</dd></dl>
<p><h3>
<a name="prep-cfpart">コンパクトフラッシュにNetBSD パーティションを準備する</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a href="install.txt">コンパクトフラッシュ上にファイルシステムを作る</a>。

</dd></dl>
<p><h3>
<a name="prep-cfnopart">NetBSDパーティションのないコンパクトフラッシュを準備する</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

</dd></dl>
<p><h3>
<a name="prep-support">メーリングリストによるサポート</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dd><a href="../../MailingLists/#port-hpcmips">NetBSD/hpcmips メーリングリスト
      (英語)</a>
  <dd><a href="http://www.jp.netbsd.org/ja/JP/ml.html#port-hpcmips-ja">NetBSD/hpcmips
      メーリングリスト (日本語)</a>
</dl>

</dd></dl>
<p><h3>
<a name="key-map">キー配置制御</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt> CTRLCAPS 交換
    <dd>wsconsctl -w encoding=jp.swapctrlcaps
  <dt>無変換キー を Function 10 に (MGL2 ウィンドウ switch に)
    <dd>wsconsctl -w map+="keysym Muhenkan = F10"
  <dt>変換キー を Function 9 に (MGL2 ウィンドウ change に)
    <dd>wsconsctl -w map+="keysym Henkan = F9"
</dl>

</dd></dl>
<hr>
<h2>pbsdboot.exe: NetBSD/hpcmips ブートローダー</h2><hr>
<p><h3>
<a name="booter-background">NetBSD/hpcmips ブートローダー (pbsdboot.exe)ってなんですか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

</dd></dl>
<p><h3>
<a name="booter-options">NetBSD/hpcmips ブートローダーのオプション</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
  <dt>Windows CE からのブートローダー
    <dd>"pbsdboot.exe" と呼ばれる、Windows CE 環境でのブートローダーは
	 <a
	href="ftp://ftp.netbsd.org/pub/NetBSD/arch/hpcmips/pocketbsd/pbsdboot/">ftp.netbsd.org</a>
	にあります。
  <dt>ブートローダーオプション
    <dd><b>-d</b>      カーネルデバッガーに落ちる
    <dd><b>-m</b>      メモリー上の miniroot をつかう
    <dd><b>-s</b>      シングルユーザーモード
    <dd><b>-h</b>      シリアルコンソール使用
    <dd><b>-a</b>      名前を尋ねる:カーネルはルートデバイス (wd0a のような)、
	dump デバイス (wd0b のような)、ファイルシステム (ffs のような)を尋ねます。
  ルートデバイスを Slim SCSI カード / IDE PCMCIA カードに変えるには、
このオプションを使って、ルートデバイスを sd0/wd に設定してください。
    <dd><b>-b=DEV</b>  起動デバイスを DEV(wd0,sd0,nfs etc.) に変更する
</dl>

</dd></dl>
<p><h3>
<a name="booter-console">シリアルコンソールでカーネルを起動する</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<dl>
    <dd>pbsdboot 上で、次のパラメーターを確かめ、設定します:
    <dd>Options: h
    <dd>Serialport on
    <dd> 9600bps, 8bit, non-parity, VT100 モードで、ターミナルを接続します。

  <dt>pbsdboot フレームバッファー形式設定
    <dd>D8_FF : 黒地に白文字
    <dd>D8_00 : 白地に黒文字
</dl>

</dd></dl>
<p><h3>
<a name="booter-configfb">ブートローダーでのフレームバッファーの型の設定</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

</dd></dl>
<p><h3>
<a name="booter-quickboot">自動実行</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
タッチパネル設定を飛ばすには、 shift+power キーを押しながら電源を入れてください。
いくつかの機種では、 \Storage Card\AutoRun\XXXXXX\Autorun.exe で自動実行できます。
 XXXXXX は CPU 種別です。
しかし、これは全ての機種でできるわけでありません。
また正確なパスも記憶によるものなので、ちょっと不正確かもしれません。
<p>

<dl>
  <dt>CASIO Cassiopeia:
    <dd>        \CE\R4100\AutoRun.exe
</dl>


</dd></dl>
<p><h3>
<a name="booter-everex-quickboot">Everex Freestyle でのボタンひとつ起動</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Everex Freestyle システムは ボタンをひとつ押すだけで、ブートローダーを開始する設定ができます!
"ボタンひとつでブートローダー発動"をするには、
コンパクトフラッシュ上の FAT ファイルシステムのルートディレクトリーに、
<tt>pbsdboot.exe</tt> を <tt>voiceapp.exe</tt> という名前で置いてください。

<p>

ブートするには、 Freestyle の "Record" ボタンを押すだけです。
PHILIPS Nino312 はこの方法が使えます。

</dd></dl>
<hr>

<a href="./"><em>NetBSD/hpcmips ポートのページ</em>に戻る</a>
<hr>

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../"><img
	src="/images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../"><img
	src="/images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></table>
</td><td>
  <table><tr><td>
    <a href="../../Ports/"><img
	src="/images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../Ports/"><img
	src="/images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">対応機種</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  www@JP.NetBSD.ORG<br>
  $NetBSD: howto-use.html,v 1.5 2001/05/19 07:43:41 kano Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy;
    2000
    The NetBSD Foundation, Inc. ALL RIGHTS RESERVED.</a> 
  </small>
</address>

</body>
</html>
