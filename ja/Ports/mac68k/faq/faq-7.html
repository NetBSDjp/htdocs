<HTML>
<HEAD>
<TITLE>NetBSD/mac68k F.A.Q.とその回答: ソフトウェア移植とプログラミング</TITLE>
</HEAD>
<BODY>
<A HREF="faq-6.html">Previous</A>
<A HREF="faq-8.html">Next</A>
<A HREF="faq.html#toc7">Table of Contents</A>
<HR>
<H2><A NAME="porting"></A> <A NAME="s7">7. ソフトウェア移植とプログラミング</A></H2>

<H2><A NAME="E.A"></A> <A NAME="ss7.1">7.1 NetBSDやNetBSD/mac68kのソースは、AT&amp;T、USL、またはAppleの著作権やライセンスによって制限を受けていますか？</A></H2>

<P>NetBSDのソースはAT&amp;T、USL、Appleまたその他のいかなる団体・個人からも制約を受けません。ソースの大部分はカルフォルニア大学バークレー校式のソフトウェアライセンスによって配付され(詳しくは
<A HREF="http://www.netbsd.org/Goals/redistribution.html">http://www.netbsd.org/Goals/redistribution.html</A>を参照)、その他の部分は(すべてカーネルの外)はGNU General Public Licenseにしたがって再配布されています。</P>


<H2><A NAME="E.B"></A> <A NAME="ss7.2">7.2 MacOS側ユーティリティ(Booter、Installer、Mkfs)のソースは入手できますか？</A></H2>

<P>はい、できます。プロジェクトファイルを使うにはCodeWarrior (またはひょっとしてThink C 6.0以降)が必要です。ソースは以下のURLまたはそのミラーサイトから入手できます:
<BLOCKQUOTE><CODE>
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/arch/mac68k/utils/src/">ftp://ftp.netbsd.org/pub/NetBSD/arch/mac68k/utils/src/</A></CODE></BLOCKQUOTE>
</P>
<P>またftp.macbsd.comからも入手できます:
<UL>
<LI>
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/booter/">ftp://ftp.macbsd.com/pub/NetBSD/booter/</A></LI>
<LI>
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/installer/">ftp://ftp.macbsd.com/pub/NetBSD/installer/</A></LI>
</UL>
</P>
<P>どちらのサイトが最新バージョンを持っているか保証がないので、念の為両方チェックするのがよいでしょう。</P>


<H2><A NAME="E.C"></A> <A NAME="ss7.3">7.3 NetBSD/mac68kは共有ライブラリに対応していますか？</A></H2>

<P>はい、しています。</P>



<H2><A NAME="E.D"></A> <A NAME="ss7.4">7.4 共有ライブラリは何のためにあるのですか？</A></H2>

<P>W. Richard Stevens著<I>Advanced Programming in the Unix Environment</I>の第7.7節『Shared Libraries』を参照してください。[訳註:日本語版の情報をkenn@macbsd.comまでお寄せください]</P>



<H2><A NAME="E.E"></A> <A NAME="ss7.5">7.5 カーネルソースはどこから入手できますか？</A></H2>

<P>最新版のカーネルソースは、ftp.netbsd.orgかミラーサイトの
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/">/pub/NetBSD/NetBSD-current/src/sys/</A>で入手できます。
また、
<A HREF="/Ports/mac68k/meta-faq/meta-faq.html" origlink="../meta-faq/meta-faq.html">NetBSD/mac68kメタFAQ</A>にも、currentソースを追いかけるにあたっての情報がありますから、そちらも参照してください。</P>


<H2><A NAME="E.F"></A> <A NAME="ss7.6">7.6 NetBSD/mac68k用にクロスコンパイラ環境を作ることはできますか？</A></H2>

<P>できます。この件に関して協力していただいた皆さんに感謝します。Markus Hitter (hitterm@trier.fh-rpl.de)による
<A HREF="http://www.macbsd.com/macbsd/howto/cc-HOWTO">クロスコンパイラHOWTO</A>があります。</P>
<P>また、Alan Palmer (hawks@mcs.com)はSolaris 2.4上でNetBSD/mac68k用にクロスコンパイルを行う環境を整備しました。それについては:
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/">ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/</A>
を参照してください。</P>
<P>上のHOWTOはちょっと古いのですが、他のプラットフォームでのNetBSD向けのクロスコンパイラを用意にするため作業が行われています。</P>


<H2><A NAME="E.G"></A> <A NAME="ss7.7">7.7 カーネルデバッガのマニュアルはありますか？</A></H2>

<P>あります。カーネルデバッガのマニュアルページは<CODE>ddb(4)</CODE>です。</P>
<P>回答を寄せてくれたScott Reynolds (scottr@og.org)とAllen Briggs (briggs@puma.macbsd.com)に感謝します。</P>


<H2><A NAME="E.H"></A> <A NAME="ss7.8">7.8 UN*Xカーネル内部を理解するのに良い本はありませんか？</A></H2>

<P>メタFAQの
<A HREF="/Ports/mac68k/meta-faq/meta-faq-5.html" origlink="../meta-faq/meta-faq-5.html">推薦図書</A>の項を参照してください。</P>


<H2><A NAME="E.I"></A> <A NAME="ss7.9">7.9 ハードウェアをサポートするために調査をするようなMacOSユーティリティはありますか？</A></H2>

<P>あります。Appleは次の場所にかなりの数のユーティリティを持っています:
<BLOCKQUOTE><CODE>
<A HREF="ftp://dev.apple.com/devworld/Tool_Chest/Devices_&_Hardware">ftp://dev.apple.com/devworld/Tool_Chest/Devices_&_Hardware</A></CODE></BLOCKQUOTE>

この下に、少くとも三つの有用なサブディレクトリがあります:
<UL>
<LI><CODE>Apple_Desktop_Bus</CODE> - ADB周り</LI>
<LI><CODE>NuBus_Slot_Manager</CODE> - Slotsユーティリティがある</LI>
<LI><CODE>Display_&_Video_Hardware</CODE> -ビデオ周り</LI>
</UL>
</P>
<P>上の情報を寄せてくれたAlan Palmer (apalmer@il.us.swissbank.com)に大変感謝します。</P>


<H2><A NAME="E.J"></A> <A NAME="ss7.10">7.10 何かコンパイルしようとするといつも<CODE>sys_errlist[]</CODE>が再定義されているのですが</A></H2>

<P>伝統的にBSDシステムでは<CODE>sys_errlist[]</CODE>配列の存在は知られてはいたもののヘッダファイルで定義されることがなかったのです。このため、たくさんの古いプログラムが自前でこの配列を宣言しています(これはシステムのエラーメッセージ文字列の配列です)。しかしNetBSDはシステムヘッダファイルでこの変数を宣言しており、なおかつ型が古いプログラムが仮定していた型と異るために、宣言の衝突が起きるのです。</P>
<P>通常はソースファイル中でこの配列の宣言部分をコメントアウトしてしまえば安全です。システムのヘッダファイルを変更すると、他の新しいプログラムのコンパイルでエラーとなることがありますからお薦めしません。最近のプログラムでは、システムヘッダファイルでの宣言があるかどうか調べて、あれば自前の宣言を行わないようにコンフィギュアできることが多くなっています。</P>


<H2><A NAME="E.K"></A> <A NAME="ss7.11">7.11 G++でiostreamsを使ったプログラムをコンパイルすると決まって次のエラーが出ます:</A></H2>

<P>
<BLOCKQUOTE><CODE>
<PRE>
/usr/libexec/ld.so: Undefined symbol &quot;_tgetstr&quot; in testprog:
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Jason Thorpe (thorpej@nas.nasa.gov)からの回答:
<BLOCKQUOTE>
これはlibg++のとても情けないバグです(まあ、これはNetBSDの共有ライブラリ実装の情けないバグとたまたま変わった形で相互作用しているんですが)。
</BLOCKQUOTE>

<BLOCKQUOTE>
<CODE>-ltermcap</CODE>をライブラリリストの最後につけ加えてください。
</BLOCKQUOTE>
</P>


<H2><A NAME="E.L"></A> <A NAME="ss7.12">7.12 既にNetBSD/mac68kに移植されたソフトウェアのソースやバイナリを入手できる場所はありますか？</A></H2>

<P>あります。1.3リリースから、NetBSDにはFreeBSDのportsシステムをベースとしたpackageシステムが付属するようになりました。パッケージには、インターネットから入手できるポピュラーなソフトウェアを素早くコンパイル・インストールするのに必要なファイル一式が含まれています。下のNetBSD packageシステムドキュメントを参照してください:</P>
<P>
<A HREF="http://www.netbsd.org/Documentation/netbsd/Packages.txt">http://www.netbsd.org/Documentation/netbsd/Packages.txt</A>
</P>

<HR>
<A HREF="faq-6.html">Previous</A>
<A HREF="faq-8.html">Next</A>
<A HREF="faq.html#toc7">Table of Contents</A>
</BODY>
</HTML>
