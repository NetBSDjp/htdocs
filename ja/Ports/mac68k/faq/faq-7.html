<html>
<head>
<!-- Copyright (c) 1997, 1998
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<TITLE>Porting and Programming</TITLE>
</HEAD>
<BODY>
<A NAME="porting"></A> <H1>7. <A NAME="s7"></A>Porting and Programming</H1>
<P>
<HR>
<A HREF="faq.html#toc7">Contents of this section</A><HR>
</P>

<A NAME="E.A"></A> <H2>7.1 <A NAME="ss7.1"></A> Is any of the NetBSD or NetBSD/mac68k source restricted by AT&amp;T, USL, or Apple copyrights or restrictions?</H2>

<P>NetBSD sources are not encumbered by AT&amp;T, USL, Apple, or anyone
else.  The sources are distributed under a Berkeley-style software license
(see 
<A HREF="http://www.netbsd.org/Goals/redistribution.html">http://www.netbsd.org/Goals/redistribution.html</A>
 for
details), with portions of it (outside of the kernel) falling under the GNU
General Public License.</P>
<P></P>
<P></P>

<A NAME="E.B"></A> <H2>7.2 <A NAME="ss7.2"></A> Is the source for the Mac-side Utilities available (Booter, Installer, Mkfs)?</H2>

<P>Yes.  You will need CodeWarrior (or perhaps Think C 6.0 or greater) to work
with the project file.  The source is available on:
<BLOCKQUOTE><CODE>
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/arch/mac68k/utils/src/">ftp://ftp.netbsd.org/pub/NetBSD/arch/mac68k/utils/src/</A>
</CODE></BLOCKQUOTE>

or any of its mirrors.</P>
<P>Source is also available from ftp.macbsd.com:
<UL>
<LI>
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/booter/">ftp://ftp.macbsd.com/pub/NetBSD/booter/</A>
</LI>
<LI>
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/installer/">ftp://ftp.macbsd.com/pub/NetBSD/installer/</A>
</LI>
</UL>
</P>
<P>There is no guarantee that either site will have the most recent version of
the source, so you should probably check both sites.</P>
<P></P>

<A NAME="E.C"></A> <H2>7.3 <A NAME="ss7.3"></A> Does NetBSD/mac68k support shared libraries?</H2>

<P>Yes.</P>
<P></P>
<P></P>

<A NAME="E.D"></A> <H2>7.4 <A NAME="ss7.4"></A> What are shared libraries for?</H2>

<P>Consult <I>Advanced Programming in the Unix Environment</I> by W. Richard
Stevens. Chapter 7.7 -- Shared Libraries.</P>
<P></P>
<P></P>

<A NAME="E.E"></A> <H2>7.5 <A NAME="ss7.5"></A> Where do I get kernel sources from?</H2>

<P>The latest kernel sources are available from ftp.netbsd.org or one of the
mirrors in the directory
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/NetBSD-current/src/sys/">/pub/NetBSD/NetBSD-current/src/sys/</A>
.
Check out the
<A HREF="../meta-faq/">NetBSD/mac68k Meta-FAQ</A>

for more information on following current sources.</P>
<P></P>

<A NAME="E.F"></A> <H2>7.6 <A NAME="ss7.6"></A> Is there any way to set up a cross-compiler for NetBSD/mac68k?</H2>

<P>Yes.  Thanks to everyone who has contributed to this one.  There is a HOWTO
by Markus Hitter (hitterm@trier.fh-rpl.de) located at:
<A HREF="http://www.macbsd.com/macbsd/howto/cc-HOWTO">http://www.macbsd.com/macbsd/howto/cc-HOWTO</A>
</P>
<P>Also, Alan Palmer (hawks@mcs.com) has setup a cross-compiler for Solaris
2.4.  It can be found at:
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/">ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/</A>
</P>
<P>Although the above HOWTO's might be slightly out of date, work is ongoing
to make it easier to cross-compile NetBSD on other platforms.</P>
<P></P>

<A NAME="E.G"></A> <H2>7.7 <A NAME="ss7.7"></A> Is there any kind of manual for the kernel debugger? </H2>

<P>Yes, the manual page for the kernel debugger is <CODE>ddb(4)</CODE>.</P>
<P>Thanks to Scott Reynolds (scottr@og.org) and Allen Briggs
(briggs@puma.macbsd.com) for this answer.</P>
<P></P>

<A NAME="E.H"></A> <H2>7.8 <A NAME="ss7.8"></A> Are there any good books to help me understand UN*X internals?</H2>

<P>Check out the 
<A HREF="../meta-faq/meta-faq-5.html">Recommended Reading</A>

section of the Meta-FAQ.</P>
<P></P>

<A NAME="E.I"></A> <H2>7.9 <A NAME="ss7.9"></A> Are there any MacOS utilities for investigating hardware so I can begin implementing support for it?</H2>

<P>Yes.  Apple has quite a few useful utilities located at:
<BLOCKQUOTE><CODE>
<A HREF="ftp://dev.apple.com/devworld/Tool_Chest/Devices_&_Hardware">ftp://dev.apple.com/devworld/Tool_Chest/Devices_&_Hardware</A>
</CODE></BLOCKQUOTE>

There are at least three useful subfolders in this directory:
<UL>
<LI><CODE>Apple_Desktop_Bus</CODE> - utilities to work with ADB</LI>
<LI><CODE>NuBus_Slot_Manager</CODE> - contains the Slots utility</LI>
<LI><CODE>Display_&_Video_Hardware</CODE> - utilities for investigating video hardware</LI>
</UL>
</P>
<P>Many thanks to Alan Palmer (apalmer@il.us.swissbank.com) for providing the
above information.</P>
<P></P>

<A NAME="E.J"></A> <H2>7.10 <A NAME="ss7.10"></A> Why is <CODE>sys_errlist[]</CODE> redefined when I try to compile anything?</H2>

<P>This is because in traditional BSD systems, the <CODE>sys_errlist[]</CODE> array
was generally known to exist, but it had never officially been defined in
any include file.  So, many older programs which use this array (which is
fairly common since it contains a list of system error strings) had to
include their own definitions of it.  However, NetBSD did choose to define
it in a header file, and it is not defined in quite the same way as most of
the older programs do it, so a conflict often arises.</P>
<P>It is usually safe to simply comment out the offending line in the source
file, since changing the header file will probably break the compilation of
many newer programs.  Most recent programs can be configured to look for
the definition if it exists or do not include their own definition.</P>
<P></P>

<A NAME="E.K"></A> <H2>7.11 <A NAME="ss7.11"></A> Whenever I compile a program using iostreams with g++, I get this error:</H2>

<P>
<BLOCKQUOTE><CODE>
<PRE>
/usr/libexec/ld.so: Undefined symbol &quot;_tgetstr&quot; in testprog:
</PRE>
</CODE></BLOCKQUOTE>

How can I fix this?</P>
<P>From Jason Thorpe (thorpej@nas.nasa.gov):
<BLOCKQUOTE>
This is a really lame bug in libg++ (well, that happened to interact
strangely with a lame bug in the NetBSD shared lib implementation).
</BLOCKQUOTE>

<BLOCKQUOTE>
Add -ltermcap to the end of the library list.
</BLOCKQUOTE>
</P>
<P></P>

<A NAME="E.L"></A> <H2>7.12 <A NAME="ss7.12"></A> Is there anywhere I can get source or binaries that have already been ported to NetBSD/mac68k?</H2>

<P>Yes.  As of the 1.3 release, NetBSD incorporates the package system (based
on the FreeBSD ports system).  The package collection contains the
necessary files to help you quickly install many of the common software
packages available on the Internet.  Please take a look at the NetBSD
package system documentation for more information:</P>
<P>
<A HREF="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/Packages.txt">ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/Packages.txt</A>
</P>
<P></P>
<P></P>

<P>
<HR>
<A HREF="faq-8.html">Next</A> Chapter,
<A HREF="faq-6.html">Previous</A> Chapter
<HR>
</P>
<P>
Table of contents of <A HREF="faq.html#toc7">this chapter</A>,
 General <A HREF="faq.html#toc">table of contents</A></P>
<P>
<A HREF="faq.html">Top</A> of the document,
 <A HREF="#0"> Beginning of this Chapter</A></P>

<hr>
<address>
  www@NetBSD.ORG<br>
  $NetBSD: faq-7.html,v 1.3 1999/05/02 13:20:54 kenn Exp $<br>
  <a href="../../../Misc/disclaimer.html">Copyright &copy; 1997, 1998
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</BODY>
</HTML>
