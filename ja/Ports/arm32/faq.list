<HTML>
<HEAD>
    <!-- The document title -->
    <TITLE>NetBSD/arm32 FAQ</TITLE>

    <!-- This can all be ignored - its just to keep all the search engines happy :) -->
    <META NAME="Keywords" content="NetBSD/arm32 RiscBSD Unix ARM StrongARM Shark
    DNARD CATS RiscPC A7000">
    <META NAME="Copyright" content="(C) 1996-2003 The NetBSD Foundation Inc. ALL RIGHTS
    RESERVED">
    <META NAME="Description" content="NetBSD/arm32 FAQ List">
    <META NAME="Credits" content="Written by Paul Wain - Paul.Wain@nc.com -
based on the FAQ by Neil Carson - neil@causality.com">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">

<!-- A nice page header -->
<TABLE WIDTH="100%" BORDER=0>
<TR>
    <TD WIDTH="30%" ALIGN=CENTER>
        <IMG SRC="/images/logos/armpowered.gif" origlink="../../images/logos/armpowered.gif" ALT="ARM Logo">
    <TD>
        <!-- #309acf is as near to exact on the Arm logo color as I can find -->
        <FONT COLOR="#309acf" SIZE="+2"><B>The NetBSD/arm32 FAQ List</B></FONT>
</TABLE>

<!-- Introduction -->

This is the FAQ list for the NetBSD/arm32 port of NetBSD. NetBSD/arm32 runs on a
large range of machines so there may be information here that doesn't apply to
your machine. Please read the answers carefully to decide if they apply to your
machine! What is right for some Arm based machines may not be right for others!
<P>
If you have any comments, suggestions or FAQs that we've missed, please feel
free to email them to <A HREF="mailto:Paul.Wain@brunel.ac.uk">Paul Wain</A>.
<p>
See also:
<ul>
    <li> <a href="../../Documentation/netbsd/wscons.html">The wscons
	FAQ</a>, for the platform-independent workstation console
	driver which NetBSD/arm32 uses.
</ul>

<!-- The FAQ List Itself -->
<LIST>

<SECTION>General Information

<ENTRY>gen_proc What Processors does NetBSD/arm32 support?
Put basically, NetBSD/arm32 supports most Arm processors since the ARM 6. This
includes the ARM 7500, ARM 6, ARM 7, StrongArm 110, and various processors
in between. A full list can be found on the main
<A HREF="../arm32/">NetBSD/arm32 page.</A>

<ENTRY>gen_mach What Machines does NetBSD/arm32 support?
There is quite a long list now. It ranges from the Acorn RiscPC, ChalTech CATS
board to the Digital/Compaq DNARD (also known as the Shark). A full list can
be found on the main <A HREF="../arm32/">NetBSD/arm32 page.</A>

<ENTRY>gen_not_sup What if I have a processor/machine not mentioned above?
Then probably you are out of luck! NetBSD/arm32 does not run on the ARM 2
or ARM 3 range of processors. Earlier Acorn Machines (such as the A5000, A310)
used these processors and thus are not supported. (To put it technically these
were 26 bit processors and NetBSD/arm32 needs the 32 bit ARM processors, in
addition the MMU was not as straight forward as one would hope, and therefore
they only supported small amounts of memory).

<ENTRY>gen_inst How do I get and install NetBSD/arm32?
Because of the large number of supported platforms, take a look at the
installation guide in the latest Arm32 distribution on <A
HREF="ftp://ftp.netbsd.org/pub/NetBSD/">ftp.netbsd.org</A> or one of its 
mirrors.

<ENTRY>gen_uvm NetBSD/xyz has UVM. Does NetBSD/arm32?
Yes, with the 1.4 release of NetBSD/arm32 UVM support is fully functional.

<ENTRY>gen_shark_disk_boot Booting a shark from an internal disk
The shark has an internal IDE connector, but does not have the 12V used
by most standard IDE drives.  This makes a laptop drive with a 'laptop
to standard IDE' converter the best choice. The drive can be secured to
the top of the ROM slot track using cable ties.
<p>
To autoboot from the disk you will need to install the <tt>wdboot</tt>
kernel and from the PROM type:
<pre>setenv boot-device disk:\netbsd</pre>

<ENTRY>shark_boot Shark boot loader
The Shark's firmware is capable of loading the NetBSD kernel directly
from an FFS and so does not require an on-disk boot loader.
<p>
Some Sharks are configured to load <code>/boot</code> by default, in
which case you can just link <code>/netbsd</code> to that name.

<ENTRY>errors_dma_dimm Possible cause of unsuccessful DMA accesses?
From Bruce Martin &lt;BruceM@cat.co.za&gt;:
<br><br>
After extensive bug searching into the problem of DMA accesses being
unsuccessful on the arm32 (the EBSA285 in particular), it was discovered
that the problem was only an incorrect DIMM module! The EBSA board
specifies that only 2- or 4-array DIMMs may be used, while we had an
8-array part in. Putting a 4-array DIMM in seemed to solve the problem.
Please keep that in mind if you are every having memory transfer related
problems on the EBSA285.

<ENTRY>shard_firmware_upgrade Upgrading the Shark's firmware
Upgrading the Shark's firmware is somewhat risky. If you want to do it,
start by reading
<a href="http://mail-index.netbsd.org/port-arm32/1999/10/30/0003.html">Chris'
summary</a>

<SECTION>X Servers

<ENTRY>x_xfree86 I'm running on a Shark(DNARD) or CATS board. What X Server should I get?
Use the variant of XFree86 that came with your distribution of NetBSD/arm32.
Support for these will be rolled back into the NetBSD distribution as time
permits. However for now the original X server from Digital/Compaq can be
retrieved from 
<A HREF="http://www.research.compaq.com/SRC/iag/">
http://www.research.compaq.com/SRC/iag/</A>. (Click on the "explore" link
and follow through to the "software" pages. Sorry for not pointing explicitly at
these pages but there is legal page to go through).

<ENTRY>x_arm32 I'm running on a RiscPC or A7000. What X Server should I get?
You will need to obtain a copy of X-arm from <A
HREF="ftp://ftp.ph.kcl.ac.uk">ftp.ph.kcl.ac.uk</A>. This is based on the X11R6.1
server from MIT. Although this is freely available in binary format, the source
has never been released by Rob Black. There are arm32 developers looking at
moving these machines to XFree86 as time permits.

<ENTRY>x_xsrc Can I use the 'xsrc' distribution from NetBSD.org?
Not really. You can use this distribution to make the libraries and base
programs that come with X. However as mentioned in the last 2 FAQs, you will not
be able to use the xsrc to create your own X Server.



<SECTION>Networking (and Network Booting)

<ENTRY>net_etherm My EtherM card sometimes hangs after booting. What should I do?
This is a known problem, and appears to be a flaw in the card design, that
stops the interface being turned off when it should be. All we can recommend 
is rebooting until it works.

<ENTRY>net_shark I can't get my DNARD/Shark to netboot a new kernel.
The chances are, you need to update your firmware. Folks over on the NetBSD/arm32
mailing list are very good at helping out on this one. (Note: a link is not
provided for legal reasons at this point).

<ENTRY>net_etherh Help! My RiscPC's etherH card won't configure under NetBSD/arm32.
There are many fixes for this. The best one seems to be to either configure
the card or reset the card in your !Boot file under RiscOS. (I found the 
latter to be more reliable with older cards, however most people seem to
prefer configuring the card and then letting NetBSD reset it).

<SECTION>Peripherals and Podules

<ENTRY>perip_acorn On my Acorn Machine, what peripherals are supported?
The NetBSD/arm32 port page has full details as and when these are added. Take a
look at <A HREF="../arm32/">The NetBSD/arm32</A> pages.

<ENTRY>perip_other On my non-Acorn machine, what peripherals are supported?
For Arm based machines such as the CATS board there may be a PCI slot. If
this is the case, you should be able to use any PCI card that NetBSD supports
(except for those that have 'machine dependent' requirements). Take a look at
the <A HREF="../../Hardware/">supported hardware</A> pages. In addition
the NetBSD/arm32 port page has mode details. Take a look at 
<A HREF="../arm32/">The NetBSD/arm32</A> pages.

<SECTION>Performance

<ENTRY>perf_shell Certain operations seem really slow. What can I do?
Sometimes things can seem a little slow, like for example running shell scripts.
This is to do with the way the memory cache was implemented. Things should be
getting better as people work on this code, so just hang in there!

<ENTRY>pred_sa_bug I'm seeing random crashes in applications/the compiler. What is happening?
There may be nothing wrong at all. This could in fact be the infamous 
<I>StrongArm ldr bug</I>. Basically put there are cases when an <I>ldr</I>
instruction as the last instruction on a page can cause a bad page fault (and
thus result in your application crashing). You can check to see whether this is
what is causing your problem by looking at the revision on the processor. If the
revision is pre-S (the current revision appears to be T), this may be the cause
of your problem. <A HREF="http://www.simtec.demon.co.uk/">Simtech</A> were at
one point taking orders from people who may be interested in processor upgrades,
however this may have stopped by now.

<ENTRY>perf_scsi On my RiscPC, SCSI transfer rates suck. What should I do?
Use IDE. This isn't a frivolous answer. The NetBSD/arm32 SCSI driver for the
RiscPC isn't very responsive. This is being investigated and worked on (as
time permits etc. etc.) and should be resolved at some point.

<SECTION>Getting More Information

<ENTRY>info_mail What Mailing Lists are there to help me out?
Consider subscribing to "port-arm32@netbsd.org" (the main NetBSD/arm32 mailing
list exclusively for NetBSD/arm32 things) and "current-users@netbsd.org" (this
is for people willing to try out new and updated kernels, the latest NetBSD has
to offer). Take a look at <A HREF="/MailingLists/" origlink="../../MailingLists/">the gateway to
the NetBSD Mail Server</A> for more information on mailing lists.

<ENTRY>info_web What other resources?
Finally there are also the <A HREF="../arm32/">The NetBSD/arm32</A> pages.
These contain some of the history and also lots of information on supported
devices.

</LIST>

<a href="">Up to <em>NetBSD/arm32 Port Page</em></a>
<hr>

<DOCLINK>

<hr>
<address>
 <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">(Contact us)</a>
 $NetBSD: faq.list,v 1.3 2003/03/25 05:09:47 kawamoto Exp $<br>
 <a href="/Misc/disclaimer.html" origlink="../../Misc/disclaimer.html">Copyright &copy; 1996-2003
   The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
</address>

</BODY>
</html>
