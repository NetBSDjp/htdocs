<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
<!-- Copyright (c) 1998, 1999, 2000
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>NetBSD/macppc Partitioning HOW-TO</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD/macppc パーティショニング HOW-TO</h1>

<hr>
<p>

このページでは、ディスクを MacOS と NetBSD/macppc の両方が使えるように
分割する方法を説明します。ディスクは MacOS でブート可能になり、また
(機種によります─インストールノートをお読みください)
NetBSD でブート可能になります。
<p>
この手順は、ディスクの内容を消去しますので、
分割しようとするディスクをすべてバックアップしてください。
勇敢な方は、ディスクのパーティションタイプを変更するのに、 Drive Setup
のかわりにコマンドラインの pdisk ユーティリティーを使うことができます。
pdisk 全般の説明は、
<a href="http://mail-index.netbsd.org/port-macppc/2000/12/16/0005.html">この
記事</a>を参照してください。
<p>
NetBSD に必要なフラグは linux のそれとは違うため、
Linux をインストールしたことのあるドライブでは、問題が起きるかもしれません。
Drive Setup で分割しなおすか、 
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
で (訳註: 英語で) 質問して助言を得てください。
<p>

<ol>
<li>Drive Setup はバージョン 1.8.1 以降が必要です。このバージョンは
MacOS 9.0 に附属のバージョンです。バージョンがわからない場合は、
(訳註: Finder で) Drive Setup を選び、 <tt>File</tt> メニューから
<tt>Get Info</tt> します。
<p>
<img src="../../../images/ports/macppc/drive-setup.gif" origlink="../../images/ports/macppc/drive-setup.gif"
 width="354" height="401" alt="drive setup">
<p>
古いバージョンの MacOS をお使いの場合、
<a href="http://docs.info.apple.com/article.html?artnum=60791">MacOS 
9.0.4</a> (12.2 MB)、
<a href="http://docs.info.apple.com/article.html?artnum=75103">MacOS 9.1</a>
 (71 MB)、
<a href="http://docs.info.apple.com/article.html?artnum=120030">MacOS
9.2.1</a> (82 MB)、または
<a href="http://docs.info.apple.com/article.html?artnum=75186">MacOS 
9.2.2</a> (21.3 MB) アップデートをダウンロードできます。
これらには、使えるバージョンの Drive Setup が含まれています。
これらは大きな MacOS アップデートであり、 500 KB の Drive Setup
アプリケーションの入手のために、メガバイト級のディスクイメージを
ダウンロードする必要があることに注意してください。
Apple は、最近のバージョンの Drive Setup を単体では提供していません。
<p>
また、
<a href="http://www.opensource.apple.com/projects/darwin/1.4/release.html">Darwin 
インストーラー</a>にも、使えるバージョンの Drive Setup が含まれます。
オペレーティングシステム一式を含んでいるため、 Darwin も巨大 (120.7 MB)
です。
<p>
ディスクイメージを開き、 Drive Setup をハードドライブ、 RAM ディスク、
Zip ディスク、フロッピーディスク等にコピーします (Drive Setup
はディスクイメージからは実行できません) 。

<p><li>Drive Setup を最初に走らせると、次のような画面が出ます。
ここで、再分割しようとするドライブを選びます。
<p>
<img src="../../../images/ports/macppc/drive-selection.gif" origlink="../../images/ports/macppc/drive-selection.gif"
 width="328" height="257" alt="select a drive">
<p>
再分割するドライブを選び、 <tt>Initialize...</tt> ボタンをクリックします。
すると別のダイアログが出ます。 <tt>Custom Setup...</tt>
ボタンをクリックします。
<p>
<img src="../../../images/ports/macppc/initialize.gif" origlink="../../images/ports/macppc/initialize.gif"
 width="330" height="244" alt="initialize">

<p><li>使う予定のパーティションの数を選びます。おそらく、少なくとも
5 パーティションは必要でしょう。インストールノートの提示を参照してください。
<p>
<img src="../../../images/ports/macppc/custom-setup.gif" origlink="../../images/ports/macppc/custom-setup.gif"
 width="480" height="355" alt="custom setup">
<p>
パーティション数を変えると、 <tt>Volumes</tt> の情報はすべて消えるので、
まず最初に <tt>Partitioning Scheme</tt> を選んでください。

<p><li>各 <tt>Volumes</tt> ごとに、 <tt>Volume Info</tt> にある <tt>Type:</tt>
と <tt>Size:</tt> を、インストールノートに提示されているように設定します。
<p>
<img src="../../../images/ports/macppc/custom-type.gif" origlink="../../images/ports/macppc/custom-type.gif"
 width="480" height="428" alt="custom type">
<p>
<tt>Volumes</tt> の移動には <tt>TAB</tt> キーが使えます。

<p><li>設定が済むと、次のようになるはずです (MacOS パーティション名は、
後ほど Finder から設定します):
<p>
<img src="../../../images/ports/macppc/suggested-layout.gif" origlink="../../images/ports/macppc/suggested-layout.gif"
 width="480" height="355" alt="suggested layout">

<p><li><tt>OK</tt> ボタンをクリックします。すると、
変更について確認を求めてきます。
<p>
<i>ここまでくると、やり直せません ! ここで、確認に同意すると、
ドライブの内容はすべて消去されます</i>

<p><li>パーティショニングと HFS(+) パーティションの作成が済むと、
最初の画面に戻ります。
<p>
<img src="../../../images/ports/macppc/drivesetup-done.gif" origlink="../../images/ports/macppc/drivesetup-done.gif"
 width="328" height="257" alt="after partitioning">
<p>
注意: <tt>A/UX</tt> パーティションは MacOS からはアクセスできません。

<p><li>Drive Setup での作業は完了し、 Drive Setup を終了できます。
これで、 Finder から、 HFS(+) パーティションの名前を変更できます。
Open Firmware 1.0.5 または 2.0.x の機種では、これで完了です─
インストールノートに従い、作業を続けてください。
<p>
Open Firmware 2.4 または 3 の機種では、ディスクを NetBSD ブート可能に
するために、もう一段階必要です。
<p>
<tt>ofwboot.xcf</tt> (ブートローダー) と、 <tt>netbsd.GENERIC_MD.gz</tt>
または <tt>netbsd.ram.gz</tt> (インストーラー) を、 HFS(+) パーティションの
ひとつにコピーする必要があります。これらのファイルのダウンロードは
<tt>binary</tt> モードで行なうよう注意してください。
</ol>

<hr>

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../"><img
        src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../"><img
        src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></table>
</td><td>
  <table><tr><td>
    <a href="../../Ports/"><img
        src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0"
        width="91" height="42" alt=""></a>
  </td><td> 
    <a href="../../Ports/"><img
        src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
        width="1" height="1" alt="NetBSD ">対応アーキテクチャー</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  www@JP.NetBSD.ORG<br>
  $NetBSD: partitioning.html,v 1.7 2002/07/01 11:24:05 grant Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy;
    1998, 1999, 2000
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
