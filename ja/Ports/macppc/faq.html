<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>

<!-- DO NOT EDIT THIS FILE. EDIT 'faq.list' AND RUN 'make' -->

<!-- Copyright (c) 1998-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>NetBSD/macppc Frequently Asked Questions</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>NetBSD/macppc よくある質問</h1>

NetBSD/macppc に関するよくある質問 (と回答)
をいくつか掲げます。
<p>

この FAQ は作成作業中です。さらなる情報、質問、回答があれば、
<a href="mailto:port-macppc@NetBSD.org">port-macppc@NetBSD.org</a> までメールを
(訳註: 英語で) 送ってください。

<h2><a name="top">一般的な問題・質問</a></h2>
<ul>
<li>
<a href="#boot-trouble">NetBSD がブートできません。助けて !</a></li>
<li>
<a href="#macos-newbie">助けてください、 MacOS のことを何も知らないのです!</a></li>
<li>
<a href="#disk-sharing">マシン上の OS 間でファイルを共有する方法は ?</a></li>
<li>
<a href="#partitions">Explaining the partition naming schemes</a></li>
<li>
<a href="#scroll-speed">なぜテキストの画面スクロールがこんなに遅いの?</a></li>
<li>
<a href="#usb-mouse-bug">USB マウスが認識されません。</a></li>
<li>
<a href="#usb-keyboard-problems">USB キーボードの問題</a></li>
<li>
<a href="#cannot-allocate-vm-panic"><tt>panic: startup: cannot allocate VM for buffers</tt></a></li>
<li>
<a href="#wdc-lost-interrupt"><tt>wdc0:0:1: lost interrupt</tt></a></li>
<li>
<a href="#pciide-lost-interrupt"><tt>pciide0:0:0: lost interrupt</tt></a></li>
<li>
<a href="#mesh-fifo"><tt>Panic: mesh: FIFO != 0</tt></a></li>
<li>
<a href="#bm0-device-timeouts">device timeouts on bm0 と言われます</a></li>
<li>
<a href="#ethernet-bad-date">イーサネットが機能しません</a></li>
<li>
<a href="#power-off">ほえ〜、マシンの電源が落ちます!</a></li>
<li>
<a href="#power-manager">PowerBook や iBook で、電源入、バッテリー充電、充電器の認識ができません</a></li>
<li>
<a href="#timedrift">PowerComputing 互換機の時計がずれまくります。</a></li>
<li>
<a href="#dash-a">カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ?</a></li>
</ul>
<h2>対応ハードウェア</h2>
<ul>
<li>
<a href="#supported-models">NetBSD/macppc 対応機種</a></li>
<li>
<a href="#nubus">NuBus ベースの Power Mac (7100, 8100 等) はサポートされていますか?</a></li>
<li>
<a href="#68k-upgrade">PowerPC プロセッサーにアップグレードした 68k ベースの Mac はサポートされていますか?</a></li>
<li>
<a href="#601">Power Macintosh 7200 や 7500 (601 プロセッサー) はサポートされていますか?</a></li>
<li>
<a href="#powerbook">PowerPC ベースの PowerBook はサポートされていますか?</a></li>
<li>
<a href="#cpu-upgrade">CPU アップグレードに対応していますか?</a></li>
<li>
<a href="#peripherals">どんな周辺機器に対応していますか ?</a></li>
<li>
<a href="#badserial">シリアルポートの使用に問題が起こります!</a></li>
<li>
<a href="#pppmacppc">ppp を使う方法は?</a></li>
<li>
<a href="#airport">AirPort あるいは AirMac ネットワークを使う方法は?</a></li>
</ul>
<h2>Open Firmware</h2>
<ul>
<li>
<a href="#ofw">Open Firmware って何ですか? なぜ注意を払わねばならないのですか ?</a></li>
<li>
<a href="#ofw-version">私の機種の Open Firmware のバージョンは ?</a></li>
<li>
<a href="#ofw-bugs">私の機種の Open Firmware の動作にバグはありますか ?</a></li>
<li>
<a href="#ofw-access">Open Firmware プロンプトに入る方法は?</a></li>
<li>
<a href="#ofw-boot-serial">Open Firmware に入ろうとすると、ブートが止まり、モニターに何も表示されなくなります。</a></li>
<li>
<a href="#ofw-boot-video">PCI ビデオカードを使う方法は?</a></li>
<li>
<a href="#non-sync-monitor">Open Firmware に入った時に、モニターが同期しないことがあります</a></li>
<li>
<a href="#ofw-clear">Open Firmware の異常を直す方法は?</a></li>
<li>
<a href="#ofw-use">Open Firmware プロンプトで何ができるか?</a></li>
<li>
<a href="#ofw-variables">関連する Open Firmware の変数</a></li>
<li>
<a href="#ofw-load-base">"load-base" の設定の問題</a></li>
<li>
<a href="#ofw-real-base">"real-base" の設定の問題</a></li>
<li>
<a href="#ofw-input-output-devices"><tt>input-device</tt> と <tt>output-device</tt> はどう決めたらいいか?</a></li>
<li>
<a href="#ofw-dir-listing">ディスク上のファイルのリストを (Open Firmware で) 出す方法は?</a></li>
</ul>
<h2>ブート</h2>
<ul>
<li>
<a href="#boot-support">NetBSD/macppc をブートするにはどんな方法がありますか ?</a></li>
<li>
<a href="#boot-disk">ディスクをブート可能にする方法と、それをブートさせるための Open Firmware のコマンドは ?</a></li>
<li>
<a href="#boot-pci">PCI カードに接続されたデバイスからブートする方法は?</a></li>
<li>
<a href="#boot-net">netboot の設定は ?</a></li>
<li>
<a href="#cdr-image">NetBSD/macppc の公式 CD-R イメージはどこにありますか?</a></li>
<li>
<a href="#bootx">Linux の BootX ユーティリティーは NetBSD/macppc のブートに使えますか ?</a></li>
<li>
<a href="#yaboot">Linux の yaboot ブートローダーは NetBSD/macppc のブートに使えますか ?</a></li>
<li>
<a href="#bootx-darwin">Darwin/MacOS X の BootX ブートローダーは NetBSD/macppc のブートに使えますか ?</a></li>
<li>
<a href="#ofw-boot-keys">ほかに、ブートシーケンスを変更する特殊なキーはありますか ?</a></li>
</ul>
<h2>ブートの問題</h2>
<ul>
<li>
<a href="#common-of-probs">Open Firmware のブートでのありがちな問題</a></li>
<li>
<a href="#netboot-probs">netboot でありがちな問題</a></li>
<li>
<a href="#ofw-claim-failed"><tt>CLAIM failed</tt></a></li>
<li>
<a href="#default-catch"><tt>DEFAULT CATCH!</tt></a></li>
<li>
<a href="#cant-open"><tt>can't OPEN</tt></a></li>
<li>
<a href="#formatstate-not-valid"><tt>unrecognized Client Program formatstate not valid</tt></a></li>
<li>
<a href="#bad-partition"><tt>bad partition number, using 0no bootable HFS partition</tt></a></li>
<li>
<a href="#ofw-read-timeout"><tt>READ TIMEOUT@</tt></a></li>
<li>
<a href="#drive-spinup">Open Firmware がブートを開始しようする段階で、まだハードドライブが動いていません。</a></li>
<li>
<a href="#pb418">PowerBook (FireWire)、 PowerBook G4 (Titanium) と BootROM 4.1.8</a></li>
<li>
<a href="#grey-screen">ブートしようとすると、画面がグレーになって真中にアイコンがあるようになるのはなぜですか?</a></li>
<li>
<a href="#black-lcd">ブートの間、画面が真っ暗になってしまうのはなぜですか ?</a></li>
<li>
<a href="#nodisk">ディスクはどこに行った? (あるいは、 sysinst が <tt>I can not find any hard disk for use by NetBSD</tt> と言う)</a></li>
</ul>
<h2>その他もろもろ</h2>
<ul>
<li>
<a href="#elf"><tt>ldconfig</tt>/<tt>ld.so.conf</tt> はどこにありますか ?</a></li>
<li>
<a href="#cross-compile">他の NetBSD アーキテクチャーでクロスコンパイルする方法は ?</a></li>
<li>
<a href="#linux">NetBSD/macppc で MkLinux や LinuxPPC のバイナリーが動きますか ?</a></li>
<li>
<a href="#macos">NetBSD/macppc で MacOS のバイナリーが動きますか ?</a></li>
<li>
<a href="#macosx">NetBSD/macppc で Darwin/MacOS X のバイナリーが動きますか ?</a></li>
<li>
<a href="#keys"><img src="../../../images/ports/macppc/icon-command.gif" origlink="../../images/ports/macppc/icon-command.gif" width="13" height="13" alt="command key"> や <img src="../../../images/ports/macppc/icon-option.gif" origlink="../../images/ports/macppc/icon-option.gif" width="17" height="13" alt="option key"> のアイコンの意味は (あるいは、 "command" や "option" キーはどれ) ?</a></li>
<li>
<a href="#german-kbd-at">ドイツ語 ADB キーボード上で、アットマーク (@) はどこ?</a></li>
<li>
<a href="#adb-short">ADB キーボードを使わずにシステムをブートする方法は?</a></li>
<li>
<a href="#no-swapctrlcaps">なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps" がないんですか?</a></li>
</ul>


<h2>以下の関連情報も見てください:</h2>
<ul>
    <li><a href="SystemDisk-tutorial/">NetBSD/macppc System Disk
        チュートリアル</a>
    <li><a href="models.html">NetBSD/macppc 機種対応ページ</a>
    <li><a href="nvedit.html">NetBSD/macppc nvedit HOW-TO</a>、
        NVRAMRC の内容の編集方法の案内
    <li><a href="partitioning.html">NetBSD/macppc パーティショニング HOW-TO</a>
    <li><a href="x11.html">NetBSD/macppc X11 FAQ</a>
    <li><a href="../../Documentation/elf.html">NetBSD ELF FAQ</a>
    <li>NetBSD のプラットフォーム独立なワークステーションコンソールドライバー
	についての <a href="../../Documentation/wscons/">wscons
	FAQ</a> 。
</ul>
<p>

<h2>さらに追加情報を提供しています:</h2>
<ul>
<li><a
href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
    NetBSD 1.6.1 インストールノート</a> - 対応ハードウェアとインストール方法。
<li><a href="../../MailingLists/#port-macppc"> port-macppc メーリングリスト</a>
    - さらなる質問があれば講読してください。
<li><a
href="../../Documentation/network/netboot/">Diskless NetBSD HOW-TO</a>.
<li><a href="../../Documentation/Hardware/Misc/serial.html">NetBSD
シルアルポート入門</a>
<li><a href="../../Documentation/">NetBSD 一般のドキュメンテーション</a>
    - NetBSD/macppc 特有でない質問向け。
</ul>
<p>



<hr>
<h2>一般的な問題・質問</h2><hr>

<p><h3>
<a name="boot-trouble">NetBSD がブートできません。助けて !</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
残念ながら、この問題にはいくつか原因があります。これは実際には、
私たちの望んだことではなく、大抵は、対応機種の多様さや、
Apple が発表せずに行なったラインの変更のせいです。

<p>まず最初に、お使いの<a href="models.html">機種</a>が対応しているかどうか
確かめてください。それから、あなたは<i>実際に</i>インストールノートを
ひととおり読み、また、あなたの機種のものと違う Open Firmware バージョン向けの
指示は無視しましたか? さらに、この FAQ 項目をひととおり読んでみて、
それでもまだ NetBSD をブートできないようなら、
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿してください。

<p>問題を切り分けるため、下記のメッセージを見てください。

<p>
<pre>     Open Firmware, 1.0.5
     To continue booting the MacOS type:
     BYE&lt;return&gt;
     To continue booting from the default boot device type:
     BOOT&lt;return&gt;
      ok
     0 &gt; </pre>

もしこのようなメッセージが画面 (またはシリアルコンソール) に出ていなければ、
正しく Open Firmware に入っていません。マシンが MacOS のブートを始めている
(つまり、画面がグレーに変わり、 happy mac や broken folder や点滅する
クエスチョンマークが出る)
場合は、まず <a href="#ofw-access">Open Firmware プロンプトに入る方法は?</a> を
見てください。古い mac で画面が真っ黒になる場合は、
<a href="#ofw-boot-serial">ブートが止まり、
モニターに何も表示されなくなります</a>を見てください。
画面がまったくもって妙な場合は、<a href="#non-sync-monitor">モニターの
同期の問題</a>の修正方法を見てください。 Open Firmware
でおかしな設定をしたせいで、 Open Firmware に入れなくなったり MacOS
がブートしなくなってしまった場合は、<a href="#ofw-clear">Open Firmware
の異常を直す方法は?</a>を見てください。

<p>OK、これで、 Open Firmware のプロンプト ("<tt>0&nbsp;&gt;</tt>") で止まるよう
に設定してあれば、 Open Firmware が起動してユーザーコマンドが使えるようになります。
ここで止まらないように設定してあれば、 Open Firmware は以前に行なった設定
(Open Firmware の変数 <tt>boot-command</tt>、 <tt>boot-device</tt>、
<tt>boot-file</tt>) に基づいてブートしようとします。
Open Firmware のコマンドラインインターフェース使用の手引きについては、
<a href="#ofw-use">Open Firmware プロンプトで何ができるか?</a>を見てください。

<p>ふつうは、次の段階が最もトリッキーです─ Open Firmware がブートローダーを
正しい場所からロードできるようにします。どのような
<a href="#boot-support">ブート方法</a>がサポートされているか、 Open Firmware
の<a href="#boot-disk">ブートコマンド</a>、 <a href="#common-of-probs">Open
Firmware のブートでのありがちな問題</a>を見てください。
ネットブートに関連する質問は、
<a href="../../Documentation/network/netboot/">Diskless HOW-TO</a>、
特に
<a href="../../Documentation/network/netboot/intro.macppc.html">macppc 固有な部分</a>
の章、および<a href="#netboot-probs">netboot
でありがちな問題</a>でカバーしています。

<pre>     0 &gt; <b>boot enet:,ofwboot.xcf</b> file: 192.168.0.11,/ofwboot.xcfloading XCOFF
     tsize=C280 dsize=14AC bsize=2620 entry=600000
     SECTIONS:
     .text    00600000 00600000 0000C280 000000E0
     .data    0060D000 0060D000 000014AC 0000C360
     .bss     0060E4B0 0060E4B0 00002620 00000000
     loading .text, done..
     loading .data, done..
     clearing .bss, done..</pre>

メモリーアドレッシングに問題がある場合は、ここで止まって
<a href="#ofw-claim-failed"><tt>CLAIM failed</tt></a> と出力されることがあります。

<pre>     &gt;&gt; NetBSD/macppc OpenFirmware Boot, Revision 1.3
     &gt;&gt; (tsubai@mint.iri.co.jp, Sun Nov 26 01:41:27 JST 2000) 
    1701508+177748 [100+68176+55886]=0x1e9468</pre>

ここで止まる場合、 Open Firmware 1.0.5 や 2.0.x のマシンの
<a href="#ofw-real-base"><tt>real-base</tt></a> を設定する必要があります。
<a href="#ofw-read-timeout"><tt>READ TIMEOUT@</tt></a> とのメッセージがたくさん出る場合は、
Open Firmware がフロッピーディスクを読むところで問題が起きています。
ここを過ぎれば、カーネルのロードが始まります。
もし、そこで問題があったら、それはもはや Open Firmware の問題ではなく、
ほとんど NetBSD の問題でしょう。

<p>PowerBook (FireWire) または PowerBook G4 (Titanium) を使っていて、
ここで固まる場合は、 <a href="#pb418">4.1.8 BootROM</a> に関する記述を読んでください。

<p>ラップトップで画面が<a href="#black-lcd">真っ黒になる</a>場合、
途中で LCD の明るさが下げられたのかもしれません。

<pre>      start=0x100000
     Copyright (c) 1996, 1997, 1998, 1999, 2000, 2001
         The NetBSD Foundation, Inc.  All rights reserved.
     Copyright (c) 1982, 1986, 1989, 1991, 1993
         The Regents of the University of California.  All rights reserved.
     
     NetBSD 1.5S (AL) #0: Thu Mar 15 00:52:56 PST 2001
         mw@al:/usr/src/sys/arch/macppc/compile/AL
     total memory = 192 MB
     avail memory = 172 MB
     using 2483 buffers containing 9932 KB of memory
     [...]
     boot device: sd0
     root on sd0a dumps on sd0b
     root file system type: ffs</pre>

ときどき、カーネルは自身がどこからブートしたかがわからなくなります。
<a href="#dash-a">ルートデバイスを埋め込んだ</a>カーネルを再構築するとよいかもしれません。

<p>ここでハングする場合、
<a href="#usb-keyboard-problems">USB キーボードの問題</a>を見てください。  

<pre>     swapctl: adding /dev/sd0b as swap device at priority 0
     Automatic boot in progress: starting file system checks.
     [...]</pre>

OK、これで「マルチユーザーモード」に入り、ブートの過程が終わりました。
キーボードが機能しない場合は、 FAQ の
<a href="#usb-keyboard-problems">USB キーボード</a>および
<a href="#powerbook">最近のラップトップ</a>向けの項目を見てください。

<p>sysinst を使い、
<tt>I can not find any hard disk for use by NetBSD</tt>
と言われた場合は、 <a href="#nodisk">ディスクはどこへ
行った?</a> の FAQ 項目を参照すべきです。


</dd></dl>
<p><h3>
<a name="macos-newbie">助けてください、 MacOS のことを何も知らないのです!</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
MacOS のことを知らないことが問題となりうるかどうかは、お持ちの
<a href="models.html">機種</a>によります。古い機種の一部では、 NetBSD/macppc
をブートできるようにするためには nvram パッチが必要になります。たいてい、この
パッチを当てるための最も簡単な方法は、 MacOS ユーティリティーを使うことです。
基本的なこと (BinHex ファイルの展開のために StuffIt Expander を使うことや、
MacOS アプリケーションの起動方法や、それどころか MacOS Finder でのファイルの
コピー方法など) を知らない場合、 MacOS の使用を避けるようにしたほうが
よいでしょう (MacOS のことを知っておきたいというのなら別ですが) 。

<p>unix 萌えな人たちが簡単にできる (MacOS 経験者のほとんどにとっては大変な)
セットアップ方法があります。この FAQ 項目は、そういった unix 萌えな人たち向け
のものです; INSTALL ノートは、 MacOS 経験者で最小限の unix
の知識しかない人向けに書かれているからです。

<p><h3>Open Firmware 3 システムの場合</h3>
NetBSD をひとつのハードドライブ上にすべて置いておきたい場合は、ふたつの
方法があります。一方の非常に簡単な方法は、簡単に MacOS をブートさせ、
MacOS ユーティリティーまたは pdisk でディスクを分割し直し、それから
<tt>ofwboot.xcf</tt> ブートローダーを HFS パーティションにコピーする方法です。
<a href="partitioning.html">パーティショニング HOW-TO</a> をご覧ください。

<p>MacOS を使えない、または使いたくない場合でも、ディスクを分割するために、
やはり何らかのオペレーティングシステムをブートする必要があります。
これに使えるオープンソース OS は、今のところ、三つ (NetBSD、 Darwin、 Linux) あります。
NetBSD <tt>pdisk</tt> を使ってディスクを分割し、 HFS ファイルシステムを作って、
<tt>ofwboot.xcf</tt> を HFS パーティションにコピーします。

<ul>
<p><li>NetBSD をブートし、 <a href="partitioning.html#pdisk">pdisk</a> を使って
ディスクを分割し、
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/sysutils/hfsutils/README.html">
hfstools</a> を使ってパーティションをフォーマットしてからブートローダーをコピーします。

<p><li>
<a href="http://developer.apple.com/darwin/projects/darwin/">Darwin</a>
(Apple のオープンソース BSD) をブートし、 (Darwin ネイティブの pdisk ではなく) NetBSD の
<a href="partitioning.html#pdisk">pdisk</a> を使ってディスクを分割し、
以下のコマンドを実行します (もちろん、ディスクとパーティションの番号は
適宜読み替えてください): 
<pre># <b>newfs_hfs /dev/disk0s3</b>
# <b>mkdir -p /mnt</b>
# <b>mount /dev/disk0s3 /mnt</b>
# <b>cp ofwboot.xcf /mnt</b></pre>
<p><li>Linux をブートし (Linux ネイティブの pdisk ではなく) NetBSD の
<a href="partitioning.html#pdisk">pdisk</a> を使ってディスクを分割します。
ディストリビューションによってははじめから HFS ファイルシステムを取り扱えるものもあります。
些細なことでも結構ですので、さらに情報をお持ちのかたは
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
までメールでお知らせください。
</ul>

<p>少し妥協する気があるのなら、 <tt>ofwboot.xcf</tt> をネットブートサーバー、
ISO 9660 CD-R、または  MS-DOS ディスク上に置いておくことができます (
<tt>boot-device</tt> をブートローダーの場所に、 <tt>boot-file</tt> を
カーネルへのパスに設定します) 。<a href="#ofw-variables">関連する
Open Firmware の変数</a>の情報を見てください。

<p><h3>初期の、 Open Firmware 1.0.5、 2.0.x、または 2.4 システムの場合</h3>
こちらは、多くの機種がデフォルトで<a href="#ofw-input-output-devices">シリアル
コンソール</a>を使うようになっているので、若干興味深いものになります。
手っ取り早くデフォルトのコンソールを設定する方法は、マシンの電源を入れて
起動音が鳴ったら、 <tt>Command-Option-O-F</tt> の 4 個のキーを、
画面が黒、グレーまたは白に変わるまで押し続けることです。
画面が黒くなった場合は、ハードウェアの問題またはシリアルコンソールを意味します。
グレーは Open Firmware に入れず、 MacOS をブートしようとしていることを意味します。
白 (文字が出る) は、デフォルトがローカルコンソールだったことを意味します。

<p>画面上またはシリアルコンソールで <tt>0&nbsp;&gt;</tt> という Open Firmware
プロンプトに達すれば、 INSTALL ノートの "Getting to the Open Firmware Prompt
(Without using MacOS)" の節に従って NetBSD のインストールを始められます。
もしお使いのシステムで NetBSD がブートできなければ、 <a
href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿して、その機種用の nvram パッチを送ってくれるよう頼んでみてください。
シリアルコンソールを使って nvram パッチを Open Firmware
に適用することができます。この手順については <a
href="nvedit.html">NetBSD/macppc nvedit HOW-TO</a> を見てください。
これを行えば、問題はないはずです。

<p>健闘を祈ります!



</dd></dl>
<p><h3>
<a name="disk-sharing">マシン上の OS 間でファイルを共有する方法は ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この項目は<a href="partitioning.html">パーティショニング HOW-TO</a> に統合されました。

</dd></dl>
<p><h3>
<a name="partitions">Explaining the partition naming schemes</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この項目は<a href="partitioning.html#nomenclature">パーティショニング HOW-TO</a> へ移動しました。

</dd></dl>
<p><h3>
<a name="scroll-speed">なぜテキストの画面スクロールがこんなに遅いの?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
GENERIC カーネルのテキストコンソールのコードは最適化されていません。
NetBSD 1.6 以降には高速化されたテキストコンソールコードがありますが、
これはデフォルトでは有効になっていません。
<p>
カーネルを再構築する必要があります。
<a href="../../Documentation/kernel/#how_to_build_a_kernel">
カーネルコンフィギュレーション</a>に次の行を追加してください:
<pre>options	OFB_ENABLE_CACHE</pre>
<p>
X11 サーバーに関する情報は、 <a href="x11.html">NetBSD/macppc      
X11 FAQ</a> を見てください。


</dd></dl>
<p><h3>
<a name="usb-mouse-bug">USB マウスが認識されません。</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

キーボードでなく、 Mac 本体背面に直接接続してみてください。


</dd></dl>
<p><h3>
<a name="usb-keyboard-problems">USB キーボードの問題</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
USB キーボードには二種類の問題があります。一方の問題は NetBSD 1.4.3
リリース後に現れたもので、一部の iMac (ボンダイブルー) と一部の
PowerMacintosh G3 (青白) マシンでのみ起こります。
この問題は NetBSD 1.6 で直ったようです。
<p>
もう一方の問題は USB キーボードを持つすべての機種で起こるものですが、
NetBSD 1.5 リリース前に修正済です。

<p><H3>iMac (ボンダイブルー) と PowerMacintosh G3 (青白)
の問題:</h3>
PowerMacintosh G3 (青白) の問題の説明と回避策については、
Bob Nestor によるメーリングリストへの
<a href="http://mail-index.netbsd.org/port-macppc/2001/06/11/0009.html">記事</a>
を見てください。この回避策は iMac (ボンダイブルー) には通用しませんが、
Rob Gridley によれば、マウスを外すとブートしてキーボードが使えるとのことです。
また、問題報告
<a href="http://www.NetBSD.org/cgi-bin/query-pr-single.pl?number=12894">port-macppc/12894</a>
も見てください。
<p>
手短にいえば、彼の勧める回避策は次のとおりです:
<p>
<ol>
  <li>USB キーボードを外し、 ADB キーボードとマウスをつなぐ
    <p>
  <li>ADB キーボードをつないだ状態で NetBSD をブートする
    <p>
  <li>ADB キーボードで、 root、 swap、ファイルシステムの回答を入力
    <p>
  <li>システムがシェルプロンプトまで達したら (マルチユーザーの場合は
    ログインしたら)、 ADB を外し、 USB キーボードをつなぐ
</ol>
<p>

これで USB が利用可能になり、システムが使えるようになります。
ADB は外す前から死んでいることがわかるでしょう。
また、 USB は外してブート<b>しなければなりません</b>。さもないと動作しません。
<p>
このほか、 NetBSD 1.4.3 は、この二機種でも問題なく動作し、
この USB の問題は起こりません。

<p><h3>NetBSD 1.5 より前でキーの打鍵が繰り返される問題:</h3>
カーネルによっては、 USB キーボードの最初の打鍵が何度も繰り返される
という問題があります。このため、インストールのさい
"<tt>(I)nstall, (S)hell or (H)alt ?</tt>" という質問が繰り返されます。
この問題を回避するため、最初に shift キーを押してください。
<p>
最近の機種では、 NetBSD がデバイスを設定後にシングルユーザーモードに入る前に
ハングすることがあります。
おすすめの回避策は、 USB デバイス (特にハブ) をすべて外し、
マウスをキーボードに挿し、キーボードを Mac 本体背面に直接つなぐことです。

</dd></dl>
<p><h3>
<a name="cannot-allocate-vm-panic"><tt>panic: startup: cannot allocate VM for buffers</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この問題は NetBSD 1.5 では修正されているはずです。
もしアップグレード後も問題があるようでしたら、
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿してください。

<p>
RAM をたくさん積んだマシンでは、カーネルがバッファーキャッシュを
割り当てようとする際、カーネルがカーネル VM から逸脱することがあります。
次のいずれかで回避できます:
<ol>
<li>RAM をいくつか外す
<li><a href="../../Documentation/kernel/#how_to_build_a_kernel">カーネルコンフィグレーション</a>に
    <tt>"options BUFPAGES=800"</tt> を加える
</ol>

</dd></dl>
<p><h3>
<a name="wdc-lost-interrupt"><tt>wdc0:0:1: lost interrupt</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この問題は、 ATA4 ドライブをサポートする新しい機種上の NetBSD 1.5.2
で起こります。残念ながら、簡単な回避策はありません。助けが必要なら
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿してください。

<p>これは、 BootROM 4.1.9 にアップグレードした iBook (Dual USB) と
iMac (Summer 2000) で報告されています。

<p>この問題は NetBSD 1.5.3 以降では起こりません。

</dd></dl>
<p><h3>
<a name="pciide-lost-interrupt"><tt>pciide0:0:0: lost interrupt</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この問題は NetBSD 1.5.1 以降では修正済です。
もしアップグレード後も問題があるようでしたら、
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿してください。

<p>
NetBSD の CMD 646 IDE コントローラーの初期化コードは、
Open Firmware による設定のいくつかを完全に解除しません。
Open Firmware は IDE コントローラーを 0646U2 モードに設定し、
いくつかの割り込みの設定を変更しているのです。
MI pciide ドライバーは、このような状況に対処できず、
"lost interrupt" というメッセージがたくさん出るのです。
<p>
この場合、 Open Firmware を使ってブートローダー (つまり <tt>ofwboot.xcf</tt>) 
やカーネルをそのハードドライブからロードすると、
NetBSD ではそのドライブを使えません。
<p>
次善策としては、カーネルを別のブート可能なバスに移し、
それから CMD 646 IDE バスにつないだドライブを
NetBSD ファイルシステムにマウントするという方法があります。
キーフレーズは「別のブート可能なバス」です。
この問題を持つ G3 や G4 の機種には、もうひとつの IDE バス
(と追加の SCSI バス) があります。
通常は、ハードドライブはこの問題があるバスにつながれており、
一方、CD-ROM や Zip のドライブは別のバスにつながれていて問題なく動作します。

<p>
遅い IDE バスのプロトコルを使うことにはなりますが、
ハードドライブを CD-ROM がつながっているバスに移し
(マスター / スレーブのジャンパーに注意してください) 、
この問題を回避するという方法もあります。


</dd></dl>
<p><h3>
<a name="mesh-fifo"><tt>Panic: mesh: FIFO != 0</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
このバグは NetBSD 1.5 以降では現れません。
<p>
これは、 SCSI ケーブルやデバイスに問題がある場合に起こります。
内蔵と外付けの終端抵抗を確認してください。
ケーブルの長さと品質を確認してください。
不要なデバイスを全部外してみてください。
<p>
この問題は、 SCSI の世界のよい住人とはいえない
MESH SCSI バス上の Zip ドライブがある場合、しばしば起こります。
<p>
MacOS からリブートして NetBSD をブートするのでなければ、
MESH ドライバーはより信頼できるようになるという人もいます。
(つまり、 MacOS を動かしている場合、再起動ではなくシステム終了をしてから、
電源を入れて NetBSD をブートしてください。)
<p>
M L Riechers はこのトピックに関して、たいへん徹底的な
<a href="http://mail-index.netbsd.org/port-macppc/2000/08/02/0029.html">
記事</a>を投稿しています。
<p>
健闘を祈ります。


</dd></dl>
<p><h3>
<a name="bm0-device-timeouts">device timeouts on bm0 と言われます</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この問題は NetBSD 1.5 以降では修正済です。

<p>
10Mb のハブを介す (bm0 を強制的に 100Mb/s から 10Mb/s にする) と、
この問題を回避できるようです。


</dd></dl>
<p><h3>
<a name="ethernet-bad-date">イーサネットが機能しません</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
(ケーブルや<a href="../../Documentation/network/">設定上の</a>問題といった)
定番の原因のほか、 NetBSD/macppc では、 PRAM に保存されている日付が古すぎる場合
(システムの電池が切れたり、日付が 1904 年や 1956 年に設定されるような方法で
リセットされたような場合など)
に、ネットワークインターフェースの使用に問題があるようです。
この場合の症状は、 <tt>ifconfig</tt> では問題がないように見えるものの、
パケットがまったく送出・受信されないというものです。
<pre>% <b>ping 10.0.1.1</b>
PING 10.0.1.1 (10.0.1.1): 56 data bytes
<b>^C</b>
----10.0.1.2 PING Statistics----
0 packets transmitted, 0 packets received,</pre>

解決法は、 <tt><a href="http://man.netbsd.org/man/date+1.macppc+NetBSD-current">date(1)</a></tt> を使って時刻を正しく設定することです。

</dd></dl>
<p><h3>
<a name="power-off">ほえ〜、マシンの電源が落ちます!</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

これは、最近のラップトップ (iBook、 PowerBook (FireWire)、それ以降の一部の機種)
で NetBSD 1.5 またはそれ以降を使ったことが原因かもしれません。
<p>
page up キーシーケンス (<tt>FN-uparrow</tt>) は NetBSD 1.5.1 と 1.5
カーネルを panic させます。これは NetBSD 1.5.2 以降で修正済です。
<p>
"brightness" キー (F1 および F2) は、マシンの電源を切って、
時計を狂わせます。
<tt>abtn</tt> オプションを外してカーネルを再構築する必要があります。
下記の行を、
<a href="../../Documentation/kernel/#how_to_build_a_kernel">
カーネルコンフィギュレーション</a>から削除してください:

<pre>#abtn*  at adb?</pre>

</dd></dl>
<p><h3>
<a name="power-manager">PowerBook や iBook で、電源入、バッテリー充電、充電器の認識ができません</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
電源管理メモリーがおかしくなっているかもしれません。
<p>
リセット方法については <a href="http://docs.info.apple.com/article.html?artnum=14449">TIL 14449</a>
を見てください。

</dd></dl>
<p><h3>
<a name="timedrift">PowerComputing 互換機の時計がずれまくります。</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
あー、これは Open Firmware 内の <tt>timebase</tt> がハードウェアと
合致していないためです。正す必要があります。

<p>Adam Lebsack による
<a href="http://mail-index.netbsd.org/port-macppc/2001/08/03/0003.html">記事</a>
を見てください。

</dd></dl>
<p><h3>
<a name="dash-a">カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
多くの人が、 NetBSD/macppc システムを無人でブートさせられないと報告しています。
Open Firmware はカーネルを正しくロードするものの、
カーネルはルートデバイス (つまり / ファイルシステムの所在)
を見つけられていないようです。

<p>プロンプトで、ルートディスク (大抵は <tt>sd0a</tt> か <tt>wd0a</tt>
のようなもの)、スワップ (大抵は <tt>sd0b</tt> か <tt>wd0b</tt>
のようなもの)、ファイルシステムの種類 (大抵は <tt>ffs</tt>、 <tt>nfs</tt>
または <tt>cd9660</tt>) を入力してください。

<p>
これが修正されるまでの次善策があります。次のような設定で
<a href="../../Documentation/kernel/#how_to_build_a_kernel">カーネルを
コンパイル</a>する必要があります:
<pre>#config		netbsd	root on ? type ? #to automatically detect root device
config		netbsd	root on sd0a type ffs #for SCSI disk
#config		netbsd	root on wd0a type ffs #for IDE disk
#config		netbsd	root on ? type nfs #for netboot
</pre>

ここで <tt>sd0a</tt> はルートファイルシステムのあるパーティション名です。


<!-- ======================================== -->
</dd></dl>
<hr>
<h2>対応ハードウェア</h2><hr>
<p><h3>
<a name="supported-models">NetBSD/macppc 対応機種</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a href="models.html">NetBSD/macppc 対応機種一覧</a>を見てください。また、
<a href="#peripherals">対応周辺機器</a>の一覧も併せて見てください。

</dd></dl>
<p><h3>
<a name="nubus">NuBus ベースの Power Mac (7100, 8100 等) はサポートされていますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

いいえ。 NetBSD/macppc は NuBus に対応していません。
さらに、 NuBus ベースの Power Mac は Open Firmware を持っていませんが、
NetBSD/macppc のブートストラップやコンソール操作は
Open Firmware に強く依存しています。

<p>
NuBus ベースの Power Macintosh マシンは、 4 グループに分類されます:
<ul>
<li><b>Apple PDM</b><br>
    あらゆる x1xx なマシン、たとえば 6100, 6150, 7100, 8100
<li><b>Apple PERFORMA class</b><br>
    52xx, 53xx, 62xx, 63xx (6360 は除く)
<li><b>Apple POWERBOOK ('M2') class</b><br>
    1400, 2300, 5300
<li><b>Power Computing "Power" シリーズ</b><br>
    "Power 100" と "Power 120"
</ul>

<p>これらの機種では、たとえプロセッサーを G3 にアップグレードしても、
他の部分が未サポートなので、動作しません。
(しかし、ロジックボードを完全にアップグレードすれば、
新しい機種と同等になるので、動作するでしょう)

<p>現在、これらの機種に対応するための作業をしている人を私たちは知りません。
もし、この作業に興味があれば、 (訳註: 英語で)
<a href="mailto:port-macppc@NetBSD.org">私たちにお知らせください</a>。

<p>私たちはすでに 603 マイクロプロセッサーをサポートしており、また、
RS/6000 移植の取り組みにおいて 601 マイクロプロセッサーサポートの作業中です。
そして、 <a href="../mac68k/">NetBSD/mac68k</a> ではマザーボードの
チップセットをサポートしています。あとは、単に、これらのドライバーの共有と、
現在サポートされている macppc マシンのブートの Open Firmware での方法と
互換なブートローダーの解決だけの問題です。


</dd></dl>
<p><h3>
<a name="68k-upgrade">PowerPC プロセッサーにアップグレードした 68k ベースの Mac はサポートされていますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

いいえ。上記と同じ理由からです。
(これは<em>プロセッサー</em>だけをアップグレードした場合の話です。
マザーボードをすべてアップグレードすれば、
新しい機種と同等になるので、動作するでしょう。)


</dd></dl>
<p><h3>
<a name="601">Power Macintosh 7200 や 7500 (601 プロセッサー) はサポートされていますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

これらの機種は PCI と Open Firmware を持っていますが、 PowerPC 601
プロセッサーを使っているため、今のところ非対応です。しかし、
7500 のプロセッサーはアップグレード可能なので、 603/604/G3/G4 へ換装すれば
NetBSD が動作するでしょう。
<a href="#cpu-upgrade">CPU アップグレードに対応していますか?</a>を見てください。

<p> また、 RS/6000 ポートにおいて作業が進行中であり、これにより
NetBSD に 601 サポートがもたらされるでしょう。これが達成されれば、
あとは rs6000 と macppc でのコードの共有の問題になります。

</dd></dl>
<p><h3>
<a name="powerbook">PowerPC ベースの PowerBook はサポートされていますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

多くの機種をサポートしています。 <a href="models.html">NetBSD/macppc
対応機種のリスト</a>を見てください。

<p>PowerBook 1400、 2300、 5300 は、
Open Firmware を持たないため、非対応です。

<p>いくつかの新しい機種 (iBook、 iBook SE、 iBook (Dual USB)、
PowerBook (FireWire)、 PowerBook G4 (Titanium)) のキーボードは、
NetBSD 1.5.1 で新たにサポートされました。これより前のバージョンの
NetBSD では、カーネルパッチが必要です。

<p>新しく発表されたラップトップの機種は、従来と異なる内蔵キーボードを持っていることがあり、
NetBSD が対応するのにしばらく時間がかかります。新しく発表された機種をお持ちの方は、
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
へ投稿してみてください。

<p>パワーマネージメントは未サポートですので注意してください。
NetBSD の動作中は PowerBook のサスペンド、レジュームはできません。

<p>このほか、 <a href="#power-off">ほえ〜、マシンの電源が落ちます!</a>、
<a href="#power-manager">PowerBook や iBook で、電源入、バッテリー充電、
充電器の認識ができません</a>、 <a href="#pb418">PowerBook 
(FireWire)、 PowerBook G4 (Titanium) と BootROM 4.1.8</a> も見てください。

</dd></dl>
<p><h3>
<a name="cpu-upgrade">CPU アップグレードに対応していますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
もちろん!
<p>
多くの人々が、遅い 601、 603、 604 や G3 CPU を、より速い 604、 G3 や G4 CPU
にアップグレードしています。最初の PowerPC 601 チップを持った
PowerMacintosh 7500 では、事実上必須でしょう。
<p>
PCI PowerMacintosh システム (7300 - 9600)、対応 PowerBook および初期の
G3 システムにもとから搭載されている CPU のアップグレードの成功が
報告されています。よく目にする製造元は、 Newer Technology、
Powerlogix、 Sonnet、 XLR8 です。その CPU が MacOS で動作していれば、 NetBSD
でも動作するはずです。

<p>初期の PCI PowerMacintosh システム (7300 - 9600) に新しい CPU を装着すると、
NetBSD がブートしないという報告があります。これに該当する場合 (つまり、
604 にダウングレードすれば NetBSD が動作する場合) 、いったん
MacOS をブートして、お使いの CPU ドーターカード用の <tt>nvramrc</tt>
パッチをインストールする必要があります。そうした後は、 System Disk
を使っては<i>いけません</i>。 System Disk は、自分の <tt>nvramrc</tt> で
先般の CPU メーカーの <tt>nvramrc</tt> を上書きしてしまうからです。
System Disk のかわりに <a
href="ftp://ftp.netbsd.org/pub/NetBSD/arch/macppc/macos-utils/bootvars/">Boot
Variables</a> を使ってください。これは、 PowerMacintosh 7300 - 8600 内蔵の
<tt>/chaos/control</tt> を使った場合にモニターが
<a href="#non-sync-monitor">同期しない可能性がある</a>ということです。

<p>他の機種では、 MacOS の "virtual firmware"
型のパッチは必要ないようです -- NetBSD は CPU を適切に初期化します。

<p>残念ながら、 Metabox Jocard G4 には問題があります。これについては、
Thomas Michael Wanka の
<a href="http://mail-index.netbsd.org/port-macppc/2001/09/01/0002.html">記事</a> 
を見てください。

<p>一部機種での CPU アップグレードの組み合わせによっては、
古いシステムで G3 または G4 CPU の L2 キャッシュを有効に
するために特別にカーネルをコンパイルする必要があるかもしれません。これは
普通は必要なく、 "ちゃんと動き" ます。動かない場合は、次のようなメッセージが表示されます:
<pre>cpu0 at mainbus0: L2 cache not enabled</pre>

<p>もし、ブート時にこのようなメッセージが出力された場合には、
この
<a href="http://mail-index.netbsd.org/port-macppc/2001/01/05/0000.html">記事</a>
と、この
<a href="http://mail-index.netbsd.org/port-macppc/2001/01/05/0007.html">記事</a>
の示すとおりにすべきです。

<p>L3 キャッシュがデフォルトでは有効にならない場合は、この
<a href="http://mail-index.netbsd.org/port-macppc/2003/02/27/0000.html">記事</a>
で示されている方法に従ってください。

</dd></dl>
<p><h3>
<a name="peripherals">どんな周辺機器に対応していますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
NetBSD/macppc 1.6.1 インストールノート</a>の "Supported devices"
節に、完全な一覧が載っています。
特記ない限り、サードパーティー製デバイス (PCI や cardbus など)
は、 NetBSD/macppc のブート用には使えません。

<p>
<ul>
  <p><li> <strong>CPU</strong>
  <ul>
    <li>PowerPC 603、 604、 G3、 G4 (およびこれらの亜種)<br>
     <a href="#cpu-upgrade">CPU アップグレードに対応していますか?</a>を参照
    <li>-current にはマルチプロセッサーカードの実験的なサポートがあります。
    これは PowerMacintosh 9500/180MP と G4 システムで動作することがわかっており、
    9600/200MP や Xserve システムでも動作するはずです。
    <tt>GENERIC.MP</tt> カーネルを使うか、カーネルコンフィギュレーションに
    "<tt>options MULTIPROCESSOR</tt>" を追加する必要があります。
    そうしないと、 NetBSD は CPU を 1 個しか使いません。
  </ul>
  <p><li> <strong>イーサネット</strong> 
  <ul>
    <li> オンボード 79C950 (MACE) イーサネット (<i>mc</i>)
    <li> オンボード bmac イーサネット、ただし 10Base-T のみ (<i>bm</i>)
    <li> オンボード gmac イーサネット (<i>gem</i>)
    <li> オンボード AirPort (別名 AirMac) (<i>wi</i>)<br>
        <i><a href="#airport">AirPort あるいは AirMac ネットワークを使う方法は?</a>参照</i>
    <li> PCI、 PCMCIA、 cardbus および USB のイーサネットデバイス
        (<i>tlp</i>, <i>epic</i>, <i>ex</i>, <i>fxp</i>, <i>rtk</i>, <i>vr</i>,
         <i>ne</i>, <i>aue</i>, <i>cue</i>, and <i>kue</i>)<br>
       具体的には、Asante、 Farallon、 SMC、 3Com、 Intel、 RealTek、 D-Link、
       NE2000、その他これらと互換のデバイス
  </ul>

  <p><li> <strong>SCSI</strong>

  <ul>
    <li> オンボード 53c94 SCSI コントローラー (<i>esp</i>)
    <li> オンボード MESH SCSI コントローラー (<i>mesh</i>)
    <li> Adaptec / Future Domain PCI SCSI (<i>ahc</i>)<br>
        多くの Adaptec 製カードは Macintosh firmware を内蔵しており、
        NetBSD/macppc のブートに使用可能。<br>
	<i><a href="#boot-pci">PCI card からブートする方法は?</a> 参照</i>
    <li> Advansys 1200[A,B] 9xx[U,UA] PCI SCSI (<i>adv</i>)
    <li> AMD 53c974 (<i>pcscp</i>)
    <li> Apple 53c875 Ultra Wide SCSI (一部のベージュ G3 モデルで使用) (<i>ncr</i> 
        または <i>siop</i>)<br>
        NetBSD をブートするにはファームウェアのアップデートが必要な可能性あり。
        <a href="http://docs.info.apple.com/article.html?artnum=25176">Mac 
        OS X SCSI Card Updater</a> を使用のこと
    <li> NCR/Symbios 53c8xx (<i>ncr</i> または <i>siop</i>)
  </ul>

  <p><li><strong>IDE</strong>
  <ul>
    <li> オンボード IDE コントローラー (<i>wdc</i>)
    <li> Promise Ultra66 (<i>pciide</i>)
    <li> Acard ATP-850/860 コントローラー (Sonnet Tempo ATA/66 や
      Acard AEC-6210/6260 など) (<i>pciide</i>)
  </ul>

  <p><li><strong>入力デバイス</strong>
  <ul>
    <li>ほとんどの ADB キーボード、マウス、トラックボール、トラックパッド
    <li>ほとんどの USB キーボード、マウス、トラックボール、トラックパッド
    <li>ほとんどの PS/2 キーボード、マウス、トラックボール (3 ボタンマウスの
      中ボタンは機能しないかもしれません) 
  </ul>

  <p><li> <strong>ビデオ</strong><br>
(<a href="#ofw-input-output-devices"><tt>input-device</tt> と
<tt>output-device</tt> はどう決めたらいいか?</a>参照)
  <ul>
    <li> ほとんどの機種のオンボードビデオ (<i>ofb</i>)<br>
      <a href="models.html#no.ofw.fb">機種によっては</a>、オンボードビデオを
      使っては NetBSD/macppc をブートすることができません。
    <li> Open Firmware がサポートしている PCI ビデオカード (<i>ofb</i>)<br>
      ATI、 IMS、 Matrox、 NVIDIA が、 Open Firmware 対応機種を出しています
  </ul>

  <p><li> <strong>オーディオ</strong>
  <ul>
    <li>ほとんどの機種でのオンボード AWACS オーディオ (実験的なもの─
        いくつかの G4 マシンで割り込みの衝突があるため、デフォルトでは無効) (<i>awacs</i>)
    <li>USB オーディオ (<i>uaudio</i>)
    <li>PCI オーディオカード、ただし、しっかりテストされたのは Ensoniq AudioPCI
        (<i>eap</i>) だけですが
  </ul>

  <p><li> <strong>シリアル</strong>
  <ul>
    <li> オンボード RS-422 シリアルポート (モデムポートは <i>ttya</i>、
      プリンターポートは <i>ttyb</i>)<br>
      オンボードシリアルのサポートは非常に貧弱で、
      システムをハングさせる可能性もあります。
      <i><a href="#badserial">下記</a>参照</i>
    <li> Gee Three Stealth Serial Port および Griffin Technology gPort<br>
      これらはデスクトップ G3 および G4 モデルの内蔵モデムを置き換えるもので、
      シリアルコンソールとして使用可能です
    <li> USB、 PCI、および cardbus ベースのシリアルポート
  </ul>

  <p><li> <strong>USB デバイス</strong>
  <ul><li>増設 USB デバイスの多くに対応しています。
    <a href="../../Hardware/usb.html">機種独立の USB ドライバー</a>のページを
    見てください。
  </ul>

  <p><li> <strong>PCMCIA および CardBus カード</strong>
  <ul><li>多くのカードに対応していますが、 NetBSD/macppc ではテストされていません。
    <a href="../../Hardware/pcmcia.html">機種独立の
    PCMCIA ドライバー</a>や、
    <a href="../../Hardware/cardbus.html">機種独立の Cardbus
    ドライバー</a>のページを見てください。
  </ul>

  <p><li> <strong>PCI カード</strong>
  <ul><li>多くのカードに対応していますが、 NetBSD/macppc ではテストされていません。
    <a href="../../Hardware/pci.html">機種独立の PCI ドライバー</a>
    のページを見てください。
  </ul>
</ul>

<p>
<strong>NetBSD/macppc で未対応のものは、</strong>

<ul>
  <li> ブート用として以外の (内蔵や USB の) フロッピードライブ
  <li> 電源管理
  <li> 仮想端末やカラーテキストといった、完全な
       <a href="../../Documentation/wscons/">wscons</a> 互換性
  <li> ディスク、 CD-RW、スキャナーといった、通常の FireWire (IEEE 1394) デバイス
  <li> オンボードビデオキャプチャー
  <li> AirPort Extreme
</ul>

</dd></dl>
<p><h3>
<a name="badserial">シリアルポートの使用に問題が起こります!</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは、内蔵シリアルポートがあまりうまく動作しないせいです。実際のところ、
コンソールの使用ぐらいでしかうまく使えません (それすら、
時々不確実になります) 。
<p>
これが修正されるまでは、モデム、 ppp、 palm との同期その他が使えるとは
思わないでください。もし、あなたにシリアルドライバーについての経験があり、
手助けをする気がおありなら、どうか
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
までご連絡ください。

</dd></dl>
<p><h3>
<a name="pppmacppc">ppp を使う方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
うぐぅ。残念なことですが、内蔵シリアルポートが動作しないため、
ppp ドライバーには若干のバグがつぶされずに残っています。

<p>Donald Lee の、 Cyclades PCI カードで ppp を走らせた方法についての
<a href="http://mail-index.netbsd.org/port-macppc/2001/07/26/0023.html">記事</a>
を見てください。

</dd></dl>
<p><h3>
<a name="airport">AirPort あるいは AirMac ネットワークを使う方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
ワイヤレスネットワーキングは NetBSD 1.6 から対応しました。 AirPort Extreme
は、今のところサポートされていません。
<p>
手短に言えば、必要なことは、ワイヤレスカードを、 DHCP を使って IP アドレスを
得るよう設定することと、正しいメディアタイプ (大抵は <tt>DS11</tt>)
および (<tt>nwid</tt> パラメーターを使って) 正しいネットワーク
を設定することです。たとえば、閉じた AirPort ベースステーションに接続するため、
筆者は <tt>/etc/rc.conf</tt> に以下のように書きました:
<pre>ifconfig_wi0="nwid Gizmonet media DS11"
dhclient=YES
dhclient_flags="wi0"</pre>

<p>リブートの都度、 AirPort カードは <tt>Gizmonet</tt>
のベースステーションを探して IP アドレスを要求します。

より詳しい情報は、 <tt><a href="http://man.netbsd.org/man/ifconfig+8.macppc+NetBSD-current">ifconfig(8)</a></tt>、 <tt><a href="http://man.netbsd.org/man/wiconfig+8.macppc+NetBSD-current">wiconfig(8)</a></tt>、
<tt><a href="http://man.netbsd.org/man/wi+4.macppc+NetBSD-current">wi(4)</a></tt>、 <tt><a href="http://man.netbsd.org/man/ifmedia+4.macppc+NetBSD-current">ifmedia(4)</a></tt> にあります。このほか、
<a href="../../Documentation/network/wavelan.html">Using
WaveLAN IEEE under NetBSD</a> ページも見てください。
<p>
AirPort ベースステーションを MacOS でセットアップし、さらに暗号化を
使っている場合には、 <tt>AirPort Admin Utility</tt> を実行し、
ベースステーションを設定し、同じネットワークパスワードを探す必要があります。
Apple の AirPort Admin Utility の使い方の詳細は、 <a
href="http://www.info.apple.com/kbnum/n106864">www.info.apple.com</a>
を見てください。


<!-- ======================================== -->
</dd></dl>
<hr>
<h2>Open Firmware</h2><hr>
<p><h3>
<a name="ofw">Open Firmware って何ですか? なぜ注意を払わねばならないのですか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

手短にいえば、 Open Firmware は FORTH 言語によるコマンド環境であって、
NetBSD カーネルは、システムについての情報の取得や一部のデバイスの
制御のためにこれを使っています。これは、ほとんどの PowerPC ベースの
Macintosh システムでブート ROM に組み込まれており、私たちは
カーネルをディスクやネットワークからロードするためにこれを使っています。

<p>Open Firmware は、 "IEEE Std 1275-1994: IEEE Standard
for Boot Firmware (Initialization Configuration) Firmware: Core
Requirements and Practices" とその補遺で仕様が定められた、
プラットフォーム独立のブートファームウェアです。
Sun の OpenBoot firmware を元にしており、
プロセッサー独立のインターフェース言語である ANS Forth を使っています。

<p>Open Firmware のより詳しい情報は、
<a href="http://playground.sun.com/1275/home.html">Open Firmware
ワーキンググループホームページ</a>や
<a href="http://bananajr6000.apple.com">Apple Computer Open Firmware Home 
Page</a>にあります。

</dd></dl>
<p><h3>
<a name="ofw-version">私の機種の Open Firmware のバージョンは ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

<a href="models.html">対応機種</a>ページを見てください。
あなたの機種が載っていなければ、 Open Firmware を使って確かめられます。
Open Firmware プロンプトで (<a href="#ofw-access">Open Firmware プロンプトに入る
方法は?</a> および <a href="#ofw-use">Open Firmware プロンプトで何ができるか?</a>
を参照) 次のようにタイプします:
<pre>0 &gt; <b>dev /openprom</b>
0 &gt; <b>.properties</b>
name                    openprom
device_type             BootROM
model                   OpenFirmware 3
relative-addressing     
supports-bootinfo       

 ok</pre>
<p>
ちなみに、 G3 や G4 プロセッサーを積んでいない機種は Open Firmware 1.0.5 か
2.0.x です。内蔵フロッピードライブを持たないデスクトップの機種はすべて
Open Firmware 3 です。内蔵 SCSI を持たないラップトップの機種はすべて
Open Firmware 3 です。

<p><i>注意:</i> Open Firmware 3 のシステムは、 <em>BootROM</em> とも呼ばれる
書き換え可能な "ファームウェア" を持っています。この BootROM のバージョンは、
Open Firmware のバージョンと混同しがちですが別のものです。 Apple ファームウェア
アップデーターを使うと、 BootROM をアップデートします。これは、
Open Firmware のバージョンを変えるものでは<b>ありません</b> -
Open Firmware 3 のままです。 BootROM というのは、システムの電源を入れるか
リセットしたときに、最初に実行されるものです。それから BootROM
は Open Firmware をロードし、 Open Firmware がオペレーティングシステムを
ブートします。

<p>この BootROM のバージョンは、 MacOS の Apple System Profiler を使うとわかります。
これは、しばしば、ブートして Open Firmware に入ったときに画面の最初の行に
記されます。たとえば、私の PowerBook (FireWire) では、次のように表示されます:

<p><pre>Apple PowerBook3,1 2.1f1 BootROM built on 01/29/00 at 22:38:07
Copyright 1994-2000 Apple Computer, Inc.
All Rights Reserved

Welcome to Open Firmware.
[...]</pre>

<p>これは、 BootROM のバージョンが 2.1f1 であることを示しています。

</dd></dl>
<p><h3>
<a name="ofw-bugs">私の機種の Open Firmware の動作にバグはありますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

ありえます。
<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
NetBSD/macppc 1.6.1 インストールノート</a>に、そのようなバグを
回避するためのパッチ適用やアップグレードについての説明があります。
Open Firmware 3 のシステムについては "Updating your BootROM" の節を、
Open Firmware 1.0.5、 2.0.x、 2.4 のシステムについては
"Older Open Firmware System Preparation" の節を見てください。

</dd></dl>
<p><h3>
<a name="ofw-access">Open Firmware プロンプトに入る方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">NetBSD 
1.6.1 インストールノート</a>を読んでください。特に、お使いの Open
Firmware のバージョン向けの
"Getting to the Open Firmware Prompt" の節まで読んでください。

<p>これが面倒な方は、 Apple の <tt>System Disk</tt> を使って、
マシン起動時は常に Open Firmware に入るよう設定することができます。
この方法については簡単な<a
href="SystemDisk-tutorial/">チュートリアル</a>をご覧ください。

</dd></dl>
<p><h3>
<a name="ofw-boot-serial">Open Firmware に入ろうとすると、ブートが止まり、モニターに何も表示されなくなります。</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">NetBSD 
1.6.1 インストールノート</a>を読みませんでしたね? 特に、
"Getting to the Open Firmware Prompt on Older Models" の節は読んでください。
やや長たらしいですが、 Open Firmware をセットアップするための適切な手順を非常に明解に説明しています。

<p>簡単にいうと、あらゆる Open Firmware 1.0.5 のシステムおよびほとんどの
Open Firmware 2.0.x のシステムは、デフォルトのコンソールとして、
ADB キーボードやオンボードビデオに接続されたモニターではなく `Modem'
シリアルポートを使うようになっています。 MacOS ベースのユーティリティーを
使ってこれらを適切に設定するか、そうでなければ、キーボードとスクリーンで
使えるよう一時的にシリアルコンソールから制御を奪う必要がある<i>でしょう</i>。

<p>Open Firmware は、ほとんどの DB15 から VGA への変換アダプター上での設定を
無視するようです。機種によって、 640 x 480 ・ 60 Hz か、直前に MacOS
で選択した解像度のどちらかがデフォルトになります。お使いのモニターが
その解像度を扱えることを確認してください。

<p><a href="SystemDisk-tutorial">System Disk</a> を使ってシステムを適切に
設定したとしても、 PowerMacintosh 7300 - 8600 の機種を使っている場合は、
<tt>/chaos/control</tt> オンボードビデオが
<a href="#non-sync-monitor">正しく同期</a>するよう、
さらにパッチを適用する必要があります。

<p>Performa 5500 と 6500 では、オンボードビデオを使うために NVRAMRC
パッチを当てる必要があります。これらの機種に関する
<a href="models.html#5500">脚註</a>を参照してください。

<p><a href="#ofw-input-output-devices"><tt>input-device</tt> と
<tt>output-device</tt> はどう決めたらいいか?</a>も併せて参照してください。

</dd></dl>
<p><h3>
<a name="ofw-boot-video">PCI ビデオカードを使う方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この節では、 Open Firmware に PCI ベースのビデオカードを使うよう伝える方法を、
カードをコンピューターと別に購入した場合とカードが附属していた場合の両方に
ついて説明します。 Macintosh や互換機の一部機種 (詳しくは
<a href="models.html#no.fb">NetBSD/macppc機種対応</a>ページを参照) は、
オンボードのビデオインターフェースを持っていません。これらの機種では、
PCI スロットの一つにビデオカードが挿されて出荷されています。

<p>いずれの場合も、ビデオカードが Open Firmware に対応している必要があります。

<p>Open Firmware が使うデバイスパスは、カードとそれが挿さっている PCI
スロットによって異なります。お使いのビデオカードのパスと、
それを使うように Open Firmware に伝える方法を調べておく必要があります。
<p>
<ol>
 <li><a href="#ofw-access">Open Firmware プロンプト</a> (
  <tt>0 &gt;</tt> プロンプト) に入ります<br>
  古い機種では最初にシリアルコンソールを使う必要があるかもしれません
 <p><li>Open Firmware に触るのはこれが初めてという方は、 <a href="#ofw-use">
  Open Firmware プロンプトで何ができるか?</a>を読んでおくといいかもしれません。
 <p><li><pre>0 &gt; <b>dev / ls</b></pre>
  これで、お使いのシステムの全デバイスの一覧が表示されます。ビデオカード
  に合致する項目を探します。たとえば、 PowerMacintosh 9500/150 での一覧を
  抜粋します:
<pre>0 &gt; <b>dev /</b>
0 &gt; <b>ls</b>
  [...]
FF8313F0: /bandit@F4000000
  [...]
FF83F8A0:   /ATY,mach64@D
  [...]
 ok</pre>
おおむね、 Open Firmware 対応のカードでは、
ベンダー名に似た 4 文字のベンダー ID (ATI では <tt>ATY</tt>、 IMS では
<tt>IMS</tt>、 Adaptec では <tt>ADPT</tt> というように) が表示され、
また、文字列でカードの機種を表します。
"@" 記号は、カード名とそのコンピューターでのアドレスを区切っています。

<p>ここで、 <tt>/ATY,mach64@D</tt> の項目が <tt>/bandit@F4000000</tt>
よりも字下げされていることに注意してください。これは、 <tt>bandit</tt>
デバイスが <tt>ATY</tt> デバイスを含んでいることを意味しています。
この場合、 <tt>/bandit@F4000000</tt> は PCI バスの Open Firmware での名前で、
ATI カードはその PCI バス上にあります。

<p><li>よって、このカードの Open Firmware デバイスツリー上のパスは
<tt>/bandit@F4000000/ATY,mach64@D</tt> です。ここで、このカードが本当に
Open Firmware に対応しているかどうか確認するため、以下のようにタイプしてください:
<pre>0 &gt; <b>dev /bandit@F4000000/ATY,mach64@D</b>
0 &gt; <b>words</b></pre>
出力された中に "<tt>open</tt>" という単語があれば、そのカードが使える
可能性はかなり高いです。

<p><li>さて、これで、 Mach64 カードを Open Firmware
の出力デバイスにするためには、以下のとおりタイプすればよいでしょう:
<pre>0 &gt; <b>setenv output-device /bandit@F4000000/ATY,mach64@D</b>
0 &gt; <b>reset-all</b></pre>

</ol>

<p>ビデオカードに接続したモニターが、コンピューターのリセット後に真っ暗な
ままになる場合、問題があります (カードのパスを打ち間違えたか、
カードが実は Open Firmware に対応していないのかもしれません) 。


</dd></dl>
<p><h3>
<a name="non-sync-monitor">Open Firmware に入った時に、モニターが同期しないことがあります</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは PowerMacintosh 7300 - 8600 の機種での問題で、
ビデオ信号が十分早く決定されないために起こります。
Open Firmware 1.0.5 用の
<a href="SystemDisk-tutorial/of105patch.html">パッチ</a>を当てるべきです。

<p>
Twentieth Anniversary Macintosh をお使いの場合、解決策はわかっていません。
この問題については、
<a href="http://mail-index.netbsd.org/port-macppc/2001/04/26/0008.html">この
投稿記事</a>の説明を見てください。
現時点では、この機種へのインストールの成功例の報告はありませんが、
<a href="SystemDisk-tutorial/">System Disk</a> で input と output デバイスを
<tt>ttya</tt> に設定し、端末エミュレーターの動くマシンを
シリアルケーブルでつなげば、うまくいくはずです。


</dd></dl>
<p><h3>
<a name="ofw-clear">Open Firmware の異常を直す方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Open Firmware 3 の機種で設定を変えて、 Open Firmware プロンプトに入れず
MacOS のブートもできないようになった場合、 BootROM を破壊した (例えば、
<a href="#ofw-load-base"><tt>load-base</tt></a> または
<a href="#ofw-real-base"><tt>real-base</tt></a> をまずい値に設定するなど)
可能性があります。 Apple に修理に出して BootROM
ファームウェアを書き換えさせる必要があるかもしれません。

<p>初期の機種 (Open Firmware 1.0.5, 1.1.22, 2.0.x, 2.4) の場合は、
マシンの AC 主電源 (110 または 220 V) を切り、マザーボードから電池を
外す必要があります。電池が放電して NVRAM の内容が消えるまでに、
長くて数時間かかるでしょう。この時間を短くするには、電源ボタンを
押してみてください。さらに危険な方法 (つまり、やるなら自己責任で) としては、
ソケットに電池を逆向きに取り付けるか、両端子を抵抗を介して短絡させるという
方法もあります。

<p>直ったら、日付を設定するのを忘れないようにしてください!

</dd></dl>
<p><h3>
<a name="ofw-use">Open Firmware プロンプトで何ができるか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a name="ofw-misc">
コンピューターのブートに関するさまざまな状態を設定することができます。</a>
この表は、あなたが使う可能性のある主なコマンドの単なる一覧とその文法です。

<table border=1 cellpadding=5>
<tr><th>コマンド名</th><th>注釈</th></tr>
<tr><td><tt>dev&nbsp;<i>device</i></tt></td><td>Open Firmware デバイスツリー上での
  カレント <i>device</i> の変更 (ファイルシステム上の <tt>cd</tt> に類似)</td></tr>
<tr><td><tt>ls</tt></td><td>デバイスツリー上でのカレントノード以下のデバイスの列挙
  (ファイルシステム上の <tt>ls</tt> に類似)</td></tr>
<tr><td><tt>pwd</tt></td><td>デバイスツリー上でのカレントノードの場所の列挙
  (ファイルシステム上の <tt>pwd</tt> に類似)</td></tr>
<tr><td><tt>words</tt></td><td>デバイスツリー上でのカレントノードにおいて
  使用可能な FORTH コマンドの列挙。<br>
  ブートするためには、デバイスが少なくとも `<tt>open</tt>' を含む必要あり</td></tr>
<tr><td><tt>.properties</tt></td><td>デバイスツリー上でのカレントノードの
  状態を列挙</td></tr>
<tr><td><tt>printenv</tt></td><td>Open Firmware 環境変数の現在および
  デフォルトの設定値を表示</td></tr>
<tr><td><tt>setenv&nbsp;<i>variable</i>&nbsp;<i>value</i></tt></td><td>Open 
  Firmware の <i>variable</i> 変数に新たに値 <i>value</i> を設定する。
  <a href="#ofw-variables">関連する Open Firmware の変数</a>
  参照</td></tr>
<tr><td><tt>set-default&nbsp;<i>variable</i></tt></td><td><i>variable</i>
  変数値をデフォルト値に設定する。
  <a href="#ofw-variables">関連する Open Firmware の変数</a>
  参照</td></tr>
<tr><td><tt>boot&nbsp;<i>boot-device</i>&nbsp;<i>boot-file</i></tt></td><td>
  プログラム <i>boot-file</i> を <i>boot-device</i> からロード・実行する。
  これを使って <tt>ofwboot</tt> ("partition zero" ブートローダー) または
  <tt>ofwboot.xcf</tt> をロードし、それから NetBSD カーネルをロードします</td></tr>
<tr><td><tt>dir&nbsp;<i>device</i></tt></td><td><i>device</i> にある
  <a href="#ofw-dir-listing">ファイルの列挙</a>
  (unix の <tt>ls</tt> と同じ)</td></tr>
<tr><td><tt>eject&nbsp;fd</tt></td><td>フロッピーディスクの排出</td></tr>
<tr><td><tt>reset-all</tt></td><td>Open Firmware 環境変数を永久に保持し
  コンピューターをリブートする</td></tr>
<tr><td><tt>shut-down</tt></td><td>Open Firmware 環境変数を永久に保持し
  コンピューターの電源を落とす</td></tr>
<tr><td><tt>bye</tt></td><td>Open Firmware 1.0.5、 2.0.x、 2.4
  のシステムで MacOS をブートする</td></tr>
<tr><td><tt>mac-boot</tt></td><td>Open Firmware 3 のシステムで
  MacOS をブートする</td></tr>
<tr><td><tt>devalias&nbsp;<i>alias</i>&nbsp;<i>device</i></tt></td><td>
  デバイス <i>device</i> の別名として <i>alias</i> を設定または修正
  (<tt>csh</tt> や眷族の <tt>alias</tt> に類似)<br>
  オプションがない場合は、現在のデバイスの別名をすべて列挙</td></tr>
<tr><td><tt>nvalias&nbsp;<i>alias</i>&nbsp;<i>device</i></tt></td><td>
  デバイス <i>device</i> の別名として <i>alias</i> を永久に保存されるよう設定または修正
  (<tt>csh</tt> や眷族の <tt>alias</tt> に類似)<br>
  オプションがない場合は、現在のデバイスの別名をすべて列挙</td></tr>
</table>

<p>また、 Open Firmware を使う上で便利なキーストロークを
いくつか掲げます:
<table border=1 cellpadding=5>
<tr><th>キーストローク</th><th>機能</th></tr>
<tr><td>Backspace</td><td>後方の 1 文字を消去</td></tr>
<tr><td>Delete</td><td>後方の 1 文字を消去</td></tr>
<tr><td>^h</td><td>後方の 1 文字を消去</td></tr>
<tr><td>^d</td><td>前方の 1 文字を消去</td></tr>
<tr><td>Enter</td><td>FORTH パーサーに行を渡す</td></tr>
<tr><td>^b</td><td>1 文字戻る</td></tr>
<tr><td>^f</td><td>1 文字進む</td></tr>
<tr><td>ESC b</td><td>1 単語戻る</td></tr>
<tr><td>ESC f</td><td>1 単語進む</td></tr>
<tr><td>^a</td><td>行の先頭に戻る</td></tr>
<tr><td>^e</td><td>行の終端に進む</td></tr>
<tr><td>ESC h</td><td>単語の先頭までを消去・保持</td></tr>
<tr><td>^w</td><td>単語の先頭までを消去・保持</td></tr>
<tr><td>ESC d</td><td>単語の終端までを消去・保持</td></tr>
<tr><td>^k</td><td>行の終端までを消去・保持</td></tr>
<tr><td>^u</td><td>行をすべて消去・保持</td></tr>
<tr><td>^r</td><td>行を打ち直す</td></tr>
<tr><td>^q</td><td>次の文字を引用</td></tr>
<tr><td>^y</td><td>カーソルの前に保持されていた文字列を挿入</td></tr>
<tr><td>^p</td><td>履歴中の、前の行</td></tr>
<tr><td>^n</td><td>履歴中の、次の行</td></tr>
<tr><td>^l</td><td>履歴を表示</td></tr>
<tr><td>^space</td><td>単語が単一の補完候補を持つ場合は、そのように補完。
単語が複数の補完候補を持つ場合は、補完可能なところまで補完。
単語がまったく補完可能でない場合は、少なくともひとつの補完候補があるところまで
文字を消去。
<tr><td>^/</td><td>単語の補完候補 (ないこともある) を表示</td></tr>
<tr><td>^?</td><td>単語の補完候補 (ないこともある) を表示</td></tr>

<tr><td>^@</td><td>^space と同じ (Apple 特有)</td></tr>
<tr><td>^o</td><td>^/ と同じ (Apple 特有)</td></tr>
<tr><td>^\</td><td>^b と同じ (Apple 特有)</td></tr>
<tr><td>^]</td><td>^f と同じ (Apple 特有)</td></tr>
<tr><td>^^</td><td>^p と同じ (Apple 特有)</td></tr>
<tr><td>^_</td><td>^n と同じ (Apple 特有)</td></tr>
</table>

<p>このほか、 <a href="nvedit.html">NetBSD/macppc nvedit HOW-TO</a>、
<a href="http://docs.info.apple.com/article.html?artnum=60285">Apple 
Network Server 500,700: Open Firmware Read Me</a> technote、
<a href="http://bananajr6000.apple.com/">Apple Computer Open Firmware Home
Page</a>
<a href="http://developer.apple.com/technotes/tn/tn2001.html">"Technote 
2001 - Running files from a hard drive in Open Firmware</a>と、
and the <a href="http://playground.sun.com/1275/home.html">Open Firmware
Working Group home page</a> も併せて参照してください。

</dd></dl>
<p><h3>
<a name="ofw-variables">関連する Open Firmware の変数</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Open Firmware が利用したり保持したりしてブートに影響を与える変数が存在します。
これらの変数を変更するには、 <tt>printenv</tt>、 <tt>setenv</tt>、
<tt>set-default</tt> コマンドを使う (<a href="#ofw-use">Open Firmware
プロンプトで何ができるか?</a> 参照) か、
MacOS SystemDisk ユーティリティーを使います (
<a href="SystemDisk-tutorial/">チュートリアル</a>参照) 。
<tt>nvramrc</tt> 上の変数を変更するには、 <a href="nvedit.html">NetBSD/macppc
nvedit HOW-TO</a> で説明しているコマンドを使います。このほか、 ResEdit
を使って System Disk をいじくることもできます。 <tt>OFtc</tt> リソースを見て、
System Disk が使っているお使いの機種用の ID を調べてください。それから、
対応する <tt>OFpt</tt> リソースを編集します。

<p>設定を変更した後は、その変更を保存するため、以下のようにタイプするよう
注意してください:
<pre>0 &gt; <b>reset-all</b></pre>

<p><table border=1>
<tr><th>変数名</th><th>通常の値</th><th>機能</th></tr>
<tr><td><tt>auto-boot?</tt></td><td>false</td>
  <td><tt>false</tt> の場合は、コンピューターのリセット時に Open Firmware プロンプトで停止<br>
   <tt>true</tt> の場合は、 <tt><i>boot-command boot-device boot-file</i> を実行</tt>
   </td></tr>
<tr><td><tt>use-nvramrc?</tt></td><td>true</td>
  <td><tt>true</tt> の場合は <tt>nvramrc</tt> で設定されたコマンドを実行</td></tr>
<tr><td><tt>real-base</tt></td><td><i>Open Firmware バージョンによる</i></td>
  <td>カーネルのメモリー番地。<a href="#ofw-real-base">"real-base"
    の設定の問題</a></td></tr>
<tr><td><tt>load-base</tt></td><td><i>Open Firmware バージョンによる</i></td>
  <td>ブートローダーのメモリー番地。<a href="#ofw-load-base">"load-base"
   の設定の問題</a></td></tr>
<tr><td><tt>boot-device</tt></td><td><i>設定による</i><br>
  設定方法は <tt><a href="http://man.netbsd.org/man/ofwboot+7.macppc+NetBSD-current">ofwboot(7)</a></tt> 参照</td>
  <td>ここで設定したデバイスから最初の段階のブートローダーがロードされる</td></tr>
<tr><td><tt>boot-file</tt></td><td><i>設定による</i><br>
  設定方法は <tt><a href="http://man.netbsd.org/man/ofwboot+7.macppc+NetBSD-current">ofwboot(7)</a></tt> 参照</td>
  <td>カーネルの場所</td></tr>
<tr><td><tt>input-device</tt></td><td><i>ハードウェアによる</i><br>
  設定方法は <a href="#ofw-input-output-devices">下記参照</a></td>
  <td>ADB キーボード、 USB キーボード、またはシリアルコンソール</td></tr>
<tr><td><tt>output-device</tt></td><td><i>ハードウェアによる</i><br>
  設定方法は <a href="#ofw-input-output-devices">下記参照</a></td>
  <td>オンボードビデオ、 PCI ビデオ、またはシリアルコンソール</td></tr>
<tr><td><tt>nvramrc</tt></td><td><i>System Disk によって入力された値</i></td>
  <td><tt>use-nvramrc?</tt> が <tt>true</tt> に設定されている場合は、
  ここで設定された FORTH コマンド群がコンピューターのリセット時に実行される</td></tr>
<tr><td><tt>boot-command</tt></td><td>boot</td>
  <td><tt>auto-boot?</tt> が <tt>true</tt> に設定されている場合は、
   このコマンドがコンピューターのリセット時に実行される
</table>

Note: <i><tt>Command-Option-P-R</tt> で PRAM をクリアすると、
すでに設定した Open Firmware の変数はすべて消えます。</i>
<p>
Note 2: <i>Open Firmware 1.0.5 の機種で MacOS をブートすると、
すでに設定した Open Firmware の変数はすべて消えます。</i>
<p>
Note 3: <i>極端な場合、 Open Firmware の設定によって
マシンが起動しなくなることもあります。これは PRAM クリアでは直りません。
この場合は、電源を抜き、 10 分間ほどマザーボードから電池を外します。
PowerBook の場合は power manager をリセットします。</i>

</dd></dl>
<p><h3>
<a name="ofw-load-base">"load-base" の設定の問題</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

Open Firmware の環境変数 <tt>load-base</tt> は、 Open Firmware
がブートローダーを <tt>boot-device</tt> からロードするアドレスです。
XCOFF バイナリーがメモリー上にロードされるアドレスです。
これによる作用は、 Open Firmware のバージョンや <tt>boot-device</tt>
によってさまざまです。 <tt>load-base</tt> が不適切な値に設定された場合、
<tt><a href="#ofw-claim-failed">CLAIM failed</a></tt> という症状が出ます。

<p><h3>Open Firmware 3</h3>
<b><tt>load-base</tt> の値を変えてはいけません</b>。
Open Firmware 3 の機種は書き換え可能なファームウェアを持っていますが、
<tt>load-base</tt> を変更すると、フラッシュ BootROM を上書きして
マシンを壊してしまう (Apple での高価な修理が必要になる) ことがわかりました。
<b>Open Firmware 3 な機種で <tt>load-base</tt> を変更してはなりません。</b>
Apple は Open Firmware 3 を、ブートのために <tt>load-base</tt>
の値を変更する必要はないようにしています。

<p><h3>Open Firmware 1.0.5, 1.1.22, 2.0.x, and 2.4</h3>
これらのシステムでの <tt>load-base</tt> のデフォルト値は 4000 ですが、
これは私たちにとって都合がよくありません。 <a href="SystemDisk-tutorial">System
Disk</a> は <tt>load-base</tt> を 600000 に設定しますが、 NetBSD 1.5.3 以降
にはこれがちょうどよい値です。 mkLinux はこれとは異なる値を使いますが、
これでは NetBSD/macppc のブートはできないかもしれません。 NetBSD 1.5.3 以降を
使っている方は、ここから先を読んでも混乱するだけなので、ここで読むのをやめて
とにかく 600000 という値に設定してください。

<p><tt>load-base</tt> は、 <tt>ofwboot.xcf</tt> と <tt>ofwboot</tt> とでは
異なった扱われ方をされます。 <tt>ofwboot.xcf</tt> は、 MS-DOS フロッピー、
ISO CD-R 、およびネットブートの際に使われる XCOFF ブートローダーです。
<tt>ofwboot</tt> は、インストールフロッピー、インストール CD-R イメージ、
<tt>sysinst</tt> や <tt>installboot</tt> によって用意されたハードドライブ上の
"partition zero" ブートローダーです。

<p><tt>ofwboot</tt> は 600000 を使うよう設定されています。このため、
<tt>load-base</tt> は 600000 に設定します。

<p>NetBSD 1.5.3 以降の <tt>ofwboot.xcf</tt> は 640000 を使うよう設定されています。
Apple の Open FIrmware の特性上、 <tt>load-base</tt> のアドレスは、
<tt>ofwboot.xcf</tt> が使うアドレスとは異なっている必要があります。
このため、 <tt>load-base</tt> は 600000 に設定します。

<p>1.5.3 より前のバージョンの NetBSD の <tt>ofwboot.xcf</tt> は 600000
を使うよう設定されています。このため、このブートローダーを使ってブートする
場合は、 <tt>load-base</tt> を 640000 にするか、
そうでなければ新しいバージョンの <tt>ofwboot.xcf</tt> を入手します。

<p>お使いのマシンが、 Open Firmware 1.0.5、 1.1.22、 2.0.x または 2.4
であることが間違いないなら (<a href="#ofw-version">私の機種の
Open Firmware のバージョンは?</a> 参照) 、 <tt>load-base</tt>
を適切に設定するために次のコマンドを実行します

<pre>0 &gt; <b>setenv load-base 600000</b>
0 &gt; <b>reset-all</b></pre>

正しく設定されたか、 <tt>printenv</tt>
コマンドで再確認すべきです。


</dd></dl>
<p><h3>
<a name="ofw-real-base">"real-base" の設定の問題</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Open Firmware の環境変数 <tt>real-base</tt> は、
<tt>ofwboot</tt> または <tt>ofwboot.xcf</tt> がカーネルをメモリー上にロードするアドレスです。
多くのユーザーからの報告によれば、
<tt>real-base</tt> のデフォルト値では、
あたかも SCSI に妙な問題があるような挙動を示したり、
大きな (通常 3 MB を超える) カーネルのロード中に
<tt>ofwboot</tt> がハングしたりするとのことです。
藤原誠氏の報告によれば、 
この問題は <tt>real-base</tt> を変えると修正できます。
<p>
Open Firmware 3 の機種は書き換え可能なファームウェアを持っていますが、
<tt>real-base</tt> を変更すると、ファームウェアを上書きして
マシンを壊してしまう (Apple での高価な修理が必要になる) ことがわかりました。
<b> Open Firmware 3 な機種で <tt>real-base</tt> を変更してはなりません。</b>
いずれにせよ、 Open Firmware 3 は、大きなカーネルに関してもうまく動作するので、
この件は問題にはなりません。
<p>
その機種の Open Firmware が 1.0.5 か 2.0.x か 2.4 であるかを確認してから
(<a href="#ofw-version">私の機種の Open Firmware のバージョンは?</a>参照)
、下記のコマンドを実行して
<tt>real-base</tt> を適切に設定します (注意: System Disk はこの変数を
適切に設定<b>しません</b> ─ System Disk を使うたびに、 <tt>real-base</tt>
を設定しなおす必要があります):
<pre>0 &gt; <b>setenv real-base F00000</b>
0 &gt; <b>reset-all</b></pre>
<p>
正しく設定されたか、 <tt>printenv</tt> コマンドで再確認すべきです。
<p>
この問題への次善策は、カーネルを再構築して、サイズを 3 MB より
小さくすることです。 Open Firmware 1.0.5 や 2.0.x や 2.4 の機種には内蔵 USB
がないため、 USB ドライバーを含めずに
<a href="../../Documentation/kernel/#how_to_build_a_kernel">カーネルを作れます</a>。
(PCI USB カードがない場合に限りますが)


</dd></dl>
<p><h3>
<a name="ofw-input-output-devices"><tt>input-device</tt> と <tt>output-device</tt> はどう決めたらいいか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

これは、 Open Firmware のバージョン、使っているハードウェアに加えて、
どのデバイスを使って Open Firmware と (したがって NetBSD/macppc とも)
対話したいかによります。

<p>これを決めたら、これらの値の設定と保存を行う必要があります。
Open Firmware を使い始める上での手引については、
<a href="#ofw-access">Open Firmware プロンプトに入る方法は?</a> と
<a href="#ofw-use">Open Firmware prompt プロンプトで何ができるか?</a>) を見てください。
手短に言えば、以下の 3 コマンドを実行する必要があります (ここで
<i>in-device</i> と <i>out-device</i> は、この FAQ 項目をもとに決めた値です):
<pre>0 &gt; <b>setenv input-device </b><i>in-device</i>
0 &gt; <b>setenv output-device </b><i>out-device</i>
0 &gt; <b>reset-all</b></pre>

<p><h3>Open Firmware 1.0.5、 2.0.x、 2.4 で、キーボードとモニター
(または一体型 LCD) を使う場合</h3>
デフォルトでは、ほとんどの機種がデフォルトでシリアルコンソールを使います
(多くの初心者ユーザーが、ブートして Open Firmware に入ろうとしたときに
モニターが真っ黒になることで気づくことです) 。さらに、これらの
<a href="models.html#no.ofw.fb">機種</a>の一部では、
Open Firmware での (また、 NetBSD/macppc でも) オンボードビデオデバイス
の使用に問題があります。これらの厄介なシステムでは、 PCI ビデオカードか
シリアルコンソールを使うしかありません。

<p><a href="models.html">NetBSD/macppc 機種対応ページ</a>で、あなたの機種の
欄を見てください。そのシステム用の <tt>output-device</tt> が載っている
はずです。 <tt>output-device</tt> が載っていない場合は <tt>screen</tt>
を使ってください。

<p><tt>output-device</tt> の決め方について
<a href="#ofw-boot-video">PCI ビデオカードを使う方法は?</a> も見てください。

<p>すべてのシステムでは、 ADB または一体型キーボード用の <tt>input-device</tt>
は <tt>kbd</tt> です。

<p><h3>Open Firmware 3 で、キーボードとモニター (または一体型 LCD) を使う場合</h3>
デフォルトでは、すべての機種がデフォルトで USB または一体型キーボードと
オンボードビデオまたは一体型 LCD を使います。何もする必要はないはずです。

<p><tt>output-device</tt> の決め方について
<a href="#ofw-boot-video">PCI ビデオカードを使う方法は?</a> も見てください。

<p>デフォルト値は、 <tt>input-device</tt> は <tt>keyboard</tt> (一体型または
USB キーボードを使用)、 <tt>output-device</tt> は <tt>screen</tt>
(一体型 LCD、スクリーン、オンボードビデオインターフェースを使用)


<p><h3><a name="serial-console">Open Firmware 1.0.5、 2.0.x、 2.4 で、
シリアルコンソールを使う場合</a></h3>
Open Firmware では、コンピューターの "modem" シリアルポートを <tt>ttya</tt>、
"printer" シリアルポートを <tt>ttyb</tt> と呼びます。システムによっては
(Performa 54xx, 6360, 6400, 6500) 内蔵モデムを持っており、これが
内蔵シリアルポートを遮っています。これらの機種では、シリアルポートとして
プリンターポート <tt>ttyb</tt> を使うよう設定する必要があります。

<p>ほとんどすべての機種では、 <tt>input-device</tt> と <tt>output-device</tt>
のデフォルト値は <tt>ttya</tt> であり、これは多くの初心者ユーザーが、
ブートして Open Firmware に入ろうとしたときにモニターが真っ黒になることで
気づくことです

<p>シリアルコンソールの設定は、 38400 bps、 8 ビット、パリティーなし、
ストップビット 1、フロー制御なしにする必要があります。また、 2 台の Mac
(m68k ベースの Mac でも可) 同士をつなぐ場合には、標準的な Mac の
「プリンター」ケーブルを使うことができます。さらなる手引きについては、
<a href="../../Documentation/Hardware/Misc/serial.html">NetBSD
シリアルポート入門</a>を見てください。

<p><h3>Open Firmware 3 で、シリアルコンソールを使う場合</h3>
Open Firmware 3 の機種はいずれもシリアルポートを持っていません。しかし、
ほとんどの機種は内蔵モデムを持っています。ほとんどのデスクトップ機種で、
内蔵モデムをシリアルポートに置き換えるためのサードパーティーデバイス (Gee 
Three Stealth Serial Port や Griffin Technology gPort など)
を使うことができます。このようなものを使う場合、シリアルコンソールを使うよう
Open Firmware を設定することができます。 <tt>input-device</tt> と
<tt>output-device</tt> をいずれも <tt>scca</tt> に設定してください。

<p>シリアルコンソールの設定は、 57600 bps、 8 ビット、パリティーなし、
ストップビット 1、フロー制御なしにする必要があります。また、 2 台の Mac
(m68k ベースの Mac でも可) 同士をつなぐ場合には、標準的な Mac の
「プリンター」ケーブルを使うことができます。さらなる手引きについては、
<a href="../../Documentation/Hardware/Misc/serial.html">NetBSD
シリアルポート入門</a>を見てください。


</dd></dl>
<p><h3>
<a name="ofw-dir-listing">ディスク上のファイルのリストを (Open Firmware で) 出す方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
もちろん、 <tt>dir</tt> コマンドです!

<p>文法は、単に、
<tt>dir&nbsp;<i>device</i>:<i>[partition]</i>,\</tt> です。
ここで、 <i>device</i> はリストを出そうとしているデバイスの <tt>devalias</tt>
またはフルパス、 <i>[partition]</i> はリストを出そうとしている
パーティション番号です。パーティション番号を明示しなかった場合は、
Open Firmware が扱えるパーティションのうち最初のものが使われます。カンマは、
デバイスおよびパーティションと、ディレクトリーまたはファイルとの間の区切りです。

<p>残念ながら、パーティションマップを Open Firmware
上で列挙させる方法はありません。ただし、 NetBSD
<a href="partitioning.html#pdisk">pdisk</a> を各種 OS 上で使って
パーティションを列挙させることはできます。

<p>Open Firmware は、ディレクトリーの区切りにバックスラッシュを使います。
このため、 "<tt>\</tt>" でデバイスの最上位を指定する必要があります。また、
ディレクトリーをバックスラッシュで区切ることで、個々のファイルやフォルダー内の
ファイルのディレクトリーリストを出すこともできます。

<p>Open Firmware の <tt>dir</tt> コマンドは、 Open Firmware が扱える
ファイルシステムの内容のリストしか出せないことを承知しておいてください。
Open Firmware 1.0.5、 1.1.22、 2.0.x では ISO 9660 (<i>ハイブリッドはダメ</i>)
と MS-DOS のリストが出せます。 Open Firmware 3 ではハイブリッド ISO 9660/HFS (純粋な
ISO 9660 は<i>ダメ</i>) 、 HFS、 HFS+ と MS-DOS のリストが出せます。

<p>公式 NetBSD インストール CD-R イメージおよびフロッピーイメージは、若干
しょぼいです (つまり、これらは "partition zero" ブートローダーを使っています)。
これらは、 Open Firmware でファイルのリストを出すことはできません。

<p>たとえば、
フロッピー上のファイルのリストを出すには、次のようにタイプします:
<pre>0 &gt; <b>dir fd:,\</b></pre>

CD-ROM 上のファイルのリストを出すには、次のようにタイプします (一例):
<pre>0 &gt; <b>dir scsi-int/sd@3:,\</b></pre>

HFS パーティション上の macppc というフォルダー内のファイルのリストを出すには、次のようにタイプします:
<pre>0 &gt; <b>dir hd:9,\macppc\</b></pre>

イーサネット経由でクライアントの dhcp または bootp の情報を出すには、次のようにタイプします:
<pre>0 &gt; <b>dir enet:</b></pre>


</dd></dl>
<hr>
<h2>ブート</h2><hr>
<p><h3>
<a name="boot-support">NetBSD/macppc をブートするにはどんな方法がありますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
NetBSD/macppc 1.6.1 インストールノート</a>を見て、 "Available Boot Media"
というタイトルの節を読んでください。

</dd></dl>
<p><h3>
<a name="boot-disk">ディスクをブート可能にする方法と、それをブートさせるための Open Firmware のコマンドは ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

これは Open Firmware のバージョン、および、どこからブートするかに
完全に依存します。
<a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
NetBSD/macppc 1.6.1 インストールノート</a>の "Preparing the Bootable Media"
と "Open Firmware boot syntax" の節を読んでください。

<p><a href="#ofw-version">私の機種の Open Firmware
のバージョンは?</a>、 <tt><a href="http://man.netbsd.org/man/ofwboot+7.macppc+NetBSD-current">ofwboot(7)</a></tt> マニュアルページ、
<tt><a href="http://man.netbsd.org/man/installboot+8.macppc+NetBSD-current">installboot(8)</a></tt> マニュアルページも併せて見てください。


</dd></dl>
<p><h3>
<a name="boot-pci">PCI カードに接続されたデバイスからブートする方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これには Open Firmware ドライバーを持った PCI カードが必要ですが、そういうカードはほとんどありません。
多くの Adaptec SCSI カードや、一部の IDE/ATA カードは Open Firmware ドライバーを持っています。
Asante 製の一部のイーサネットカードには Open Firmware ドライバーが附属しています
(ただし誰も試していませんが) 。 UltraSPARC システム用に製造されたカードは、
しばしば Open Firmware ドライバーを持っています。これら以外の多くはドライバーを持っていません。

<p>カードが Open Firmware で動作することは、必ずしも NetBSD がそのカードに対応
していることを意味しません (逆もしかりです) 。いくつかの MacOS IDE/ATA カードにそういう例があります。

<p>まず最初に、 PCI カードの Open Firmware での名前を確認します。
Apple では、オンボードデバイス用に (scsi, hd, enet のように)
<tt>devalias</tt> を用意しています。 PCI カードのメーカーはそういうことが
できません。 Open Firmware が使うデバイスのパスは、カードの機種と
それが挿さっている PCI スロットの位置によって異なります。お使いの PCI
カードのパスを調べて、それを使うよう Open
Firmware に伝える必要があります。

<ol>
 <li><a href="#ofw-access">Open Firmware プロンプト</a> (
  <tt>0 &gt;</tt> プロンプト) に入る<br>
 <p><li>Open Firmware に触るのはこれが初めてという方は、
  <a href="#ofw-use">Open Firmware プロンプトで何ができるか?</a>を読んでおくといいかもしれません。
 <p><li><pre>0 &gt; <b>dev / ls</b></pre>
  これで、お使いのシステムの全デバイスの一覧が表示されます。お使いの PCI カード
  に合致する項目を探します。たとえば、 Adaptec 2930 SCSI インターフェースを持つ
  PowerMacintosh G3 (Blue and White) での一覧を、以下に抜粋します:
<pre>0 &gt; <b>dev /</b>
0 &gt; <b>ls</b>
  [...]
FF8313F0: /pci@F2000000
  [...]
FF83F8A0:   /pci-bridge@D
  [...]
FF83F90D:     /ADPT,2930@3
 ok</pre>
おおむね、 Open Firmware 対応のカードでは、
ベンダー名に似た 4 文字のベンダー ID (ATI では <tt>ATY</tt>、 IMS では
<tt>IMS</tt>、 Adaptec では <tt>ADPT</tt> というように) が表示され、
また、文字列でカードの機種を表します。
"@" 記号は、カード名とそのコンピューターでのアドレスを区切っています。

<p>ここで、 <tt>/ADPT,2930@3</tt> の項目が <tt>/pci-bridge@D</tt>
よりも字下げされ、その <tt>/pci-bridge@D</tt> は <tt>/pci@F2000000</tt>
よりも字下げされていることに注意してください。これは、 <tt>pci</tt>
デバイスが <tt>pci-bridge</tt> デバイスを、また、 <tt>pci-bridge</tt>
デバイスが <tt>ADPT,2930</tt> デバイスを含んでいることを意味しています。

<p><li>よって、このカードの Open Firmware デバイスツリー上のパスは
<tt>/pci/pci-bridge@D/ADPT,2930@3</tt> です。ここで、このカードが本当に
Open Firmware に対応しているかどうか確認するため、以下のようにタイプしてください:
<pre>0 &gt; <b>dev /pci/pci-bridge@D/ADPT,2930@3</b>
0 &gt; <b>words</b></pre>
出力された中に "<tt>open</tt>" という単語があれば、そのカードが使える
可能性はかなり高いです。

<p><li>さらに運がよいと、 <tt>show-children</tt> という単語が出ます。
そうでない場合は、ブートしようとしているドライブの SCSI ID を調べる必要が
あります。 SCSI ID は、 <tt>/@N</tt> (<tt>N</tt> は SCSI ID) という形で、
デバイスのパスに付加されます。

<p><li>次に、パーティション番号とブートローダーのファイル名を指定することが
できるように、どういうブート方法を使っているのか理解しておく必要があります。
通常、 Open Firmware 1.0.5、 2.0.x、 2.4 のシステムでは "partition zero"
ブートローダーを使います。よって <tt>:0</tt> がパスに付きます。 Open Firmware 3
のシステムでは HFS パーティション (大抵は 9 かそれより上) から <tt>ofwboot.xcf</tt>
をロードします。よって、パスには <tt>:9,\ofwboot.xcf</tt> のように付けます。 NetBSD
の <a href="partitioning.html#pdisk">pdisk</a> を使って、
パーティションマップのリストを出して見てください。

<p><li>さて、 <tt>ofwboot.xcf</tt> が Adaptec 2930 カードに接続された SCSI ID 5
のドライブの 9 番目のパーティションにあるようなハードドライブを、
PowerMacintosh G3 (Blue and White) で Open Firmware の <tt>boot-device</tt>
として設定する場合には、次のようにすることになります:

<pre>0 &gt; <b>setenv boot-device /pci/pci-bridge@D/ADPT,2930@3/@5:9,\ofwboot.xcf</b>
0 &gt; <b>reset-all</b></pre>

<p>一部の G3 モデルでは Apple 53c875 Ultra Wide SCSI ホストアダプター
を持っています。 SCSI ID 0 のドライブからブートするには、 <tt>boot-device</tt>
を以下のように設定します:
<pre>0 &gt; <b>setenv boot-device /pci/Apple53C875Card/sd@0:0</b>
0 &gt; <b>reset-all</b></pre>

</ol>

<p><i>Adaptec 2940 シリーズの SCSI カードに関する注意</i>。このシリーズの
SCSI カードのファームウェアには三つのバージョンがあります。このカードを
PowerMacintosh 7300 から 9600 で使う場合、このカードは Open Firmware からの
ブートには使えません。より詳しい情報は、
<a href="http://mail-index.netbsd.org/port-macppc/2001/04/27/0000.html">この
投稿記事</a>を参照してください。

</dd></dl>
<p><h3>
<a name="boot-net">netboot の設定は ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

<a href="../../Documentation/network/netboot/">Diskless NetBSD
HOW-TO</a> を見てください。

<p>Mitchell Spector も、簡単な<a
href="http://www.enchantedlearning.com/tech/netbsd_imac.shtml">iMac 向け
netboot 情報</a>を含んだページを作っています。

</dd></dl>
<p><h3>
<a name="cdr-image">NetBSD/macppc の公式 CD-R イメージはどこにありますか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
最寄りの <a href="../../mirrors/#iso">NetBSD ダウンロードサイト</a>
を探して、イメージをダウンロードし、 CD-R に焼いてください。

<p><a href="ftp://ftp.NetBSD.ORG/pub/NetBSD/NetBSD-1.6.1/macppc/INSTALL.html">
NetBSD/macppc 1.6.1 インストールノート</a>の
<a name="cdr151">"Boot off the
NetBSD/macppc CD-R image"</a> の節を見てください。

<p><i>Note: 1.5.1 と 1.5.2 の CD に含まれるインストールカーネルは、
PowerMacintosh G3 (青白) システムの IDE バスを認識しません。</i>
<a href="#nodisk">ディスクはどこに行った? (あるいは、 sysinst が <tt>I can not
find any hard disk for use by NetBSD</tt> と言う)</a>。


</dd></dl>
<p><h3>
<a name="bootx">Linux の BootX ユーティリティーは NetBSD/macppc のブートに使えますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
いいえ。ですが、 BootX のメンテナーは、
誰かが NetBSD 用のパッチを書けば取り込むと言っています。 (<a
href="http://mail-index.netbsd.org/port-macppc/1999/03/12/0002.html">port-macppc メーリングリストのアーカイブ</a>を見てください。)
<p>
これは、 Darwin の BootX ブートローダーとは全くの別物ですので注意してください。

</dd></dl>
<p><h3>
<a name="yaboot">Linux の yaboot ブートローダーは NetBSD/macppc のブートに使えますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
はい。この<a 
href="http://mail-index.netbsd.org/port-macppc/2003/04/22/0009.html">記事</a>
で、いくつか触れられています。

</dd></dl>
<p><h3>
<a name="bootx-darwin">Darwin/MacOS X の BootX ブートローダーは NetBSD/macppc のブートに使えますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
いいえ。ですが、 Darwin の BootX は Open Firmware を使うため、 NetBSD/macppc
への移植は linuxppc の BootX より簡単なはずです。

<p>
この作業に関心のある方は、 BootX のソースコードの入手について、
<a href="http://mail-index.netbsd.org/port-macppc/2000/12/12/0003.html">
この投稿</a>を参照してください。

<p>
このリポジトリーには、 System Disk に含まれるパッチをもとにした、
Open Firmware 2.4 以前なマシン用の nvram パッチも含まれています。


</dd></dl>
<p><h3>
<a name="ofw-boot-keys">ほかに、ブートシーケンスを変更する特殊なキーはありますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

よく知られた、 PRAM をクリアするための Command-Option-P-R (これは
Open Firmware の設定も消します) や、
若干知名度が劣る、最初のブートデバイスからブートするための
Command-Option-Shift-Delete のほか、
いくつかの機種では次のようなキーが有効です。
内蔵 CD-ROM ドライブからブートする "C" 、
ネットブートする "N" 、内蔵 Zip ドライブからブートする "Z" 、
デフォルトのブートデバイスを無視して強制的に内蔵ディスクからブートする "D" 。
(これらは Apple の文献で "snag keys" として参照されています。)

<p>実際には、これらはそれぞれ Open Firmware のデバイスの別名
"cd", "enet", "zip", "hd" を使っているので、デバイスの別名を変えると
これらのキーの効果も変わります。機種によっては使えないキーもあります。

</dd></dl>
<hr>
<h2>ブートの問題</h2><hr>
<p><h3>
<a name="common-of-probs">Open Firmware のブートでのありがちな問題</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<a href="#ofw-access">Open Firmware プロンプトに入る方法</a>、
<a href="#ofw-claim-failed"><tt>CLAIM failed</tt></a>、
<a href="#default-catch"><tt>DEFAULT CATCH!</tt></a>、
<a href="#cant-open"><tt>can't OPEN</tt></a>、
<a href="#formatstate-not-valid"><tt>unrecognized Client Program</tt></a>、
<a href="#bad-partition"><tt>bad partition number</tt></a>、
<a href="#drive-spinup">ハードドライブが動き出すのが遅い</a>、
<a href="#ofw-real-base"><tt>real-base</tt></a>の情報を見てください。

</dd></dl>
<p><h3>
<a name="netboot-probs">netboot でありがちな問題</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
<ul>
<p><li><pre>0 &gt; <b>boot enet:,ofwboot.xcf </b>BOOTP failed
 can't OPEN enet:
 ok</pre>
bootp または DHCP サーバーがクライアントの要求に反応していません。サーバーが
動作しているか、サーバーが同じイーサネットサブネット上にあるか、また、クライアントが
適切なイーサネットハードウェア (NAC) アドレスであるかどうか確認してみてください。
下記の出力結果から <tt>local-mac-address</tt> を探してください:
<pre>0 &gt; <b>dev enet</b>
0 &gt; <b>.properties</b></pre>

<p><li><pre>TFTP timeout</pre>
サーバーの TFTP サーバーが動作していないか、または Open Firmware 1.0.5
の機種でブートローダーの位置を指定しなかったかのいずれかです。
残念ながら、初期の機種では、たとえ bootp または DHCP サーバーが適切な情報を
提供してくれていても、明示的に <tt>boot-device</tt> からロードしない限り、
<tt>ofwboot.xcf</tt> が混乱してしまい、正しく動作しません。
以下のようなコマンドを使ってブートする必要があります:
<pre>0 &gt; <b>boot enet:,ofwboot.xcf</b></pre>

<p><li><pre>enet:,/netbsd.ram.gz: Inappropriate file type or format</pre>
Open Firmware 1.0.5 を持つ古いシステムで、 <tt>ofwboot.xcf</tt> バージョン
1.2 またはそれ以前を使ってイーサネット経由でブートする場合、圧縮された
カーネルをロードできません。 <tt><a href="http://man.netbsd.org/man/gunzip+1.macppc+NetBSD-current">gunzip(1)</a></tt> で伸長してください。
</ul>

</dd></dl>
<p><h3>
<a name="ofw-claim-failed"><tt>CLAIM failed</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

これは Open Firmware がメモリーの割り当てに失敗したか、
またはメモリーに問題があるときに出る一般的なメッセージです。

<p>まずは、 <a href="#ofw-load-base"><tt>load-base</tt></a> が適切に
設定されているか確認してください。

<p>一度 boot コマンドを試したがうまくいかず、再度おこなったときに
<tt>CLAIM failed</tt> メッセージが出たのであれば、これは一旦リブート
(Open Firmware コマンドは "reset-all") すべきであるとの指示です。

<p>一方、 Open Firmware のバージョンが 1.0.5 か 2.0.x のマシンでは、このエラーは
ときどきランダムに現れます。かまわずに boot コマンドを試してみてもよいでしょう
(いくつかの機種では、これで動作することが知られています) 。

<p>オンボードビデオとキーボードを使ってはブートできない
<a href="models.html#no.ofw.fb">機種</a>もあります。
<a href="#serial-console">シリアルコンソール</a>を使ってみてください。

</dd></dl>
<p><h3>
<a name="default-catch"><tt>DEFAULT CATCH!</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは、 Open Firmware がファイルのロードに問題があったことを知らせる
一般的なメッセージです。

<p>Open Firmware のバージョンが 1.0.5 か 2.X のマシンでは、このエラーは
ときどきランダムに現れます。かまわずに boot コマンドを試してみてもよいでしょう
(いくつかの機種では、これで動作することが知られています) 。
また、フロッピーディスクに問題があるか、フロッピードライブに問題があることを
表してもいます。フロッピーをローレベルフォーマットしてファイルをコピーし直し、
再度試してみてください。

<p>オンボードビデオとキーボードを使ってはブートできない
<a href="models.html#no.ofw.fb">機種</a>もあります。
<a href="#serial-console">シリアルコンソール</a>を使ってみてください。

</dd></dl>
<p><h3>
<a name="cant-open"><tt>can't OPEN</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Open Firmware は、指定されたデバイス (それがそもそも存在しなかったり、
デバイスのパスの打ち間違いなどによって) や指定されたファイルを
オープンできていません。
打鍵を確認し、また、指定したファイルがメディア上にあるか確認してください。

<p>NetBSD の <a href="partitioning.html#pdisk">pdisk</a> を使って
パーティションマップの一覧を出し、 Open Firmware の
<a href="#ofw-dir-listing"><tt>dir</tt></a> コマンドを使って
そのパーティションにあるファイルの一覧を出してみてください。

</dd></dl>
<p><h3>
<a name="formatstate-not-valid"><tt>unrecognized Client Program formatstate not valid</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは Open Firmware の一般的なエラーメッセージで、オープンしようとしている
ファイルが存在しないか、あるいはファイルが正しくないフォーマットであることを
表しています。
Open Firmware 1 や 2 の機種では、ファイルは (<tt>ofwboot.xcf</tt> のような)
XCOFF ファイルでなければなりませんし、
Open Firmware 3 の機種では、ファイルは XCOFF か (カーネルのような) ELF
でなければなりません。

</dd></dl>
<p><h3>
<a name="bad-partition"><tt>bad partition number, using 0no bootable HFS partition</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは、 Open Firmware 1.x や 2.0.x の機種で、 HFS ファイルシステムを持つ
デバイス (ハイブリッド CD-R や MacOS パーティションのあるハードドライブなど)
からブートしようとしているためです。

</dd></dl>
<p><h3>
<a name="ofw-read-timeout"><tt>READ TIMEOUT@</tt></a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
Open Firmware がフロッピーディスクを読むところで問題が起きています。以下を試してみてください:
<ul>
<li>そのフロッピーで再度ブートを試みる
<li>別のフロッピーディスクで試してみる
<li>フロッピーへの書き込みを、ブートしようとしているのと同じマシンで行なってみる
<li>フロッピードライブを掃除する
<li>別のブート方法を使う
</ul>

</dd></dl>
<p><h3>
<a name="drive-spinup">Open Firmware がブートを開始しようする段階で、まだハードドライブが動いていません。</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
ブートする前に (ハードドライブが動くまで) 待つようにするためには、
以下の Open Firmware 変数をセットします:
<pre>0 &gt; <b>setenv boot-command catch 5000 ms boot</b>
0 &gt; <b>reset-all</b></pre>

<p>ブートしようとするまでにドライブが回転していない場合は、
ドライブが自動で回転するようにハードドライブのジャンパーを変更する必要が
あるかもしれません。ほとんどのドライブ製造元は、ジャンパー設定の
オンラインマニュアルを用意しています。

これ以外の方法としては、 <tt>boot-command</tt> 変数と nvramrc
パッチの二つがあります。

<pre>0 &gt; setenv <b>boot-command begin ['] boot catch 999 ms cr again</b>
0 &gt; <b>reset-all</b></pre>

<p>この 1 行コマンドによる方法は、いくつかの初期の Open Firmware 1.0.5
の機種には通用しないという報告があります。

<p>このほか、<a href="../../../Ports/macppc/SystemDisk-tutorial/of105patch2.txt" origlink="SystemDisk-tutorial/of105patch2.txt">以下のパッチ</a>
 を nvramrc に追加するという方法もあります:

<pre>: wBoot
begin
 boot-device ['] $boot catch drop
 ." -Waiting for boot-device" cr
 d# 500 ms
key? until
;</pre>

追加後、 <tt>nvstore</tt> を実行します。 nvramrc へのパッチ適用についてより詳しくは
<a href="nvedit.html">NetBSD/macppc nvedit HOW-TO</a>
を見てください。さらに、ブートコマンドの変更を
指示しなければなりません。 OF プロンプトで次のようにタイプします:

<pre>0 &gt; <b>setenv boot-command wBoot</b>
0 &gt; <b>reset-all</b></pre>


</dd></dl>
<p><h3>
<a name="pb418">PowerBook (FireWire)、 PowerBook G4 (Titanium) と BootROM 4.1.8</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
この問題は  NetBSD 1.6 およびそれ以降で修正済です。
<p>
ここに掲げた 2 機種では、 <a href="#ofw-version">BootROM</a> バージョン 4.1.8
以降を持っている場合、 NetBSD 1.5.x 以前のブートに失敗します。


</dd></dl>
<p><h3>
<a name="grey-screen">ブートしようとすると、画面がグレーになって真中にアイコンがあるようになるのはなぜですか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
これは、システムが MacOS をブートしようとしていることを意味します。
このような状況は、適切に <a href="#ofw-access">Open Firmware に入って</a>いないか、
Open Firmware の boot コマンドが正しくない場合に起こりえます。

<p>間違った <tt>boot</tt> コマンドを打った場合、 Open Firmware は
<tt>boot-device</tt> 変数値をもとにブートしようとしますが、これのデフォルト値は
MacOS ROM です。これについての助言が必要なら、
<a href="#ofw-variables">関連する Open Firmware
の変数</a>の情報を見てください。

<p>アイコン付きのグレーの画面は、 MacOS ROM によるものです。
点滅するクエスチョンマークまたは壊れたフォルダーは、マシンがブート可能な
MacOS のファイルシステムを探しているが見付からないことを意味します。
ニコニコ顔は MacOS をブートしようとしていることを意味します。

<p>ブートフロッピーはブート可能な MacOS ファイルシステムは持っておらず、
ブート可能な NetBSD のファイルシステムを持っています。

<p>リブートして Open Firmware に入り直し、コマンドをよく確認してください。


</dd></dl>
<p><h3>
<a name="black-lcd">ブートの間、画面が真っ暗になってしまうのはなぜですか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
バグです。 NetBSD カーネルはバックライトを消してしまいます。
回避するため、 PowerBook の画面の明るさを上げてください。
<p>
もし PowerBook を使っているのでなければ、
<a href="#ofw-boot-serial">Open Firmware に入ろうとすると、ブートが止まり、
モニターに何も表示されなくなります</a>を見てください。


</dd></dl>
<p><h3>
<a name="nodisk">ディスクはどこに行った? (あるいは、 sysinst が <tt>I can not find any hard disk for use by NetBSD</tt> と言う)</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
うむ、よい質問です!

<p>おおもとの原因は、 NetBSD がハードドライブを見つけなかったことです
(より内部的にいえば、ドライブコントローラーを見つけなかったということです) 。
これが起きる原因は、さまざまです。まず最初に、 NetBSD がIDE コントローラー
を見つけているか確認してください (スクロールしてゆくブートメッセージ中に、
<tt>wdc0</tt> (IDE の場合) または <tt>scsibus0</tt> (SCSI の場合)
を含む行があるはずです) 。もし、それも見つけていなければ、お使いのドライブバス
をサポートした別のカーネルを使う必要があるでしょう。
<a href="mailto:port-macppc@netbsd.org">port-macppc@netbsd.org</a>
に投稿して助言を求めてください。

<p>ここで、ちょっとした問題を排除 (ドライブの接続、電源、ジャンパーが正しく
セットされているか確認) してください。 MacOS でドライブが動作するか確認してください。

<p>それでも NetBSD がディスクを見つけられず、それが SCSI ディスクの場合、
終端抵抗を確認してください。たとえ MacOS では使えていても、 NetBSD は SCSI
バスのタイミングに関して MacOS より厳格かもしれません。

<p>ATA4 をサポートする最近の機種を使っており、かつ/または、
最近の FirmWare update (2001 年後半) をインストールしており、かつ
NetBSD 1.5.2 を使おうとする場合、 <a href="#wdc-lost-interrupt"><tt>wdc0:0:1:
lost interrupt</tt></a> の問題があるかもしれません。

<p>IDE ドライブの場合、あなたのシステムは PowerMacintosh G3 (青白) かそれ以前の
ものかもしれません。 B&amp;W システムまでは、 Apple は IDE に関する問題すべてを
完全に除去してはいませんでした。多くの人々が、 NetBSD のドライブを別の IDE
バスにつなぎ、かつ/または、そのドライブをマスターにする
(CD-ROM はスレーブにする) 必要があると報告しています。

<p>悪いことには、 NetBSD 1.5.1 のインストールカーネルイメージは、
PowerMacintosh G3 (青白) の IDE コントローラーをサポートしていません。
本番のカーネルはサポートしていますが。

<p>残念ながら、お使いの OS すべてが動作する正しい構成を見つけるため、
いろいろ試す必要があるかもしれません。 Open Firmware 3 を持たない
システムはいずれも、スレーブデバイスからはブートできない (Open Firmware
の制限) ということを覚えておいてください。

<p>Chris Tribo は初期の G3 モデルのよい分析と、その制限/特徴について
投稿しています。彼の
<a href="http://mail-index.netbsd.org/port-macppc/2001/07/26/0019.html">記事</a>を見てください。
また、このトピックに関する Apple の
<a href="http://docs.info.apple.com/article.html?artnum=24342">Power Macintosh 
G3 and G4: IDE Master and Slave Support and Configuration</a> の
記事も見てください ('macppc@netbsd.org' と 'macppc' で認証する必要があります).


<!-- ======================================== -->
</dd></dl>
<hr>
<h2>その他もろもろ</h2><hr>
<p><h3>
<a name="elf"><tt>ldconfig</tt>/<tt>ld.so.conf</tt> はどこにありますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

NetBSD/macppc は ELF を使っているので、
<tt>ldconfig</tt> や <tt>ld.so.conf</tt> はありません。
より詳しくは、<a href="../../../Documentation/elf.html" origlink="../../Documentation/elf.html">NetBSD ELF FAQ</a>
を見てください。


</dd></dl>
<p><h3>
<a name="cross-compile">他の NetBSD アーキテクチャーでクロスコンパイルする方法は ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

まず、パッケージコレクションから
cross/powerpc-netbsd パッケージをコンパイル、インストールしてください。

カーネルの構築のため、通常にコンフィグレーションしてから、
次のようにしてコンパイルします:

<pre>
	make PATH=/usr/pkg/cross/powerpc-netbsd/bin:$PATH \ 
		MACHINE=macppc MACHINE_ARCH=powerpc depend all
</pre>

クロスコンパイルユーザーランドは若干複雑になります。 (XXX 以上)

(XXX この項目は MI FAQ に移すべきです)


</dd></dl>
<p><h3>
<a name="linux">NetBSD/macppc で MkLinux や LinuxPPC のバイナリーが動きますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
はい。 NetBSD 1.6 およびそれ以降には PowerPC ポート向け Linux バイナリー互換機能が
ありますが、デフォルトでは有効になっていません。
<tt>options        COMPAT_LINUX</tt> のコメントを外して
<a href="../../Documentation/kernel/#how_to_build_a_kernel">カーネルを再構築</a>
する必要があります。
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/www/communicator/README.html">
Netscape Communicator</a>、
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/lang/blackdown-jdk13/README.html">Blackdown's JDK-1.3.0</a> や
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/graphics/blender/README.html">Blender</a> といったアプリケーションの動作が報告されています。
これらのプログラムはすべて
<a href="http://www.netbsd.org/Documentation/software/packages.html">
NetBSD パッケージコレクション</a>に含まれています。
<p>
問題のあるバイナリーとしては:
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/www/opera/README.html">Opera</a>
は初回の起動時にはクラッシュします。二回目の起動時に、 advanced settings
ダイアログに入って "asynchronous DNS" チェックを外せば、問題なく動作
するはずです。このほか困りもののアプリケーションは RealPlayer です。 Linux
カーネルスレッドエミュレーションにおける機種独立のバグのせいで、使い物になりません
(<a href="http://www.NetBSD.org/cgi-bin/query-pr-single.pl?number=10101">PR 
#10101</a>)。
<p>
JDK がしっかり動作することは、特筆に値するかもしれません。
<a href="ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/www/cocoon/README.html">Cocoon</a>
のような Java アプリケーションは問題なく動作すると
報告されています。


</dd></dl>
<p><h3>
<a name="macos">NetBSD/macppc で MacOS のバイナリーが動きますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
いずれ誰かが <a
href="http://www.ibrium.se/linux/mac_on_linux.html">Mac-on-linux</a>
(LinuxPPC 用) を動かすかもしれません。それまでは、 68k Mac をエミュレートする
<a href="http://www.uni-mainz.de/~bauec002/B2Main.html">Basilisk II</a>
や <a href="http://www.vmac.org">VMac</a> を使ってみてください。


</dd></dl>
<p><h3>
<a name="macosx">NetBSD/macppc で Darwin/MacOS X のバイナリーが動きますか ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
作業は進行中で、 Darwin バイナリーの実行サポートのいくつかは
NetBSD-current に入っています。このプロジェクトの最新情報については
COMPAT_MACH と COMPAT_DARWIN の
<a href="http://hcpnet.free.fr/applebsd.html">状況ページ</a> で確認してください。

</dd></dl>
<p><h3>
<a name="keys"><img src="../../../images/ports/macppc/icon-command.gif" origlink="../../images/ports/macppc/icon-command.gif" width="13" height="13" alt="command key"> や <img src="../../../images/ports/macppc/icon-option.gif" origlink="../../images/ports/macppc/icon-option.gif" width="17" height="13" alt="option key"> のアイコンの意味は (あるいは、 "command" や "option" キーはどれ) ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>

Apple はキーボードに特別なキーを用意しており、
(特に US キーボード以外では) 混乱する人がいるかもしれません。
<img src="../../../images/ports/macppc/icon-command.gif" origlink="../../images/ports/macppc/icon-command.gif" width="13" height="13"
alt="command key"> 印の付いたキーは、普通、 "Command" キーとして参照されます。
キーボードによっては、コマンドキーに "open apple"
(<img src="../../../images/ports/macppc/icon-open-apple.gif" origlink="../../images/ports/macppc/icon-open-apple.gif" width="13" height="15"
alt="open apple key">) 印も付いています。

US キーボード以外では、 US キーボードで "option" キーとして印のあるキーに
<img src="../../../images/ports/macppc/icon-option.gif" origlink="../../images/ports/macppc/icon-option.gif" width="17" height="13"
alt="option key"> 印の付いたキーがあります。
<p>
しばしば、 Mac のドキュメントでは、 "C-O-p-r" などを押すよう指示しています。
これは、 command キーと option キーを "p" と "r" とともに押すことを
意味しています。

</dd></dl>
<p><h3>
<a name="german-kbd-at">ドイツ語 ADB キーボード上で、アットマーク (@) はどこ?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
MacOS では Shift-Alt-1、 Open Firmware では Shift-Alt-2 です。

</dd></dl>
<p><h3>
<a name="adb-short">ADB キーボードを使わずにシステムをブートする方法は?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
あなたがシリアルコンソールを使っていて、 ADB キーボードがなく、また、
電源スイッチ本体のある後部 (でなくてもどこでもいいですけど)
に手を伸ばしたくない場合、ハードウェアに細工して、コンピューターに
ADB キーボードの "power" キーを再現することができます。
すべての Mac には、本当の電源スイッチ (ソフトまたはハード電源) がありますが、
見えないようになっているかもしれません。
この細工をすると保証は無効になりますし、私たちも責任を持てません。
このトピックに関する Chris Tribo によるメーリングリストの
<a href="http://mail-index.netbsd.org/port-macppc/2001/06/09/0002.html">記事</a>
を参照してください。

</dd></dl>
<p><h3>
<a name="no-swapctrlcaps">なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps" がないんですか?</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
ADB キーボードは異常なキーコードを生成します─キーを解放時に押すと
(= caps lock セット) あるキーコードを生成し、
押して解放すると (= caps lock 解放) 別のキーコードを生成します。
カーネルコード <a href="http://cvsweb.netbsd.org/bsdweb.cgi/src/sys/arch/macppc/dev/akbd.c?rev=HEAD&amp;content-type=text/x-cvsweb-markup">sys/arch/macppc/dev/akbd.c</a> で、異常なキーコードは
wscons キーコードへ変換されます。
この不具合があるため、私たちができる最善のことは、残念なことですが、
control キーを固定することなのです。
<p>
NetBSD-current (1.6A 以降) では、
<tt>options CAPS_IS_CONTROL</tt> で、 capslock キーを control キーにハードコードします。
(LED の表示はおかしくなりますが、有用でしょう)

<!-- ======================================== -->
</dd></dl>
<hr>

<a href="./">Up to <em>NetBSD/macppc Port Page</em></a>
<hr>

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../"><img
	src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../"><img
	src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></table>
</td><td>
  <table><tr><td>
    <a href="../../Documentation/"><img
	src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../Documentation/"><img
	src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">Documentation top level</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: faq.list,v 1.122 2003/06/01 17:30:05 mbw Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1998-2003
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
