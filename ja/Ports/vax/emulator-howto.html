<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<!--
  Copyright (c) 2002-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.
-->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>NetBSD SIMH HOW-TO</title>
</head>

<body bgcolor="#ffffff" text="#000000">

<h1>NetBSD SIMH HOW-TO</h1>

<p>
  この案内は、 SIMH VAX エミュレーター上への NetBSD のインストール
  の一助となるよう書かれました。
</p>

<ol>
  <li>
    エミュレーターのソースコードを <a
    href="http://simh.trailing-edge.com/">SIMH ホームページ</a>で入手します。
    現在、エミュレーターは <code>simhv29-9.zip</code> ファイルに含まれています。
  </li>
  <li>
    エミュレーター置場用のディレクトリーを作り、ここで <tt>unzip -a</tt>
    して zipファイルを展開します。
  </li>
  <li>
    以下のようにタイプしてエミュレーターを構築します
<pre>
	mkdir BIN
        make BIN/vax
</pre>
    うまくいかない場合は、 SIMH 附属のドキュメンテーションを読んでください。
  </li>
  <li>
    NetBSD/vax CD ISO イメージ、たとえば <a
    href="ftp://ftp.netbsd.org/pub/NetBSD/iso/1.5.2/vaxcd.iso">NetBSD
    1.5.2</a> を、入手します。
  </li>
  <li>
    エミュレータープログラム (<code>BIN/vax</code>) を起動します。
  </li>
  <li>
    エミュレーターのプロンプトで、以下のようにタイプします
<pre>
        load -r /path/to/simh/VAX/ka655.bin
        set rq0 ra92
        at rq0 netbsd.dsk
        set rq1 cdrom
        at rq1 /path/to/vaxcd.iso
        boot cpu
</pre>
    これは、エミュレートされた VAX を、 RA92 ディスクと、 RD54 ディスク
    (CD イメージが RD54 ディスクに見える) を持つように設定します。
    他のオプションについては SIMH ドキュメンテーションを見てください。
  </li>
  <li>
    CD からブートするため、 VMB プロンプトで
<pre>
        boot dua1:
</pre>
    とタイプします。
  </li>
  <li>
    通常の NetBSD インストール手順をすすめます。 SIMH はフレームバッファーを
    エミュレートしないため、 X11 関連のインストールは不要でしょう。また、
    インストールプログラムが CD から <code>.tgz</code> ファイルを見付けられない
    という問題があります。そうなった場合は、 <code>Control-Z</code>
    でインストールを中断し、以下のようにタイプします。
<pre>
        mount -t cd9660 /dev/ra1a /mnt2
</pre>
    それから <code>fg</code> で復帰してインストールプログラムにエラーを
    無視させます。
  </li>
  <li>
    相当時間がかかったのちに、インストールが完了します。ここでシャットダウンか
    リブートしてもかまいません。
  </li>
  <li>
    これで、エミュレータープロンプトで <code>q</code> をタイプして
    エミュレーターを抜けることができます。
  </li>
  <li>
    以下の行を、
<pre>
        load -r /path/to/simh/VAX/ka655.bin
        set rq0 ra92
        at rq0 netbsd.dsk
        boot cpu
</pre>
    ファイル、たとえば <code>netbsd-boot</code> に入力します。
  </li>
  <li>
    以下のようにして、エミュレーターを再起動します:
<pre>
        BIN/vax netbsd-boot
</pre>
  </li>
  <li>
    ディスクからブートするため、 VMB プロンプトで
<pre>
        boot dua0:
</pre>
    とタイプします。
  </li>
  <li>
    Welcome to NetBSD!
  </li>
</ol>

<p>
  この文書で他のポートをカバーすることに興味があったり、
  その他コメントや提案があれば、
  Lars Brinkhoff <a
  href="mailto:lars.spam@nocrew.org">&lt;lars.spam@nocrew.org&gt;</a>、
  または <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">NetBSD WWW group</a> までご連絡ください。
</p>

<h2>謝辞</h2>

<p>
  この HOW-TO の初版は <a
  href="http://lars.nocrew.org/">Lars Brinkhoff</a> によって書かれました。
  このページの情報のうちいくらかは、
  <a href="mailto:mirian@cosmic.com">Mirian Crzig Lennox</a>
  からの電子メールによるものです。
</p>

<hr>

<table width="100%"><tbody><tr><td>
  <table><tbody><tr><td>
    <a href="../../"><img src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0
    " width="91" height="42" alt=""></a> 
  </td><td>
    <a href="../../"><img src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
    width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></tbody></table>
</td><td>
  <table><tbody><tr><td> 
    <a href="../../Documentation/"><img
	src="../../../images/NetBSD-flag.gif" origlink="../../images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../Documentation/"><img
	src="../../../images/empty.gif" origlink="../../images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">Documentation top level</a>
  </td></tr></tbody></table>
</td></tr></tbody></table>

<hr>

<address>
  <small>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
    $NetBSD: emulator-howto.html,v 1.7 2003/03/08 19:42:05 grant Exp $<br>
    <a href="../../Misc/disclaimer.html">Copyright &copy; 2002-2003
    The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>

