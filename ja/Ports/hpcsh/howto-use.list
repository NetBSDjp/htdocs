<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 2000
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>NetBSD/hpcsh User How-To page</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>Using NetBSD/<font color="#CC0000">hpcsh</font></h1>

This page contains information that current and potential users of
NetBSD/hpcsh can use to help them set up and maintain their
systems.

<LIST>

<SECTION>Getting started with NetBSD/hpcsh

<ENTRY>limitation  Current limitation
Since hpcsh effort is still young and peripheral supports are lacking,
we need to rely upon WinCE filesystem, or WinCE networking support,
to grab files necessary to boot NetBSD.

<ENTRY>files  Files to prepare
You need at least 3 files to start NetBSD/hpcsh.
<p>

<dl>
  <dt>hpcboot.exe
    <dd>bootloader runs on WindowsCE environment.
	It currently supports SH3/4 WinCE 3.xx machines only (?).
	It is available at <URL>ftp://f77.nop.or.jp/users/uch/hpcboot/.
  <dt>netbsd (kernel)
    <dd>For testing: <URL>ftp://f77.nop.or.jp/users/uch/hpcsh/netbsd.
  <dt>miniroot.fs (filesystem image, generated with vnconfig)
    <dd>For testing: <URL>ftp://f77.nop.or.jp/users/uch/hpcsh/miniroot.fs
</dl>

<ENTRY>boot-flash  Booting from memory card
This is probably the easiest way, for now.
<p>

Connect some device to serial port.
Use 9600bps, no parity, 8bits.
<p>

Prepare a DOS-formatted memory card, and copy the above 3 files into the card.
<p>

Insert the card into your WinCE machine.
<p>

Checking: did you connect the serial cable already?
Serial cable MUST be plugged into WinCE machine,
before starting hpcboot.exe.
<p>

Go into "Explorer" (not the "Internet Explorer"), go directory down to your
memory card (the name of the memory card differs by localization),
and invoke hpcboot.exe.
Alternatively, you may want to setup autoboot, if your WinCE
product allows you.
Jornada 690 allows it by putting
<a href="autorun.inf.uu">the file (uuencoded/must be a Unicode text)</a>.
under name "Autorun.inf", into memory card.
<p>

In hpcboot, setup the following items.
<ul>
<li>"kernel" screen:
    <ul>
    <li>Line 1: set the pathname to "netbsd".
	Should be "\Storage Card 1\" and "netbsd", or whatever suitable.
    <li>Line 2: specify the machine type you are using.
	At this moment this should not matter too much.
	In the future, when we got X support, the information will be used to
	determine screen size and keyboard type.
    <li>Line 3 and 4: specify the filesystem type.
	You will want to use "md", and then "miniroot.fs".
    <li>Line 5: set radio buttons as you like.
    </ul>
<li>"option" screen:
    <ul>
    <li>You definitely want "Serial console".
	For other items, choose as you like.
	"Reverse video" has no effect as there's no LCD support at this moment.
    </ul>
</ul>

Pray.
Tap "boot" at the bottom.
You will see "Last chance: Push OK to boot" dialog.
Tap OK or return (obviously).
If you are successful, you will see
<a href="dmesg-20010117-jornada690.txt">boot message like this</a>
onto your serial port.
Congratulations!

<ENTRY>build  Building binary files
See <a href="../../Documentation/cross/">cross building howto</a>.

</LIST>

<a href="">Up to <em>NetBSD/hpcsh Port Page</em></a>
<hr>

<PORTLINK>

<hr>
<address>
  <small>
  www@NetBSD.ORG<br>
  $NetBSD: howto-use.list,v 1.8 2001/01/22 05:02:07 itojun Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy;
    2001
    The NetBSD Foundation, Inc. ALL RIGHTS RESERVED.</a> 
  </small>
</address>

</body>
</html>

