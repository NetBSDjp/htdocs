<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<!-- Copyright (c) 1994-2001
        The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@NetBSD.ORG">
<title>NetBSD/dreamcast: How to use NetBSD/dreamcast</title>
</head>
<body bgcolor="#ffffff" text="#000000" link="#2020cc" vlink="#700080">

<h1>How to use NetBSD/dreamcast</h1>

<i>&quot;I Just Bought a Dreamcast to Run NetBSD.  What do I do now?&quot</i>
<p>

Getting NetBSD up and running on the Sega Dreamcast is pretty easy, as long as
you know what's involved.  This document is aimed at the NetBSD newbie as
well as the DC/NetBSD newbie.  However, a familiarity with some flavor of
UNIX is recommended.  Information for this document has been culled from
the mailing list archive at <URL>http://mail-index.netbsd.org/, Marcus
Comstedt's homepage at <URL>http://mc.pp.se/dc/, BeTips.net <a
href="http://www.betips.net">http://www.betips.net</a>, and personal
trial and error.
<p>

<ul>
  <li>Project 1 : Booting the Dreamcast from a CD (root filesystem is an
    ISO9660 CD)
  <li>Project 2 : Booting the Dreamcast from a Network
</ul>

<h2>Project 1</h2>

<h3>1) Requirements</h3>

You will need the following:
<p>

<ul>
  <li>Dreamcast console (it is recommended that you use a unit manufactured
    September 2000 or earlier (some have reported that newer ones work as
    well, so check the mailing list archive to be sure)
    <p>
  <li>Dreamcast keyboard
    <p>
  <li>OPTIONAL - Dreamcast mouse (as of this writing there is no driver for
    it.  Maybe you could write one?)
    <p>
  <li>a PC running windows
    <p>
  <li>a PC running NetBSD (Linux or any other *BSD should work, too.
    BeOS does not work for step 3)
    <p>
  <li>DiscJuggler for Windows (the demo version is fine) <a
    href="http://www.padus.com">http://www.padus.com</a>
    <p>
  <li>Blank CD-R's (CD-RW's cannot be read by the Dreamcast)
  <li>Bootable NetBSD kernel (DiscJuggler image) from <a
    href="http://www.roadsign.com/dc/">http://www.roadsign.com/dc/</a>
    <p>
  <li>"mkhybrid" and a CD burning program (I used CD Burner under BeOS, but
    you'll most likely use "cdrecord")
</ul>

<h3>2) Make a Bootable Kernel CD</h3>

<ul>
  <li>Using DiscJuggler, burn the bootable kernel image file
    <p>
  <li>Pop it in the DC and turn on the power
    <p>
  <li>You should see a bunch of boot info scroll by, and then it will
    prompt you for a root FS
</ul>
<p>

If you've gotten this far, you know your DC is of the correct manufacture
date.  If it is later than September of 2000, please report it to the
mailing list.

<h3>3) Make Root Filesystem CD</h3>

<ul>
  <li>Retrieve the HPCSH tarballs from <a
    href="../../">http://www.netbsd.org</a>
    <p>
  <li>Untar them into their own dir on your *BSD/Linux PC
    <p>
  <li>Run the MAKEDEV script.  This will create your console, as well as
    other needed devicesi.
    <p>
    <pre>	# sh MAKEDEV all</pre>
    <p>
  <li>Using mkhybrid, create an ISO9660 image from the HPCSH distribution
    with the freshly made /dev/* stuff.
    <pre>	# mkhybrid -o DCBSD.img -V DCNetBSD -a -r /path/to/files</pre>
    <p>
    The -V is the volume label, the -a means all files in the source dir,
    and the -r is for rock ridge extensions (this may not be necessary, but
    it didn't sem to have any adverse affects on my experience)
    <p>
  <li>Using cdrecord, burn the image as a regular ISO9660 CD (as opposed to
    the bootable kernel image)
</ul>

<h3>4) Try it Out</h3>

<ul>
  <li>Boot the DC from your bootable kernel CD
  <li>When it prompts you for the root FS, you want it to point to the
    GDROM, so type in:
    <p>
    <pre>	# gdrom0</pre>
    <p>
  <li>When it prompts you for a dump device, just press "Enter"
    <p>
  <li>At this point you should swap the bootable kernel CD for the Root
    Filesystem CD you just burned
    <p>
  <li>You should have a prompt for filesystem type type in:
    <p>
    <pre>	# cd9660</pre>
    <p>
    Hitting enter" with the root filesystem CD in the DC should start the
    DC in single user mode.  It'll prompt you again for shell and terminal
    type (vt220 or vt100 is fine).
</ul>

<h3>5) You're done!</h3>

<ul>
  <li>While this is exciting, it's not very useful at this point.  You can't
    use an editor that requires temp space (vi), and you can't modify
    anything.  There are a few options from here:
    <p>
  <li>Boot the DC from a read/write FS via NFS (requires the Broadband Adapter)
    <p>
  <li>Create a custom Root FS cd with all the programs you need to run and
    let it go, doing its thing.
    The first option brings us to...
</ul>

<h2>Project 2</h2>

To be continued...
<p>

<hr>
<a href="./">Up to <em>NetBSD/dreamcast Port Page</em></a>
<hr>

<DOCLINK>

<hr>
<address>
  <small>
  <a href="../../Misc/feedback.html">(Contact us)</a>
  $NetBSD: howto.list,v 1.3 2001/07/12 19:05:44 dent Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1994-2001
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
