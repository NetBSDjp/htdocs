<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>

<!-- DO NOT EDIT THIS FILE. EDIT 'faq.list' AND RUN 'make' -->

<!-- Copyright (c) 1994-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>NetBSD/mipsco: Frequently Asked Questions</title>
</head>
<body bgcolor="#ffffff" text="#000000" link="#2020cc" vlink="#700080">

<h1>NetBSD/mipsco よくある質問</h1>

この FAQ に載っていない質問があれば、
<a href="mailto:port-mipsco@NetBSD.ORG">port-mipsco</a> メーリングリストで尋ねてください。

<h2><a name="top">全般的な質問</a></h2>
<ul>
<li>
<a href="#dead-nvram">NVRAM の設定手順</a></li>
</ul>


<hr>
<h2>全般的な質問</h2><hr>
<p><h3>
<a name="dead-nvram">NVRAM の設定手順</a>
<font size="-1">(<a href="#top">top</a>)</font>
</h3><dl><dt><dd>
bootp に問題が起きて、なおかつイーサネットアドレスが
00:00:00:00:00:00 に見える場合、もっとも考えられる原因は
NVRAM のバッテリーの寿命でしょう。
<p>

この問題の唯一の解決法は、メインボードの <tt>U-C8H1</tt> の近くにある
MK48T02 NVRAM チップの交換です。
電源を断ち、規格外の高さのチップを探す必要があります。
<p>

よくないことに、 MIPS の設計技術者は NVRAM の最初の 1k
を読み取り専用にしました。イーサネット MAC アドレスを再設定するためには、
他のマシンを使うしかありません。メモリーの冒頭部分の値が重要で、
以下のようにして設定します。
<p>

<table cellpadding=0 cellspacing=0 align="center" width="80%">
<tr><td><b>Address</b></td><td><b>Contents</b></td></tr>
<tr><td>0x0</td><td>MSB of MAC&nbsp;address</td></tr>
<tr><td>0x1</td><td>..</td></tr>
<tr><td>0x2</td><td>..</td></tr>
<tr><td>0x3</td><td>..</td></tr>
<tr><td>0x4</td><td>..</td></tr>
<tr><td>0x5</td><td>LSB of MAC address</td></tr>
<tr><td>0x6</td><td>Machine type (0x0a = Mips Magnum 3000)</td></tr>
<tr><td>0x7</td><td>???</td></tr>
<tr><td>0x8</td><td>???</td></tr>
<tr><td>0x9</td><td>ASCII Serial Number - 1st digit</td></tr>
<tr><td>0xa</td><td>ASCII Serial Number</td></tr>
<tr><td>0xb</td><td>ASCII Serial Number</td></tr>
<tr><td>0xc</td><td>ASCII Serial Number - last digit</td></tr>
</table>
<p>

MK48T02 NVRAM チップに関する追加情報は
<a href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html">
Sun NVRAM/Hostid FAQ</a> にあります。
<p>

Sun IPX、 SS1 または SS2 を使って NVRAM を再設定するための手順は、
以下のとおりです:
<p>

<ol>
<li> Mips マシンから NVRAM を外し、 Sun ワークステーションに装着します
<li> Sun ワークステーションをブートし、ファームウェアモニターに落ちます
<li> n を入力して new command mode に入ります
<li> マシンのシリアルナンバーを読みます。これは 00ABCD-9111 という形式で、
     ABCD の部分は 4 桁のシリアルナンバーです。
<li> 下記のコマンドを続けてタイプします:
<pre><tt>
    02000000 obio 0 map-page
    0 7f8 ff fill
    0 0 c!
    0 1 c!
    6b 2 c!
    AB 3 c!        <i>(AB はシリアルナンバーの上 2 桁)</i>
    52 4 c!
    CD 5 c!        <i>(CD はシリアルナンバーの下 2 桁)</i>
    0a 6 c!
    10 7 c!
    44 8 c!
    3A 9 c!        <i>(3 に続けてシリアルナンバーの最初の桁)</i>
    3B a c!        <i>(3 に続けてシリアルナンバーの 2 桁目)</i>
    3C b c!        <i>(3 に続けてシリアルナンバーの 3 桁目)</i>
    3D c c!        <i>(3 に続けてシリアルナンバーの最後の桁)</i>
</tt></pre>

<li> モニタープロンプトが出たらすぐに電源を落とします
 (リブートしようとしてはいけません。さもないと NVRAM が再初期化されます) 。
 この MK48T02 チップを Mips マシンに移します。

<li> 今初期化した NVRAM チップを使うと、起動音が鳴り、
 シリアル 1 に 9600 ボーで端末をつなげば起動診断が
 見られるでしょう。
 おそらく NVRAM チェックサムエラーが出ます - 現時点では、これを正すことが
 できるだけの NVRAM フォーマットやチェックサム手順に関する情報は
 見付かっていません。チェックサムに問題があるとはいえ、これでマシンが
 ネットワーク上で使えるようになります。
</ol>

</dd></dl>
<hr>

<a href="./">Up to <em>NetBSD/mipsco Port Page</em></a>
<hr>

<table width="100%"><tr><td>
  <table><tr><td>
    <a href="../../"><img
	src="/images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../"><img
	src="/images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">ホームページ</a>
  </td></tr></table>
</td><td>
  <table><tr><td>
    <a href="../../Documentation/"><img
	src="/images/NetBSD-flag.gif" border="0"
	width="91" height="42" alt=""></a>
  </td><td>
    <a href="../../Documentation/"><img
	src="/images/empty.gif" border="0"
	width="1" height="1" alt="NetBSD ">Documentation top level</a>
  </td></tr></table>
</td></tr></table>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.netbsd.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@JP.NetBSD.ORG">日本語:
       www@JP.NetBSD.ORG</a>)<br>
  $NetBSD: faq.list,v 1.6 2001/07/11 14:57:46 dent Exp $<br>
  <a href="../../Misc/disclaimer.html">Copyright &copy; 1994-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
