<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html lang="ja">
<head>
<!-- Copyright (c) 1997-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<TITLE>NetBSD/mac68k FAQ - ソフトウェア移植とプログラミング</TITLE>
</HEAD>
<BODY>
<A NAME="porting"></A> <H1>7. <A NAME="s7"></A>ソフトウェア移植とプログラミング</H1>
<P>
<HR>
<a href="./#toc7">Contents of this section</a><hr>
</P>

<A NAME="E.A"></A> <H2>7.1 <A NAME="ss7.1"></A> NetBSDやNetBSD/mac68kのソースは、AT&amp;T、USL、またはAppleの著作権やライセンスによって制限を受けていますか?</H2>

<P>NetBSDのソースはAT&amp;T、USL、Appleまたその他のいかなる団体・個人からも制約を受けません。ソースの大部分はカルフォルニア大学バークレー校式のソフトウェアライセンスによって配付され(詳しくは
<A HREF="http://www.NetBSD.org/about/redistribution.html">http://www.NetBSD.org/Goals/redistribution.html</A>を参照)、その他の部分は(すべてカーネルの外)はGNU General Public Licenseにしたがって再配布されています。</P>
<P></P>
<P></P>

<A NAME="E.B"></A> <H2>7.2 <A NAME="ss7.2"></A> Mac OS側ユーティリティー(Booter、Installer、Mkfs)のソースは入手できますか?</H2>

<P>はい、できます。プロジェクトファイルを使うにはCodeWarrior (またはひょっとしてThink C 6.0以降)が必要です。ソースは以下のURLまたはそのミラーサイトから入手できます:
<BLOCKQUOTE><CODE>
<a href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.5/mac68k/installation/misc/src/">ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-1.5/mac68k/installation/misc/src/</a>
</CODE></BLOCKQUOTE>
</P>

<A NAME="E.C"></A> <H2>7.3 <A NAME="ss7.3"></A> NetBSD/mac68kは共有ライブラリーに対応していますか?</H2>

<P>はい、しています。</P>
<P></P>
<P></P>

<A NAME="E.D"></A> <H2>7.4 <A NAME="ss7.4"></A> 共有ライブラリーは何のためにあるのですか?</H2>

<P>W. Richard Stevens著<I>Advanced Programming in the Unix Environment</I>の第7.7節『Shared Libraries』を参照してください。[訳註:日本語版の情報をkenn@macbsd.comまでお寄せください]</P>
<P></P>
<P></P>

<A NAME="E.E"></A> <H2>7.5 <A NAME="ss7.5"></A> カーネルソースはどこから入手できますか?</H2>

<P>最新版のカーネルソースは、ftp.NetBSD.orgかミラーサイトの
<A HREF="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-current/src/sys/">/pub/NetBSD/NetBSD-current/src/sys/</A>で入手できます。
また、
<A HREF="../meta-faq/">NetBSD/mac68kメタFAQ</A>にも、currentソースを追いかけるにあたっての情報がありますから、そちらも参照してください。</P>
<P></P>

<A NAME="E.F"></A> <H2>7.6 <A NAME="ss7.6"></A> NetBSD/mac68k用にクロスコンパイラー環境を作ることはできますか?</H2>

<P>できます。この件に関して協力していただいた皆さんに感謝します。Markus Hitter (hitterm@trier.fh-rpl.de)による
<A HREF="http://www.macbsd.com/macbsd/howto/cc-HOWTO">クロスコンパイラーHOWTO</A>があります。</P>
<P>また、Alan Palmer (hawks@mcs.com)はSolaris 2.4上でNetBSD/mac68k用にクロスコンパイルを行う環境を整備しました。それについては:
<A HREF="ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/">ftp://ftp.macbsd.com/pub/NetBSD/contrib/cross-compiling/</A>
を参照してください。</P>
<P>上のHOWTOはちょっと古いのですが、他のプラットフォームでのNetBSD向けのクロスコンパイルを容易にするため作業が行われています。</P>
<P></P>

<A NAME="E.G"></A> <H2>7.7 <A NAME="ss7.7"></A> カーネルデバッガーのマニュアルはありますか?</H2>

<P>あります。カーネルデバッガーのマニュアルページは<CODE>ddb(4)</CODE>です。</P>
<P>回答を寄せてくれたScott Reynolds (scottr@og.org)とAllen Briggs (briggs@puma.macbsd.com)に感謝します。</P>


<A NAME="E.H"></A> <H2>7.8 <A NAME="ss7.8"></A> UN*Xカーネル内部を理解するのに良い本はありませんか?</H2>

<P>メタFAQの
<A HREF="../meta-faq/meta-faq-5.html">推薦図書</A>の項を参照してください。</P>
<P></P>

<A NAME="E.I"></A> <H2>7.9 <A NAME="ss7.9"></A> ハードウェアをサポートするために調査をするようなMac OSユーティリティーはありますか?</H2>

<P>あります。Appleは次の場所にかなりの数のユーティリティーを持っています:
<BLOCKQUOTE><CODE>
<a href="ftp://ftp.apple.com/developer/Tool_Chest/Devices_-_Hardware/">ftp://ftp.apple.com/developer/Tool_Chest/Devices_-_Hardware/</a>
</CODE></BLOCKQUOTE>

この下に、少くとも三つの有用なサブディレクトリーがあります:
<UL>
<LI><CODE>Apple_Desktop_Bus</CODE> - ADB周り</LI>
<LI><CODE>NuBus_Slot_Manager</CODE> - Slotsユーティリティーがある</LI>
<LI><CODE>Display_&_Video_Hardware</CODE> -ビデオ周り</LI>
</UL>
</P>
<P>上の情報を寄せてくれたAlan Palmer (apalmer@il.us.swissbank.com)に大変感謝します。</P>
<P></P>

<A NAME="E.J"></A> <H2>7.10 <A NAME="ss7.10"></A> 何かコンパイルしようとするといつも<CODE>sys_errlist[]</CODE>が再定義されているのですが</H2>

<P>伝統的にBSDシステムでは<CODE>sys_errlist[]</CODE>配列の存在は知られてはいたもののヘッダファイルで定義されることがなかったのです。このため、たくさんの古いプログラムが自前でこの配列を宣言しています(これはシステムのエラーメッセージ文字列の配列です)。しかしNetBSDはシステムヘッダファイルでこの変数を宣言しており、なおかつ型が古いプログラムが仮定していた型と異るために、宣言の衝突が起きるのです。</P>
<P>通常はソースファイル中でこの配列の宣言部分をコメントアウトしてしまえば安全です。システムのヘッダファイルを変更すると、他の新しいプログラムのコンパイルでエラーとなることがありますからお薦めしません。最近のプログラムでは、システムヘッダファイルでの宣言があるかどうか調べて、あれば自前の宣言を行わないようにコンフィギュアできることが多くなっています。</P>
<P></P>

<A NAME="E.K"></A> <H2>7.11 <A NAME="ss7.11"></A> g++でiostreamsを使ったプログラムをコンパイルすると決まって次のエラーが出ます:</H2>

<P>
<BLOCKQUOTE><CODE>
<PRE>
/usr/libexec/ld.so: Undefined symbol &quot;_tgetstr&quot; in testprog:
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Jason Thorpe (thorpej@nas.nasa.gov)からの回答:
<BLOCKQUOTE>
これはlibg++のとても情けないバグです(まあ、これはNetBSDの共有ライブラリー実装の情けないバグとたまたま変わった形で相互作用しているんですが)。
</BLOCKQUOTE>

<BLOCKQUOTE>
<CODE>-ltermcap</CODE>をライブラリーリストの最後につけ加えてください。
</BLOCKQUOTE>
</P>
<P></P>

<A NAME="E.L"></A> <H2>7.12 <A NAME="ss7.12"></A> 既にNetBSD/mac68kに移植されたソフトウェアのソースやバイナリーを入手できる場所はありますか?</H2>

<P>あります。 <a href="../../../docs/software/packages.html">pkgsrc</a> には、
インターネットから入手できるポピュラーなソフトウェアを素早く
コンパイル・インストールするのに必要なファイル一式が含まれています。
<a href="../../../docs/pkgsrc/">NetBSD packageシステムドキュメント</a>
を参照してください。</P>
<P></P>
<P></P>

<P>
<HR>
<A HREF="faq-8.html">Next Chapter</A> |
<A HREF="faq-6.html">Previous Chapter</A>
<HR>
</P>
<P>

Table of contents of <a href="./#toc7">this chapter</a>,
General <a href="./">table of contents</a>
<p>

<a href="#s7">Beginning of this Chapter</a>
<p>

<hr>
<address>
  <small>
  (連絡先 - <a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">英語</a>,
       <a href="mailto:www@jp.NetBSD.org">日本語:
       www@jp.NetBSD.org</a>)<br>
  $NetBSD: faq-7.html,v 1.2 2007/06/09 20:18:05 dsieger Exp $<br>
  <!-- Based on english version: -->
  <!-- NetBSD: faq-7.html,v 1.2 2007/06/09 20:18:05 dsieger Exp   -->
  <a href="../../../about/disclaimer.html">Copyright &copy; 1994-2003
  The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED.</a>
  </small>
</address>

</body>
</html>
