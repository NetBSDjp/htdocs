<?xml version="1.0"?>
<!DOCTYPE webpage
 PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
        "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="ports-hpcsh-howto-use">
<config param="desc" value="NetBSD/hpcsh User How-To page"/>
<config param="cvstag" value="$NetBSD: howto-use.xml,v 1.1 2007/06/09 13:32:17 dsieger Exp $"/>
<config param="rcsdate" value="$Date: 2007/06/09 13:32:17 $"/>

<head>
<!-- Copyright (c) 2000-2003
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->
<title>NetBSD/hpcsh User How-To page</title>
</head>


<sect1 role="toc">
<title>Using NetBSD/<font color="#657595">hpcsh</font></title>

<para>
  This page contains information that current and potential users of
  NetBSD/hpcsh can use to help them set up and maintain their
  systems.
</para>

<sect2>
<title>Getting started with NetBSD/hpcsh</title>

<sect3 id="files">
<title> Files to prepare</title>
<para>
You need at least 3 files to start NetBSD/hpcsh.
</para>

<variablelist>
  <varlistentry>
    <term>hpcboot.exe</term>
    <listitem>
      bootloader runs on WindowsCE environment.
      It currently supports WinCE2.11 and WinCE3.00 machines.
      It is available at sys/arch/hpc/stand/binary/SH3/. (uuencoded binary. see sys/arch/hpc/stand/README)
    </listitem>
  </varlistentry>
  <varlistentry>
    <term>netbsd (kernel) </term>
    <listitem>
      For testing on HP Jornada 680, 690 and HITACHI PERSONA HPW-PA50,
      HPW-230JC. Don't try to other machines:
      <ulink
      url="ftp://ftp.NetBSD.org/pub/NetBSD/arch/hpcsh/snapshot/20010325-netbsd.gz" />
    </listitem>
  </varlistentry>
  <varlistentry>
    <term>miniroot.fs (filesystem image, generated with vnconfig)</term>
    <listitem>
      For testing: <ulink
      url="ftp://ftp.NetBSD.org/pub/NetBSD/arch/hpcsh/snapshot/20010324-miniroot.fs" />
    </listitem>
  </varlistentry>
</variablelist>
</sect3>

<sect3 id="boot-flash">
<title> Booting from memory card</title>

<para>
This is probably the easiest way, for now.
</para>

<para>
  Connect some device to serial port.
  Use 19200bps, no parity, 8bits.
</para>

<para>
  Prepare a DOS-formatted memory card, and copy the above 3 files into the card.
</para>

<para>
  Insert the card into your WinCE machine.
</para>

<para>
  Checking: did you connect the serial cable already?
  Serial cable MUST be plugged into WinCE machine,
  before starting hpcboot.exe.
</para>

<para>
  Go into "Explorer" (not the "Internet Explorer"), go directory down to your
  memory card (the name of the memory card differs by localization),
  and invoke hpcboot.exe.
  Alternatively, you may want to setup autoboot, if your WinCE
  product allows you.
  Jornada 690 allows it by putting
  <ulink url="autorun.inf.uu">the file (uuencoded/must be a Unicode text)</ulink>
  under name "Autorun.inf", into memory card.
</para>

<para>
  In hpcboot, setup the following items.
</para>

<itemizedlist>
  <listitem>
    <para>
       "kernel" screen:
    </para>

    <itemizedlist>
    <listitem>Line 1: set the pathname to "netbsd".
	Should be "\Storage Card 1\" and "netbsd", or whatever suitable.
    </listitem>
    <listitem>Line 2: specify the machine type you are using.
	The information will be used to determine screen size ,keyboard type
	and misc device configuration.
    </listitem>
    <listitem>Line 3 and 4: specify the filesystem type.
	You will want to use "md", and then "miniroot.fs".
    </listitem>
    <listitem>Line 5: set radio buttons as you like.
    </listitem>
    </itemizedlist>
  </listitem>
    
  <listitem>
    <para>
      "option" screen:
    </para>

    <itemizedlist>
      <listitem>
        You definitely want "Serial console".
	For other items, choose as you like.
	"Reverse video" is not implemented.
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

<para>
  Pray.
  Tap "boot" at the bottom.
  You will see "Last chance: Push OK to boot" dialog.
  Tap OK or return (obviously).
  If you are successful, you will see
  <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/arch/hpcsh/snapshot/dmesg-20010324-jornada690.txt">boot message like this</ulink>
  onto your serial port.
  Congratulations!
</para>
</sect3>

<sect3 id="build">
<title> Building binary files</title>

<para>
  See <ulink url="../../guide/en/chap-build.html">cross building howto</ulink>.
</para>

</sect3>

</sect2>
</sect1>
</webpage>
