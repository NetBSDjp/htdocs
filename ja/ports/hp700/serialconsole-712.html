<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/hp700/." title="NetBSD/hp700">
<link rel="previous" href="../../../ja/ports/hp700/faq.html" title="NetBSD/hp700: よくある質問">
<link rel="next" href="../../../ja/ports/hpcarm/." title="NetBSD/hpcarm">
<link rel="first" href="../../../ja/ports/hp700/faq.html" title="NetBSD/hp700: よくある質問">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD/hp700: HP 9000/712 モデルでのシリアルコンソールへの移行方法</title>

</head>
<body class="website"><div class="webpage">
<a name="ja-ports-hp700-serialconsole-712"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
                  google.load('search', '1', {language : 'en'});
                  google.setOnLoadCallback(function() {
                    var header_customSearchControl = new google.search.CustomSearchControl('006277936787196004968:mbdhrauy1wm');
                    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                    var header_options = new google.search.DrawOptions();
                    header_options.enableSearchboxOnly("http://google.com/cse?cx=006277936787196004968:mbdhrauy1wm");    
                    header_customSearchControl.draw('header-cse-search-form', header_options);
                  }, true);
                </script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/hp700: HP 9000/712 モデルでのシリアルコンソールへの移行方法</h1>
<div class="sect1">
<div class="titlepage"></div>

  <p>
    <span class="emphasis"><em>
      警告: 不適切なコンソールパスを設定すると、システムが操作不能になるおそれがあります。
      気をつけてください。
    </em></span>
  </p>

  <p>
    困ったことに、 HP は、 712 をヘッドレスで使うための設定をしづらいようにしてしまいました。
    手短にいうと、HP-UX ブートローダープロンプト(<code class="code">ISL</code> と呼ばれます)
    に入る必要があります。ここから、コンソールを 9600 8N1
    の一番目のシリアルポートに固定することができます。
  </p>

  <p>
    この説明の一次情報源は、
    <a class="ulink" href="http://lists.parisc-linux.org/pipermail/parisc-linux/1999-December/008117.html" target="_top">http://lists.parisc-linux.org/pipermail/parisc-linux/1999-December/008117.html</a> です。
  </p>

  <p>
    シリアルコンソールを変更するには、以下のものが必要です。
  </p>
  <div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">PS/2 キーボード</li>
<li class="listitem">VGA インターフェースを持つモニター</li>
<li class="listitem">HP-UX ISL (HP-UX がブート可能なハードディスクとネットブートのどちらでも可)</li>
</ol></div>

  <p>
    最初に、BootROM プロンプトに入る必要があります。
    システムが以下の表示をしたら <code class="code">ESC</code> キーを押し、
    <code class="code">BOOT_ADMIN&gt;</code> プロンプトが出るまで押し続けます。
    </p>
<pre class="programlisting">Press &lt;ESCAPE&gt; to stop boot sequence.</pre>
<p>
  </p>

  <div class="sect2" title="段階 1: モニタータイプの設定">
<div class="titlepage"><div><div><h3 class="title">
<a name="monitor_type"></a>段階 1: モニタータイプの設定</h3></div></div></div>
    

    <p>
      ディスプレイの表示がおかしい場合は、周波数が外れている可能性があります。
      ディスプレイに合ったモニタータイプを選ぶことができます。
    </p>

    <p>
      712 に VRAM ボードを増設している場合は、通常の VGA 680x480 モードの
      モニタータイプは 7 です。 VRAM ボードがない場合はこれとは異なる可能性があります
      (おそらく 5?)。
    </p>

<pre class="programlisting">
BOOT_ADMIN&gt; <span class="bold"><strong>monitor 7</strong></span>
        Monitor Choices
Type     Resolution     Frequency
----     ----------     ---------
  1      1280x1024        72Hz
  2      1024x768         75Hz
  3      1024x768         70Hz
  4      1024x768         75Hz     Flat Panel
  5      1280x1024        60Hz
  6      1024x768         60Hz
  7       640x480         60Hz
  8      1280x1024        75Hz     VESA
  9      1024x768         75Hz     VESA
 10       800x600         75Hz     VESA
 11       640x480         75Hz     VESA
 12      1280x1024        72Hz     Greyscale
 13      1280x1024        50Hz

Current Monitor Type is
  7       640x480         60Hz

BOOT_ADMIN&gt; <span class="bold"><strong>reset</strong></span></pre>
  </div>

  <div class="sect2" title="段階 2, 場合 1: HP-UX がローカルディスクにインストールされている場合">
<div class="titlepage"><div><div><h3 class="title">
<a name="hpux_local_disk"></a>段階 2, 場合 1: HP-UX がローカルディスクにインストールされている場合</h3></div></div></div>
    

<pre class="programlisting">
BOOT_ADMIN&gt; <span class="bold"><strong>boot pri isl</strong></span>

Booting

ISL Revision A.00.38  OCT 26, 1994 


ISL&gt;</pre>
  </div>

  <div class="sect2" title="段階 2, 場合 2: HP-UX がない場合">
<div class="titlepage"><div><div><h3 class="title">
<a name="no_local_hpux"></a>段階 2, 場合 2: HP-UX がない場合</h3></div></div></div>
    

    <p>
      準備すること:
    </p>

    <div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
	HP のサイトからファームウェアアップデート
	(<a class="ulink" href="ftp://ftp.itrc.hp.com/firmware_patches/hp/cpu/PF_C7120023" target="_top">PF_C7120023</a>) を入手します
	(ただし、この段階ではファームウェアを更新しません)。
      </li>
<li class="listitem">
	バイナリーを展開します。
<pre class="programlisting">
    % <span class="bold"><strong>mkdir /tmp/712</strong></span>
    % <span class="bold"><strong>cd /tmp/712</strong></span>
    % <span class="bold"><strong>sh /<code class="varname">somewhere</code>/PF_C7120023</strong></span>
    x - C7120023.text
    Compiling unpacker for non-ascii files
    /tmp/ccIy0Rg8.o: warning: this program uses gets(), which is unsafe.
    x - C7120023.frm [compressed]
    ERROR: wc results of C7120023.frm are 5518 32547 709632 should be 5518 22318 709632
    % <span class="bold"><strong>rm /tmp/uud*end</strong></span></pre>

    <p>
      HP-UX 以外の OS 上で実行した場合、チェックサムが異なるかもしれませんが、
      たぶんそれでもかまいません。
    </p>
      </li>
<li class="listitem">
	<a class="ulink" href="../../../docs/network/netboot/intro.hp700.html" target="_top">
	  ネットブートの設定</a> (BOOTP と tftp を使用) をして、さきほど展開したファイルでブートできるようにします
	  (dhcpd.conf または bootptab で C7120023.frm を指定し、tftpd を設定するだけです)。
      </li>
<li class="listitem">
	LAN から 712 をブートします。
<pre class="programlisting">
BOOT_ADMIN&gt; <span class="bold"><strong>boot lan isl</strong></span>

Booting

ISL Revision A.00.25 November 18, 1992 


ISL&gt;</pre>
      </li>
</ol></div>
  </div>

  <div class="sect2" title="段階 3: コンソールの場所の設定">
<div class="titlepage"><div><div><h3 class="title">
<a name="set_console_location"></a>段階 3: コンソールの場所の設定</h3></div></div></div>
    

    <p>
      シリアルコンソールを使うようにするため、712 で以下のコマンドを実行します。
    </p>
<pre class="programlisting">ISL&gt; <span class="bold"><strong>conspath 2/0/4.0x283</strong></span></pre>

    <p>
      712 がローカルコンソール (つまり、キーボードとスクリーン) を使うように設定するには、
      以下のコマンドを実行します。
    </p>
<pre class="programlisting">
ISL&gt; <span class="bold"><strong>conspath 1/0/0.0</strong></span></pre>

    <p>
      <span class="command"><strong>display</strong></span> および <span class="command"><strong>information</strong></span> コマンドを使って、
      設定が正しく保存されたか確認することができます。
      すべて順調にできていれば、
      ワークステーションの電源を再投入してシリアルコンソールの使用を開始します。
    </p>

    <p>
      さらに、リセット時に PS/2 キーボードの <span class="quote">“<span class="quote">Esc</span>”</span> キーを押し続けると、
      一時的にローカルコンソールを使うことができます。
      この方法は、コンソールの場所を一時的に変えるだけで、
      ファームウェアのリビジョン 1.6 およびそれ以降でのみ使えます。
    </p>
  </div>

  <div class="sect2" title="使用例">
<div class="titlepage"><div><div><h3 class="title">
<a name="example"></a>使用例</h3></div></div></div>
    

<pre class="programlisting">
----------------------------------------------------------------------------
BootRom Version    1.6  

Memory Size:  64 MB
----------------------------------------------------------------------------




(c) Copyright 1990-1993, Hewlett-Packard Company.
All rights reserved

Press &lt;ESCAPE&gt; to stop boot sequence.
<span class="bold"><strong>&lt;ESC&gt;</strong></span>
Selecting a system to boot.
----------------------------------------------------------------------------
Command                             Description
-------                             -----------
Auto [boot|search] [on|off]         Display or set auto flag
Boot [pri|alt|scsi.addr] [isl]      Boot from primary, alternate or SCSI
Boot lan[.lan_addr] [install] [isl] Boot from LAN
Chassis [on|off]                    Enable chassis codes
Diagnostic [on|off]                 Enable/disable diagnostic boot mode
Fastboot [on|off]                   Display or set fast boot flag
Help                                Display the command menu
Information                         Display system information
LanAddress                          Display LAN station addresses
Monitor [type]                      Select monitor type
Path [pri|alt] [lan.id|SCSI.addr]   Change boot path
Pim [hpmc|toc|lpmc]                 Display PIM info
Search [ipl] [scsi|lan [install]]   Display potential boot devices
Secure [on|off]                     Display or set security mode
----------------------------------------------------------------------------
BOOT_ADMIN&gt; <span class="bold"><strong>monitor 7</strong></span>
        Monitor Choices
Type     Resolution     Frequency
----     ----------     ---------
  1      1280x1024        72Hz
  2      1024x768         75Hz
  3      1024x768         70Hz
  4      1024x768         75Hz     Flat Panel
  5      1280x1024        60Hz
  6      1024x768         60Hz
  7       640x480         60Hz
  8      1280x1024        75Hz     VESA
  9      1024x768         75Hz     VESA
 10       800x600         75Hz     VESA
 11       640x480         75Hz     VESA
 12      1280x1024        72Hz     Greyscale
 13      1280x1024        50Hz

Current Monitor Type is
  7       640x480         60Hz

BOOT_ADMIN&gt; <span class="bold"><strong>reset</strong></span>

----------------------------------------------------------------------------
BootRom Version    1.6  

Memory Size:  64 MB
----------------------------------------------------------------------------




(c) Copyright 1990-1993, Hewlett-Packard Company.
All rights reserved

Press &lt;ESCAPE&gt; to stop boot sequence.
<span class="bold"><strong>&lt;ESC&gt;</strong></span>
Selecting a system to boot.
----------------------------------------------------------------------------
Command                             Description
-------                             -----------
Auto [boot|search] [on|off]         Display or set auto flag
Boot [pri|alt|scsi.addr] [isl]      Boot from primary, alternate or SCSI
Boot lan[.lan_addr] [install] [isl] Boot from LAN
Chassis [on|off]                    Enable chassis codes
Diagnostic [on|off]                 Enable/disable diagnostic boot mode
Fastboot [on|off]                   Display or set fast boot flag
Help                                Display the command menu
Information                         Display system information
LanAddress                          Display LAN station addresses
Monitor [type]                      Select monitor type
Path [pri|alt] [lan.id|SCSI.addr]   Change boot path
Pim [hpmc|toc|lpmc]                 Display PIM info
Search [ipl] [scsi|lan [install]]   Display potential boot devices
Secure [on|off]                     Display or set security mode
----------------------------------------------------------------------------
BOOT_ADMIN&gt; <span class="bold"><strong>boot lan isl</strong></span>

Booting

ISL Revision A.00.25 November 18, 1992 


ISL&gt; <span class="bold"><strong>display</strong></span>

    Fastsize value is 0000000F

    Autoboot is ON (enabled)

    Autosearch is ON (enabled)

    Primary boot path is 2/0/1.6.0.0.0.0.0
    Primary boot path is (hex) 2/0/1.6.0.0.0.0.0

    Alternate boot path is 2/0/2.0.0.0.0.0.0
    Alternate boot path is (hex) 2/0/2.0.0.0.0.0.0

    System console path is 1.0.0.0.0.0.0
    System console path is (hex) 1.0.0.0.0.0.0

ISL&gt; <span class="bold"><strong>conspath 2/0/4.0x283</strong></span>

ISL&gt; <span class="bold"><strong>display</strong></span>

    Fastsize value is 0000000F

    Autoboot is ON (enabled)

    Autosearch is ON (enabled)

    Primary boot path is 2/0/1.6.0.0.0.0.0
    Primary boot path is (hex) 2/0/1.6.0.0.0.0.0

    Alternate boot path is 2/0/2.0.0.0.0.0.0
    Alternate boot path is (hex) 2/0/2.0.0.0.0.0.0

    System console path is 2/0/4.643.0.0.0.0.0
    System console path is (hex) 2/0/4.283.0.0.0.0.0

ISL&gt; 

</pre>

    <p>この後、電源を再投入します。</p>
  </div>
</div>
<hr>
<em><a href="./">NetBSD/hp700 ポートのページ</a></em> に戻る</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
