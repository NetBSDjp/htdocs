<?xml version="1.0"?>
<!DOCTYPE webpage
 PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
        "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="ports-hp700-faq">
    <config param="desc" value="NetBSD/hp700 FAQ"/>
    <config param="cvstag" value="$NetBSD: faq.xml,v 1.2 2007/06/09 19:18:07 dsieger Exp $"/>
    <config param="rcsdate" value="$Date: 2007/06/09 19:18:07 $"/>
    <head>


        <!-- Copyright (c) 1994-2007
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->

        <title>NetBSD/hp700: Frequently Asked Questions</title>
    </head>


    <sect1 role="toc" id="faq">
        <sect2 id="general">

            <sect3 id="serial_console">
                <title>Using a serial console</title>
                <para> On most models, you can configure the Boot ROM to use a serial console
                    instead of a locally attached keyboard and the framebuffer. The serial console
                    will typically run at 9600 bps, 8 N 1 on Port "A" or "1". The procedure varies
                    between models, but you <emphasis>will</emphasis> need a keyboard and monitor
                    connected initially to configure the Boot ROM. The procedure is described below. </para>

                <para>There are some tricks you can play to force a serial console without initially
                    connecting a keyboard and monitor. For models with removable framebuffers (such
                    as the 720, 730, 735, and 755), simply remove the SGC framebuffer and the system
                    will default to serial console. Apparently, <ulink
                        url="http://lists.parisc-linux.org/pipermail/parisc-linux/1999-December/008119.html"
                        >powering up with the keyboard disconnected</ulink> and <ulink
                        url="http://lists.parisc-linux.org/pipermail/parisc-linux/1999-December/008138.html"
                        >holding down the TOC (Transfer of Control) button on the side of the
                        machine for 10 seconds while powering up</ulink> will force a serial
                    console. The last two tricks do not appear to work on older models (such as the
                    715 and 735). See the <ulink url="serialconsole-712.html">special
                    instructions</ulink> for model 712 workstations. </para>

                <para>From <ulink url="http://tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html">
                        http://tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html</ulink> by Thomas
                    Marteau, The Puffin Group and Deb Richardson. </para>

                <orderedlist>
                    <listitem>Turn the PA-RISC machine on. Have both the keyboard and mouse
                        connected.</listitem>
                    <listitem>During the boot process, the following message will appear:
                        <programlisting>
    Searching for Potential Boot Devices.
    To terminate search, press and hold the ESCAPE key.
</programlisting>
                        When this message appears, press and hold the Esc key until an options menu
                        appears. </listitem>
                    <listitem>By default, you enter the <code>BOOT_ADMIN</code> console. In some
                        715s, the options menu looks like this:
                        <programlisting>
 b)    Boot from specified device
 s)    Search for bootable devices
 a)    Enter Boot Administration mode
 x)    Exit and continue boot sequence
 ?)    Help

        Select from menu:
    </programlisting>
                        Select <code>a) Enter Boot Administration mode</code>. This will bring up a
                            <code>BOOT_ADMIN&gt;</code> prompt. Everything else you do will be
                        in <code>BOOT_ADMIN</code> mode. So now, everybody is in the
                            <code>BOOT_ADMIN</code> console! </listitem>

                    <listitem>To change to serial console mode, type the following command at the
                            <code>BOOT_ADMIN</code> command prompt:
                        <screen>
path console rs232_a.9600.8.none
</screen>
                    </listitem>
                    <listitem>Power down, power up. Be ready to hit ESC on your terminal to break
                        into the same options menu as in step 3.</listitem>
                </orderedlist>

                <para><ulink url="serialconsole.html">This</ulink> is the full procedure captured
                    from my 735/99. </para>
            </sect3>


            <sect3 id="boot_admin">
                <title>How do I configure power-on settings (boot device, console, etc.)</title>
                <para> All 700 series workstations have a Boot Administration command line utility
                    in their Boot ROM which lets you configure various settings. For example, you
                    can set whether the system automatically boots an OS, which device to try
                    booting from first, determine the ethernet MAC address, set up a serial console,
                    and possibly do some low level hardware access. </para>
                <para>To get to the <code>BOOT_ADMIN</code> prompt, you must press the
                    <code>ESCAPE</code> key before it tries to boot an OS. Since these machines
                    often take a long time between powering on and the brief window of time where
                    you can hit the <code>ESCAPE</code> key, you must pay attention. It may take
                    over a minute after pressing the power button before anything will show up on
                    screen. </para>
                <para>Once you have escaped out of the <code>Selecting a system to boot</code> and
                        <code>Searching for Potential Boot Devices</code> you need to type the
                        "<code>a</code>" key to get to the <code>BOOT_ADMIN</code> prompt. Now, use
                    the online help with the <code>HELP</code> command. </para>
                <para>Have fun (and see this brief <ulink url="boot_admin.html">transcript</ulink>
                    of some of the <code>BOOT_ADMIN</code> menus options on a 735/99). </para>
            </sect3>

            <sect3 id="boot_order">
                <title>What devices does my system try to boot from (and how do I change it)</title>
                <para> Use the <code>AUTOSELECT</code> and <code>PATH</code> commands in the <ulink
                        url="#boot_admin">
                        <code>BOOT_ADMIN</code>
                    </ulink> environment. </para>
            </sect3>

            <sect3 id="hpux_compat">
                <title>HP-UX Compatibility</title>
                <para> NetBSD/hp700 will one day feature extensive binary compatibility with HP-UX
                    programs, however this work has not been done yet. </para>
            </sect3>

            <sect3 id="hp700-history">
                <title>History of NetBSD/hp700</title>
                <para> The hp700 port of NetBSD was started by Matt Fredette in October 2001. He
                    started working with Michael Shalayeff's <ulink
                        url="http://www.openbsd.org/hppa.html">OpenBSD/hppa</ulink> sources at that
                    time, and after much work had it booting multiuser in March of 2002. At that
                    time he began merging the port into the NetBSD tree. </para>
            </sect3>

        <sect3 id="other_sources">
            <title>Other sources of information</title>

            <itemizedlist>
                <listitem>
                    <ulink url="http://www.openbsd.org/hppa.html">OpenBSD/hppa</ulink>
                </listitem>
                <listitem>
                    <ulink url="http://parisc-linux.org/index.html">PA-RISC Linux Development
                        Project</ulink>
                </listitem>
                <listitem><ulink url="http://www.openpa.net/">The Cypher HP PA-RISC Project
                    page</ulink> (good info on hp700 machines)</listitem>
                <listitem><ulink url="http://www.cs.utah.edu/flux/mach4-parisc/html/pamach.html"
                        >Utah PA-RISC Mach/Lites/4.4</ulink> (obsolete)</listitem>
                <listitem><ulink url="ftp://ftp.cirr.com/pub/hppa/mklinux/mkpa.html">MkLinux for HP
                        PA-RISC</ulink> (obsolete)</listitem>
                <listitem><ulink url="http://www.flux.utah.edu/~mike/hpbsd/hpbsd.html">HPBSD: Utah's
                        4.3bsd port for HP9000 series machines</ulink> (obsolete)</listitem>
                <listitem><ulink url="http://www.hp.com/workstations/support/archive/">HP
                        Workstation Documentation Archive</ulink> (some manuals for Series 700
                    machines)</listitem>
                <listitem><ulink url="../../docs/network/netboot/intro.hp700.html"
                        >Netbooting NetBSD/hp700</ulink>.</listitem>
                <listitem><ulink url="../../docs/">General NetBSD Documentation</ulink> -
                    for questions not specific to NetBSD/hp700.</listitem>
            </itemizedlist>
        </sect3>
        </sect2>
    </sect1>

    <parentsec url="./" text="NetBSD/hp700 Port Page"/>
</webpage>
