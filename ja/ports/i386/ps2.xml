<?xml version="1.0"?>
<!DOCTYPE webpage
 PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
        "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="ports-i386-ps2">
<config param="desc" value="&os;/i386 on IBM PS/2"/>
<config param="cvstag" value="$NetBSD: ps2.xml,v 1.3 2008/04/17 13:48:40 kano Exp $"/>
<config param="rcsdate" value="$Date: 2008/04/17 13:48:40 $"/>
<head>

<!-- Copyright (c) 1994-2007
	The NetBSD Foundation, Inc.  ALL RIGHTS RESERVED. -->

<title>NetBSD/i386 on IBM PS/2</title>
</head>

<sect1 id="about_ps2">
  <title>About MCA and IBM PS/2</title>

  <para>
    Some early IBM Personal System/2 machines are equipped with
    MCA bus, IBM proprietary bus technology comparable to speed
    and features with e.g. PCI, VESA or EISA. This project aims at
    supporting these i386-based PS/2 machines.
  </para>

  <para>
    MicroChannel Architecture (MCA) was developed by IBM as full
    featured system bus for use on theirs servers and personal computers.
    Besides being used in PS/2, RS/6000 and AS/400, NCR and Apricot also
    made MCA clones. There is also MCA-based Tandy Model 5000.
  </para>
  
  <para>
    However, MCA failed to become significant industry standard
    (partly due to IBM keeping the technology proprietary) and other
    vendors went with EISA and eventually with PCI. This bus technology
    is now considered dead and is not used in any new machines anymore.
  </para>
  
  <para>
    MCA supports plug-and-play well, has quite advanced
    bus mastering capability (to some regard better than PCI), supports
    up to 65280 device addresses. Supported transfer speeds
    are up to 160 MBytes/sec on 32-bit MCA.
  </para>

  <para>
    Original support for MCA-based IBM PS/2 machines was
    written by Scott D. Telford.
    His code was used also in several non-NetBSD MCA activities, namely for
    <ulink url="http://www.dgmicro.com/">MCA Linux Project</ulink>
    and on <ulink url="http://www.FreeBSD.org/">FreeBSD</ulink>.
    <ulink url="mailto:g.mcgarry@ieee.org">Gregory McGarry</ulink> was also
    involved in NetBSD MCA development. Current maintainer of NetBSD MCA is
    <ulink url="mailto:jdolecek@NetBSD.org">Jaromir Dolecek</ulink>.
  </para>
</sect1>

<sect1 id="ps2_supported_models">
  <title>Supported Models</title>
  
  <para>
    Following models were reported to work so far. It should work
    on other IBM PS/2 models just fine, provided the machine has at least
    the 80386 processor (neither 80286 nor 8086/8088 are supported). If you
    confirm it's working on other models, please let us know, possibly
    by sending a report to
    <ulink url="mailto:port-i386@NetBSD.org">port-i386@NetBSD.org</ulink>.
  </para>

  <itemizedlist>
    <listitem>IBM PS/2 model 55</listitem>
    <listitem>IBM PS/2 model 70, revision 03 (80386, 80486)</listitem>
    <listitem>IBM PS/2 model 9595</listitem>
    <listitem>IBM PS/2 model 90/95 E (80586 - P60)</listitem>
  </itemizedlist>
</sect1>

<sect1 id="ps2_supported_hardware">
  <title>Supported Hardware</title>

  <para>
    Standard on-board devices are supported - this includes:
  </para>
  
  <itemizedlist>
    <listitem>serial port (<emphasis>com</emphasis>)</listitem>
    <listitem>parallel port (<emphasis>lpt</emphasis>)</listitem>
    <listitem>PS/2 keyboard (<emphasis>pckbd</emphasis>)</listitem>
    <listitem>PS/2 mouse (<emphasis>pms</emphasis>, <emphasis>pmsi</emphasis>)</listitem>
    <listitem>integrated VGA (<emphasis>vga</emphasis>)</listitem>
    <listitem>floppy disk controller (<emphasis>fd</emphasis>, <emphasis>fdc</emphasis>)</listitem>
  </itemizedlist>

  <para>
    List of <ulink url="../../support/hardware/mca.html">supported MCA devices</ulink>
    is on separate page.
  </para>

  <para>
    If no native MCA driver exists and an
    ISA variant of the card is supported (check
    <ulink url="../../support/hardware/mca.html">supported ISA devices</ulink>), it might
    still work if you configure your kernel appropriately, giving correct
    I/O and/or memory address and IRQ number. An ultimate goal is to have
    MCA drivers for all MCA hardware, but this may help you get off ground.
  </para>
</sect1>

<sect1 id="ps2_unsupported_hardware">
  <title>Unsupported hardware</title>

    <para>
      Following is list of devices, which are not supported at the moment,
      but we get lots of queries about and are likely to be supported "soon":
    </para>

    <itemizedlist>
      <listitem>IBM PS/2 MCA SCSI Adapter (<emphasis>have docs and hw, work on driver begun</emphasis>)</listitem>
    </itemizedlist>

    <para>
    There is also other hardware we would like to support, but we lack
    either the hardware or necessary documentation to write the driver.
    If you'd be willing to contribute either, let us know via
    <ulink url="mailto:port-i386@NetBSD.org">port-i386@NetBSD.org</ulink>.
    Optionally, you can e-mail maintainers directly.
    </para>

    <itemizedlist>
      <listitem>any unsupported non-IBM SCSI cards</listitem>
      <listitem>Olicom 2335 Ethernet Adapter</listitem>
      <listitem>3Com EtherLink/MC 32 (3c527)</listitem>
      <listitem>DEC EtherWORKS DE210/212 (DEPCA) and similar cards</listitem>
      <listitem>NE/2 clones - Arco Ethernet Adapter AE/2, Compex ENET-16 MC/P
      (<emphasis role="bold">not</emphasis> Novell Ethernet Adapter NE/2 - already have
      one)</listitem>
      <listitem>D-Link DE-320CT Ethernet Adapter</listitem>
      <listitem>IBM LAN Adapter/A for Ethernet</listitem>
    </itemizedlist>

    <para>
      PS/2 and MCA documentation would be very welcome too, particularly:
    </para>

    <itemizedlist>
      <listitem>Personal System/2 and Personal Computer BIOS Interface Technical
      Reference, IBM Corporation. Second Edition 1988. Order number S68X2341
      and supplement 15F2161.</listitem>
      <listitem>Personal System/2 Hardware Interface Technical Reference, IBM
      Corporation. 1988. Order number 68X2330 with 1991 update number
      04G3281.</listitem>
    </itemizedlist>

    <para>
    Generally
    we would like to support as much different hardware as possible, so
    please let us know even when you'd be willing to contribute hardware
    which is not on this list.
    </para>
</sect1>
<sect1 id="ps2_running_i386">
  <title>Running NetBSD/i386 on a PS/2</title>

  <para>
    IBM PS/2 MCA support is in NetBSD tree since 2000/05/11 and it's being
    further improved since then. The IBM PS/2 support was
    greatly enhanced during 2001, and installation bits have been added
    to i386 sysinst by October 2001. NetBSD 1.6 (released 2002/09/14)
    includes the IBM PS/2 support. The bits to bootblocks to be able
    to boot 1.44MB floppies from 2.88MB floppy drives were added
    to -current on 2002/12/04, and will appear in next release.
  </para>

  <para>
    If you got problems, ask on
    <ulink url="mailto:port-i386@NetBSD.org">port-i386@NetBSD.org</ulink> mailing
    list. If you find something working incorrectly, please let us
    know about the problem e.g. via <command>send-pr</command>.
  </para>
</sect1>

<sect1 id="ps2_related_links">
    <title>Related Links</title>
    <itemizedlist>
      <listitem>
	<ulink url="http://www.mcamafia.de/mcapage0/mcaindex.htm">IBM
	MicroChannel Enthusiasts page</ulink>
      </listitem>
      <listitem>
	<ulink url="http://www.mcamafia.de/mcapage0/adflist1.htm">IBM
	PS/2 MicroChannel POSID - ADF files</ulink>
      </listitem>
      <listitem>
	<ulink url="http://www.computercraft.com/docs/ps2sect.html">The
	Computercraft PS/2 Resource Center (includes the PS/2
	FAQ)</ulink>
      </listitem>
      <listitem>
        <ulink url="http://www.tty00.org/netbsd-mca/netbsd-mca.html">Scott
        Telford's original NetBSD MCA page</ulink>
      </listitem>
    </itemizedlist>
</sect1>

<parentsec url="./" text="&os;/i386 Port Page"/>
</webpage>
