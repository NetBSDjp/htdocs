<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/macppc/." title="NetBSD/macppc">
<link rel="previous" href="../../../ja/ports/macppc/." title="NetBSD/macppc">
<link rel="next" href="../../../ja/ports/macppc/models.html" title="NetBSD/macppc 対応機種">
<link rel="last" href="../../../ja/ports/macppc/oldfaq.html" title="NetBSD/macppc 過去のよくある質問">
<link rel="stylesheet" href="../../../global.css" type="text/css">

<title>NetBSD/macppc よくある質問</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-ports-macppc-faq"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
		  google.load('search', '1', {language : 'ja'});
		  google.setOnLoadCallback(function() {
		  var header_customSearchControl = new google.search.CustomSearchControl(
		  '016685087845965994609:5539h4dkepg');

		  header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
		  var header_options = new google.search.DrawOptions();
		  header_options.enableSearchboxOnly("http://google.com/cse?cx=016685087845965994609:5539h4dkepg");
		  header_customSearchControl.draw('header-cse-search-form', header_options);
		  }, true);
		</script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/macppc よくある質問</h1>
<h3 class="title"><a name="general">一般的な問題と質問</a></h3>
<ul>
<li><a href="#intro">序</a></li>
<li><a href="#boot-trouble">NetBSD がブートできません。助けて !</a></li>
<li><a href="#macos-newbie">助けてください、 Mac OS のことを何も知らないのです!</a></li>
<li><a href="#disk-sharing">マシン上の OS 間でファイルを共有する方法は ?</a></li>
<li><a href="#partitions">パーティション記法の説明</a></li>
<li><a href="#scroll-speed">なぜテキストの画面スクロールがこんなに遅いの?</a></li>
<li><a href="#usb-mouse-bug">USB マウスが認識されません</a></li>
<li><a href="#ethernet-bad-date">イーサネットが機能しません</a></li>
<li><a href="#power-manager">PowerBook や iBook で、電源入、バッテリー充電、
充電器の認識ができません</a></li>
<li><a href="#timedrift">PowerComputing 互換機の時計がずれまくります。</a></li>
<li><a href="#dash-a">カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ?</a></li>
</ul>
<h3 class="title"><a name="hardware">対応ハードウェア</a></h3>
<ul>
<li><a href="#supported-models">NetBSD/macppc 対応機種</a></li>
<li><a href="#nubus">NuBus ベースの Power Mac (7100, 8100 等) はサポートされていますか?</a></li>
<li><a href="#68k-upgrade">PowerPC プロセッサーにアップグレードした 68k ベースの Mac
はサポートされていますか?</a></li>
<li><a href="#601">Power Macintosh 7200 や 7500 (601 プロセッサー)
はサポートされていますか?</a></li>
<li><a href="#powerbook">PowerPC ベースの PowerBook はサポートされていますか?</a></li>
<li><a href="#cpu-upgrade">CPU アップグレードに対応していますか?</a></li>
<li><a href="#peripherals">どんな周辺機器に対応していますか ?</a></li>
<li><a href="#badserial">シリアルポートの使用に問題が起こります!</a></li>
<li><a href="#pppmacppc">ppp を使う方法は?</a></li>
<li><a href="#airport">AirPort あるいは AirMac ネットワークを使う方法は?</a></li>
</ul>
<h3 class="title"><a name="open-firmware">Open Firmware</a></h3>
<ul>
<li><a href="#ofw">Open Firmware って何ですか? なぜ注意を払わねばならないのですか ?</a></li>
<li><a href="#ofw-version">私の機種の Open Firmware のバージョンは ?</a></li>
<li><a href="#ofw-bugs">私の機種の Open Firmware の動作にバグはありますか ?</a></li>
<li><a href="#ofw-access">Open Firmware プロンプトに入る方法は?</a></li>
<li><a href="#ofw-boot-serial">Open Firmware に入ろうとすると、ブートが止まり、
モニターに何も表示されなくなります。</a></li>
<li><a href="#ofw-boot-video">PCI ビデオカードを使う方法は?</a></li>
<li><a href="#non-sync-monitor">Open Firmware に入った時に、モニターが同期しないことがあります</a></li>
<li><a href="#ofw-clear">Open Firmware の異常を直す方法は?</a></li>
<li><a href="#ofw-backslash">Open Firmware でバックスラッシュ (\)
キーを打てません!</a></li>
<li><a href="#ofw-use">Open Firmware プロンプトで何ができるか?</a></li>
<li><a href="#ofw-variables">関連する Open Firmware の変数</a></li>
<li><a href="#ofw-load-base">"load-base" の設定の問題</a></li>
<li><a href="#ofw-real-base">"real-base" の設定の問題</a></li>
<li><a href="#ofw-input-output-devices">input-device と
output-device はどう決めたらいいか?</a></li>
<li><a href="#ofw-dir-listing">ディスク上のファイルのリストを (Open Firmware で)
出す方法は?</a></li>
</ul>
<h3 class="title"><a name="booting">ブート</a></h3>
<ul>
<li><a href="#boot-support">NetBSD/macppc をブートするにはどんな方法がありますか ?</a></li>
<li><a href="#boot-disk">ディスクをブート可能にする方法と、それをブートさせるための
Open Firmware のコマンドは ?</a></li>
<li><a href="#boot-pci">PCI カードに接続されたデバイスからブートする方法は?</a></li>
<li><a href="#boot-net">netboot の設定は ?</a></li>
<li><a href="#cdr-image">NetBSD/macppc の公式 ISO イメージはどこにありますか?</a></li>
<li><a href="#bootx">Linux の BootX ユーティリティーは NetBSD/macppc のブートに使えますか ?</a></li>
<li><a href="#yaboot">Linux の yaboot ブートローダーは NetBSD/macppc のブートに使えますか ?</a></li>
<li><a href="#bootx-darwin">Darwin/Mac OS X の BootX ブートローダーは NetBSD/macppc
のブートに使えますか ?</a></li>
<li><a href="#ofw-boot-keys">ほかに、ブートシーケンスを変更する特殊なキーはありますか ?</a></li>
</ul>
<h3 class="title"><a name="booting-problems">ブートの問題</a></h3>
<ul>
<li><a href="#common-of-probs">Open Firmware のブートでのありがちな問題</a></li>
<li><a href="#netboot-probs">netboot でありがちな問題</a></li>
<li><a href="#ofw-claim-failed">CLAIM failed</a></li>
<li><a href="#default-catch">DEFAULT CATCH!</a></li>
<li><a href="#cant-open">can't OPEN</a></li>
<li><a href="#formatstate-not-valid">unrecognized Client Program formatstate not
valid</a></li>
<li><a href="#bad-partition">bad partition number, using 0no bootable HFS
partition</a></li>
<li><a href="#ofw-read-timeout">READ TIMEOUT@</a></li>
<li><a href="#drive-spinup">Open Firmware がブートを開始しようする段階で、
まだハードドライブが動いていません。</a></li>
<li><a href="#grey-screen">ブートしようとすると、画面がグレーになって真中にアイコンがあるようになるのはなぜですか?</a></li>
<li><a href="#black-lcd">ブートの間、画面が真っ暗になってしまうのはなぜですか ?</a></li>
<li><a href="#nodisk">ディスクはどこに行った? (あるいは、 sysinst が I can not find any
hard disks for use by NetBSD と言う)</a></li>
</ul>
<h3 class="title"><a name="misc">その他もろもろ</a></h3>
<ul>
<li><a href="#moved">この FAQ 項目は移転しました</a></li>
<li><a href="#lang-kbd">別のキーボード配列を使う方法は?</a></li>
<li><a href="#linux">NetBSD/macppc で MkLinux や LinuxPPC のバイナリーが動きますか ?</a></li>
<li><a href="#macos">NetBSD/macppc で Mac OS のバイナリーが動きますか ?</a></li>
<li><a href="#macosx">NetBSD/macppc で Darwin/Mac OS X のバイナリーが動きますか ?</a></li>
<li><a href="#keys">いくつかのキーボードアイコンについて</a></li>
<li><a href="#german-kbd-at">ドイツ語 ADB キーボード上で、アットマーク (@) はどこ?</a></li>
<li><a href="#adb-short">ADB キーボードを使わずにシステムをブートする方法は?</a></li>
<li><a href="#no-swapctrlcaps">なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps"
がないんですか?</a></li>
<li><a href="#keyboard-ddb">コンソールから DDB に入る方法は?</a></li>
</ul>
<hr>
<h3 class="title">一般的な問題と質問</h3>
<h4 class="title">
<a name="intro"></a>序 (<a href="#general">top</a>)
  </h4>

<p>NetBSD/macppc に関するよくある質問 (と回答)
をいくつか掲げます。</p>

<p>この FAQ は作成作業中です。さらなる情報、質問、回答があれば、
<a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a> までメールを
(訳註: 英語で) 送ってください。</p>

<p>以下の関連情報も見てください:</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p><a class="ulink" href="SystemDisk-tutorial/" target="_top">NetBSD/macppc System Disk
    チュートリアル</a>。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="models.html" target="_top">NetBSD/macppc
    機種対応ページ</a>。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="nvedit.html" target="_top">NetBSD/macppc nvedit HOW-TO</a>:
    NVRAMRC の内容の編集方法の案内。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="partitioning.html" target="_top">NetBSD/macppc パーティショニング
    HOW-TO</a>。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="x11.html" target="_top">NetBSD/macppc X11 FAQ</a>.</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="../../docs/elf.html" target="_top">NetBSD ELF
    FAQ</a>.</p>
  </li>
<li class="listitem">
    <p>NetBSD のプラットフォーム独立なワークステーションコンソールドライバーについての
    <a class="ulink" href="../../../docs/guide/en/chap-cons.html#chap-cons-wscons" target="_top">wscons ドキュメンテーション</a>.</p>
  </li>
</ul></div>

<p>さらに追加情報を提供しています:</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-3.1/macppc/INSTALL.html" target="_top">NetBSD
    3.1 インストールノート</a> — 対応ハードウェアとインストール方法。
    </p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="../../mailinglists/#port-macppc" target="_top"> port-macppc 
    メーリングリスト</a> — さらなる質問があれば参加してください。
    </p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="../../docs/network/netboot/" target="_top">Diskless NetBSD
    HOW-TO</a>.</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="../../docs/Hardware/Misc/serial.html" target="_top">NetBSD
    シリアルポート入門</a>。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="../../docs/" target="_top">NetBSD
    一般のドキュメンテーション</a>
    — NetBSD/macppc 特有でない質問向け。</p>
  </li>
</ul></div>


<h4 class="title">
<a name="boot-trouble"></a>NetBSD がブートできません。助けて ! (<a href="#general">top</a>)
  </h4>

<p>残念ながら、この問題にはいくつか原因があります。これは実際には、
私たちの望んだことではなく、大抵は、対応機種の多様さや、
Apple が発表せずに行なったラインの変更のせいです。</p>

<p>まず最初に、お使いの<a class="ulink" href="models.html" target="_top">機種</a>が対応しているかどうか
確かめてください。それから、あなたは<span class="emphasis"><em>実際に</em></span>インストールノートを
ひととおり読み、また、あなたの機種のものと違う Open Firmware バージョン向けの
指示は無視しましたか? さらに、この FAQ 項目をひととおり読んでみて、
それでもまだ NetBSD をブートできないようなら、
<a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
に投稿してください。</p>

<p>問題を切り分けるため、下記のメッセージを見てください。
</p>

<pre class="programlisting">Open Firmware, 1.0.5
To continue booting the MacOS type:
BYE&lt;return&gt;
To continue booting from the default boot device type:
BOOT&lt;return&gt;
 ok
<code class="prompt">0 &gt; </code></pre>

<p>もしこのようなメッセージが画面 (またはシリアルコンソール) に出ていなければ、
正しく Open Firmware に入っていません。マシンが Mac OS のブートを始めている
(つまり、画面がグレーに変わり、 happy mac や broken folder や点滅する
クエスチョンマークが出る)
場合は、まず <a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>を見てください。
古い mac で画面が真っ黒になる場合は、
<a class="xref" href="#ofw-boot-serial" title="Open Firmware に入ろうとすると、ブートが止まり、 モニターに何も表示されなくなります。">the section called “Open Firmware に入ろうとすると、ブートが止まり、
モニターに何も表示されなくなります。”</a>を見てください。
画面がまったくもって妙な場合は、
<a class="xref" href="#non-sync-monitor" title="Open Firmware に入った時に、モニターが同期しないことがあります">the section called “Open Firmware に入った時に、モニターが同期しないことがあります”</a>の修正方法を見てください。
Open Firmware でおかしな設定をしたせいで、 Open Firmware に入れなくなったり Mac OS
がブートしなくなってしまった場合は、 <a class="xref" href="#ofw-clear" title="Open Firmware の異常を直す方法は?">the section called “Open Firmware の異常を直す方法は?”</a>を見てください。</p>

<p>OK、これで、 Open Firmware のプロンプト ("<code class="literal">0&nbsp;&gt;</code>") で止まるよう
に設定してあれば、 Open Firmware が起動してユーザーコマンドが使えるようになります。
ここで止まらないように設定してあれば、 Open Firmware は以前に行なった設定
(Open Firmware の変数 <code class="literal">boot-command</code>、 <code class="literal">boot-device</code>、
<code class="literal">boot-file</code>) に基づいてブートしようとします。
Open Firmware のコマンドラインインターフェース使用の手引きについては、
<a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a>を見てください。</p>

<p>ふつうは、次の段階が最もトリッキーです — Open Firmware がブートローダーを
正しい場所からロードできるようにします。どのようなブート方法がサポートされているか
(<a class="xref" href="#boot-support" title="NetBSD/macppc をブートするにはどんな方法がありますか ?">the section called “NetBSD/macppc をブートするにはどんな方法がありますか ?”</a>)、 Open Firmware
のブートコマンド (<a class="xref" href="#boot-disk" title="ディスクをブート可能にする方法と、それをブートさせるための Open Firmware のコマンドは ?">the section called “ディスクをブート可能にする方法と、それをブートさせるための
Open Firmware のコマンドは ?”</a>)、 Open
Firmware のブートでのありがちな問題 (<a class="xref" href="#common-of-probs" title="Open Firmware のブートでのありがちな問題">the section called “Open Firmware のブートでのありがちな問題”</a>) を見てください。
ネットブートに関連する質問は、
<a class="ulink" href="../../docs/network/netboot/" target="_top">Diskless HOW-TO</a>、
特に
<a class="ulink" href="../../docs/network/netboot/intro.macppc.html" target="_top">macppc 固有な部分</a>
の章、および <a class="xref" href="#netboot-probs" title="netboot でありがちな問題">the section called “netboot でありがちな問題”</a> でカバーしています。</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><span class="bold"><strong>boot enet:,ofwboot.xcf</strong></span> file: 192.168.0.11,/ofwboot.xcfloading XCOFF
tsize=C280 dsize=14AC bsize=2620 entry=600000
SECTIONS:
.text    00600000 00600000 0000C280 000000E0
.data    0060D000 0060D000 000014AC 0000C360
.bss     0060E4B0 0060E4B0 00002620 00000000
loading .text, done..
loading .data, done..
clearing .bss, done..</pre>

<p>メモリーアドレッシングに問題がある場合は、ここで止まって
<code class="literal">CLAIM failed</code> と出力されることがあります (<a class="xref" href="#ofw-claim-failed" title="CLAIM failed">the section called “<code class="literal">CLAIM failed</code>”</a>参照)。</p>

<pre class="programlisting">&gt;&gt; NetBSD/macppc OpenFirmware Boot, Revision 1.3
&gt;&gt; (tsubai@mint.iri.co.jp, Sun Nov 26 01:41:27 JST 2000)
1701508+177748 [100+68176+55886]=0x1e9468</pre>

<p>ここで止まる場合、 Open Firmware 1.0.5 や 2.0.x のマシンの
<code class="literal">real-base</code> (<a class="xref" href="#ofw-real-base" title='"real-base" の設定の問題'>the section called “"real-base" の設定の問題”</a>参照) を設定する必要があります。
<code class="literal">READ TIMEOUT@</code> とのメッセージがたくさん出る場合 (<a class="xref" href="#ofw-read-timeout" title="READ TIMEOUT@">the section called “<code class="literal">READ TIMEOUT@</code>”</a>参照) は、
Open Firmware がフロッピーディスクを読むところで問題が起きています。
ここを過ぎれば、カーネルのロードが始まります。
もし、そこで問題があったら、それはもはや Open Firmware の問題ではなく、
ほとんど NetBSD の問題でしょう。</p>

<p>ラップトップで画面が真っ黒になる場合、
途中で LCD の明るさが下げられたのかもしれません。<a class="xref" href="#black-lcd" title="ブートの間、画面が真っ暗になってしまうのはなぜですか ?">the section called “ブートの間、画面が真っ暗になってしまうのはなぜですか ?”</a>をご覧ください。</p>

<pre class="programlisting">start=0x100000
Copyright (c) 1996, 1997, 1998, 1999, 2000, 2001
    The NetBSD Foundation, Inc.  All rights reserved.
Copyright (c) 1982, 1986, 1989, 1991, 1993
    The Regents of the University of California.  All rights reserved.

NetBSD 1.5S (AL) #0: Thu Mar 15 00:52:56 PST 2001
    mw@al:/usr/src/sys/arch/macppc/compile/AL
total memory = 192 MB
avail memory = 172 MB
using 2483 buffers containing 9932 KB of memory
[...]
boot device: sd0
root on sd0a dumps on sd0b
root file system type: ffs</pre>

<p>ときどき、カーネルは自身がどこからブートしたかがわからなくなります。
ルートデバイスを埋め込んだカーネルを再構築するとよいかもしれません。<a class="xref" href="#dash-a" title="カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ?">the section called “カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ?”</a>をご覧ください。</p>

<p>PowerBook がここでハングする場合、
<a class="xref" href="#powerbook" title="PowerPC ベースの PowerBook はサポートされていますか?">the section called “PowerPC ベースの PowerBook はサポートされていますか?”</a>を見てください。</p>

<pre class="programlisting">swapctl: adding /dev/sd0b as swap device at priority 0
Automatic boot in progress: starting file system checks.
[...]</pre>

<p>OK、これで「マルチユーザーモード」に入り、ブートの過程が終わりました。
キーボードが機能しない場合は、<a class="xref" href="#powerbook" title="PowerPC ベースの PowerBook はサポートされていますか?">the section called “PowerPC ベースの PowerBook はサポートされていますか?”</a>を見てください。</p>

<p>sysinst を使い、<code class="literal">I can not find any
hard disks for use by NetBSD</code> と言われた場合は、<a class="xref" href="#nodisk" title="ディスクはどこに行った? (あるいは、 sysinst が I can not find any hard disks for use by NetBSD と言う)">the section called “ディスクはどこに行った? (あるいは、 sysinst が <code class="literal">I can not find any
hard disks for use by NetBSD</code> と言う)”</a>を参照すべきです。</p>


<h4 class="title">
<a name="macos-newbie"></a>助けてください、 Mac OS のことを何も知らないのです! (<a href="#general">top</a>)
  </h4>

<p>Mac OS のことを知らないことが問題となりうるかどうかは、お持ちの<a class="ulink" href="models.html" target="_top">機種</a>によります。古い機種の一部では、 NetBSD/macppc
をブートできるようにするためには nvram パッチが必要になります。たいてい、この
パッチを当てるための最も簡単な方法は、 Mac OS ユーティリティーを使うことです。
基本的なこと (BinHex ファイルの展開のために StuffIt Expander を使うことや、
Mac OS アプリケーションの起動方法や、それどころか Mac OS Finder でのファイルの
コピー方法など) を知らない場合、 Mac OS の使用を避けるようにしたほうが
よいでしょう (Mac OS のことを知っておきたいというのなら別ですが) 。</p>

<p>unix 萌えな人たちが簡単にできる (Mac OS 経験者のほとんどにとっては大変な)
セットアップ方法があります。この FAQ 項目は、そういった unix 萌えな人たち向け
のものです; INSTALL ノートは、 Mac OS 経験者で最小限の unix
の知識しかない人向けに書かれているからです。</p>

<div class="sect4" title="Open Firmware 3 システムの場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="macos-newbie-of3"></a>Open Firmware 3 システムの場合</h5></div></div></div>


<p>NetBSD をひとつのハードドライブ上にすべて置いておきたい場合は、ふたつの
方法があります。一方の非常に簡単な方法は、簡単に Mac OS をブートさせ、
Mac OS ユーティリティーまたは pdisk でディスクを分割し直し、それから
<code class="filename">ofwboot.xcf</code> ブートローダーを HFS パーティションにコピーする方法です。
<a class="ulink" href="partitioning.html" target="_top">パーティショニング HOW-TO</a> をご覧ください。</p>

<p>Mac OS を使えない、または使いたくない場合でも、ディスクを分割するために、
やはり何らかのオペレーティングシステムをブートする必要があります。
これに使えるオープンソース OS は、今のところ、三つ (NetBSD、 Darwin、 Linux) あります。
NetBSD <span class="command"><strong>pdisk</strong></span> を使ってディスクを分割し、 HFS ファイルシステムを作って、
<code class="filename">ofwboot.xcf</code> を HFS パーティションにコピーします。</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p>NetBSD をブートし、<a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を使ってディスクを分割し、
    <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/sysutils/hfsutils/README.html" target="_top">
    hfstools</a> を使ってパーティションをフォーマットしてから
    ブートローダーをコピーします。</p>
  </li>
<li class="listitem">
    <p><a class="ulink" href="http://developer.apple.com/darwin/projects/darwin/" target="_top">Darwin</a>
    (Apple のオープンソース BSD) をブートし、 (Darwin ネイティブの pdisk ではなく) NetBSD の <a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を使ってディスクを分割し、
    以下のコマンドを実行します (もちろん、ディスクとパーティションの番号は
    適宜読み替えてください):</p>

    <pre class="programlisting"><code class="prompt">#</code> <strong class="userinput"><code>newfs_hfs /dev/disk0s3</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/disk0s3 /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp ofwboot.xcf /mnt</code></strong></pre>
  </li>
<li class="listitem">
    <p>Linux をブートし (Linux ネイティブの pdisk ではなく) NetBSD の <a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を使ってディスクを分割します。
    ディストリビューションによってははじめから HFS ファイルシステムを取り扱えるものもあります。
    些細なことでも結構ですので、さらに情報をお持ちのかたは <a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
    までメールでお知らせください。</p>
  </li>
</ul></div>

<p>少し妥協する気があるのなら、 <code class="filename">ofwboot.xcf</code>
をネットブートサーバー、 ISO 9660 CD-R、または
MS-DOS ディスク上に置いておくことができます (<code class="literal">boot-device</code>
をブートローダーの場所に、 <code class="literal">boot-file</code> をカーネルへのパスに設定します)。
<a class="xref" href="#ofw-variables" title="関連する Open Firmware の変数">the section called “関連する Open Firmware の変数”</a>の情報を見てください。</p>

</div>

<div class="sect4" title="初期の、 Open Firmware 1.0.5、 2.0.x、または 2.4 システムの場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="macos-newbie-ofpre3"></a>初期の、 Open Firmware 1.0.5、 2.0.x、または 2.4
システムの場合</h5></div></div></div>


<p>こちらは、多くの機種がデフォルトでシリアルコンソール (<a class="xref" href="#ofw-input-output-devices" title="input-device と output-device はどう決めたらいいか?">the section called “<code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか?”</a> 参照) を使うようになっているので、若干興味深いものになります。
手っ取り早くデフォルトのコンソールを設定する方法は、マシンの電源を入れて
起動音が鳴ったら、 <code class="literal">Command-Option-O-F</code> の 4 個のキーを、
画面が黒、グレーまたは白に変わるまで押し続けることです。
画面が黒くなった場合は、ハードウェアの問題またはシリアルコンソールを意味します。
グレーは Open Firmware に入れず、 Mac OS をブートしようとしていることを意味します。
白 (文字が出る) は、デフォルトがローカルコンソールだったことを意味します。</p>

<p>画面上またはシリアルコンソールで <code class="literal">0&nbsp;&gt;</code> という Open Firmware
プロンプトに達すれば、 INSTALL ノートの "Getting to the Open Firmware Prompt
(Without using Mac OS)" の節に従って NetBSD のインストールを始められます。
もしお使いのシステムで NetBSD がブートできなければ、 <a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
に投稿して、その機種用の nvram パッチを送ってくれるよう頼んでみてください。
シリアルコンソールを使って nvram パッチを Open Firmware
に適用することができます。この手順については <a class="ulink" href="nvedit.html" target="_top">NetBSD/macppc nvedit HOW-TO</a> を見てください。
これを行えば、問題はないはずです。</p>

</div>

<p>健闘を祈ります!</p>


<h4 class="title">
<a name="disk-sharing"></a>マシン上の OS 間でファイルを共有する方法は ? (<a href="#general">top</a>)
  </h4>

<p><a class="ulink" href="partitioning.html" target="_top">パーティショニング
HOW-TO</a> をご覧ください。</p>


<h4 class="title">
<a name="partitions"></a>パーティション記法の説明 (<a href="#general">top</a>)
  </h4>

<p><a class="ulink" href="partitioning.html#nomenclature" target="_top">パーティショニング
HOW-TO</a> をご覧ください。</p>


<h4 class="title">
<a name="scroll-speed"></a>なぜテキストの画面スクロールがこんなに遅いの? (<a href="#general">top</a>)
  </h4>

<p>GENERIC カーネルのテキストコンソールのコードは最適化されていません。
高速化されたテキストコンソールコードがありますが、
これはデフォルトでは有効になっていません。</p>

<p>カーネルを再構築する必要があります。
<a class="ulink" href="../../docs/kernel/#how_to_build_a_kernel" target="_top">
カーネルコンフィギュレーション</a>に次の行を追加してください:</p>

<pre class="programlisting">options OFB_ENABLE_CACHE</pre>

<p>X11 サーバーに関する情報は、 <a class="ulink" href="x11.html" target="_top">NetBSD/macppc      
X11 FAQ</a> を見てください。</p>


<h4 class="title">
<a name="usb-mouse-bug"></a>USB マウスが認識されません (<a href="#general">top</a>)
  </h4>

<p>キーボードでなく、
Mac 本体背面に直接接続してみてください。</p>


<h4 class="title">
<a name="ethernet-bad-date"></a>イーサネットが機能しません (<a href="#general">top</a>)
  </h4>

<p>(ケーブルや<a class="ulink" href="../../docs/network/" target="_top">設定上の</a>問題といった)
定番の原因のほか、 NetBSD/macppc では、 PRAM に保存されている日付が古すぎる場合
(システムの電池が切れたり、日付が 1904 年や 1956 年に設定されるような方法で
リセットされたような場合など)
に、ネットワークインターフェースの使用に問題があるようです。
この場合の症状は、 <code class="literal">ifconfig</code> では問題がないように見えるものの、
パケットがまったく送出・受信されないというものです。</p>

<pre class="programlisting"><code class="prompt">%</code> <strong class="userinput"><code>ping 10.0.1.1</code></strong>
PING 10.0.1.1 (10.0.1.1): 56 data bytes
<strong class="userinput"><code>^C</code></strong>
----10.0.1.2 PING Statistics----
0 packets transmitted, 0 packets received,</pre>

解決法は、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?date+1+NetBSD-5.1+i386">date(1)</a> を使って時刻を正しく設定することです。


<h4 class="title">
<a name="power-manager"></a>PowerBook や iBook で、電源入、バッテリー充電、
充電器の認識ができません (<a href="#general">top</a>)
  </h4>

<p>電源管理メモリーがおかしくなっているかもしれません。</p>

<p>リセット方法については <a class="ulink" href="http://docs.info.apple.com/article.html?artnum=14449" target="_top">TIL
14449</a> を見てください。</p>


<h4 class="title">
<a name="timedrift"></a>PowerComputing 互換機の時計がずれまくります。 (<a href="#general">top</a>)
  </h4>

<p>これは Open Firmware 内の <code class="literal">timebase</code> がハードウェアと
合致していないためです。正す必要があります。</p>

<p>Adam Lebsack による<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/08/03/0003.html" target="_top">記事</a>
を見てください。</p>


<h4 class="title">
<a name="dash-a"></a>カーネルがいつもルートデバイスを尋ねてくるのはなぜですか ? (<a href="#general">top</a>)
  </h4>

<p>多くの人が、 NetBSD/macppc システムを無人でブートさせられないと報告しています。
Open Firmware はカーネルを正しくロードするものの、
カーネルはルートデバイス (つまり <code class="filename">/</code> ファイルシステムの所在)
を見つけられていないようです。</p>

<p>プロンプトで、ルートディスク (大抵は <code class="literal">sd0a</code> か <code class="literal">wd0a</code>
のようなもの)、スワップ (大抵は <code class="literal">sd0b</code> か <code class="literal">wd0b</code>
のようなもの)、ファイルシステムの種類 (大抵は <code class="literal">ffs</code>、 <code class="literal">nfs</code>
または <code class="literal">cd9660</code>) を入力してください。</p>

<p>これが修正されるまでの次善策があります。次のような設定で
<a class="ulink" href="../../docs/kernel/#how_to_build_a_kernel" target="_top">カーネルを
コンパイル</a>する必要があります:</p>

<pre class="programlisting">#config		netbsd	root on ? type ? #to automatically detect root device
config		netbsd	root on sd0a type ffs #for SCSI disk
#config		netbsd	root on wd0a type ffs #for IDE disk
#config		netbsd	root on ? type nfs #for netboot</pre>

<p>ここで <code class="literal">sd0a</code>
はルートファイルシステムのあるパーティション名です。</p>

<hr>
<h3 class="title">対応ハードウェア</h3>
<h4 class="title">
<a name="supported-models"></a>NetBSD/macppc 対応機種 (<a href="#hardware">top</a>)
  </h4>

<p><a class="ulink" href="models.html" target="_top">NetBSD/macppc
対応機種一覧</a>を見てください。また、<a class="xref" href="#peripherals" title="どんな周辺機器に対応していますか ?">the section called “どんな周辺機器に対応していますか ?”</a>で対応周辺機器の一覧も併せて見てください。</p>


<h4 class="title">
<a name="nubus"></a>NuBus ベースの Power Mac (7100, 8100 等) はサポートされていますか? (<a href="#hardware">top</a>)
  </h4>

<p>いいえ。 NetBSD/macppc は NuBus に対応していません。
さらに、 NuBus ベースの Power Mac は Open Firmware を持っていませんが、
NetBSD/macppc のブートストラップやコンソール操作は
Open Firmware に強く依存しています。</p>

<p>NuBus ベースの Power Macintosh マシンは、 4 グループに分類されます:</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p><span class="emphasis"><em>Apple PDM</em></span>: あらゆる x1xx なマシン、たとえば、 6100,
    6150, 7100, 8100</p>
  </li>
<li class="listitem">
    <p><span class="emphasis"><em>Apple PERFORMA class</em></span>: 52xx, 53xx, 62xx, 63xx
    (6360 は除く)</p>
  </li>
<li class="listitem">
    <p><span class="emphasis"><em>Apple POWERBOOK (or 'M2') class</em></span>: 1400, 2300,
    5300</p>
  </li>
<li class="listitem">
    <p><span class="emphasis"><em>Power Computing "Power" シリーズ</em></span>、
    "Power 100" や "Power 120" など</p>
  </li>
</ul></div>

<p>これらの機種では、たとえプロセッサーを G3 にアップグレードしても、
他の部分が未サポートなので、動作しません。
(しかし、ロジックボードを完全にアップグレードすれば、
新しい機種と同等になるので、動作するでしょう。)</p>

<p>現在、これらの機種に対応するための作業をしている人を私たちは知りません。
もし、この作業に興味があれば、 (訳註: 英語で)
<a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">私たちにお知らせください</a>。</p>

<p>私たちはすでに 603 マイクロプロセッサーをサポートしており、また、
RS/6000 移植の取り組みにおいて 601 マイクロプロセッサーサポートの作業中です。
そして、 <a class="ulink" href="../mac68k/" target="_top">NetBSD/mac68k</a> ではマザーボードの
チップセットをサポートしています。あとは、単に、これらのドライバーの共有と、
現在サポートされている macppc マシンのブートの Open Firmware での方法と
互換なブートローダーの解決だけの問題です。どこから始めればよいかと、何が必要かについては、
David A Gatwood の <a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2002/01/14/0021.html" target="_top">記事</a>
を参照してください。</p>


<h4 class="title">
<a name="68k-upgrade"></a>PowerPC プロセッサーにアップグレードした 68k ベースの Mac
はサポートされていますか? (<a href="#hardware">top</a>)
  </h4>

<p>いいえ。上記と同じ理由からです。
(これは<span class="emphasis"><em>プロセッサー</em></span>だけをアップグレードした場合の話です。
マザーボードをすべてアップグレードすれば、
新しい機種と同等になるので、動作するでしょう。)</p>


<h4 class="title">
<a name="601"></a>Power Macintosh 7200 や 7500 (601 プロセッサー)
はサポートされていますか? (<a href="#hardware">top</a>)
  </h4>

<p>これらの機種は PCI と Open Firmware を持っていますが、 PowerPC 601
プロセッサーを使っているため、今のところ非対応です。しかし、
7500 のプロセッサーはアップグレード可能なので、 603/604/G3/G4 へ換装すれば
NetBSD が動作するでしょう。
<a class="xref" href="#cpu-upgrade" title="CPU アップグレードに対応していますか?">the section called “CPU アップグレードに対応していますか?”</a>を見てください。</p>

<p>また、 RS/6000 ポートにおいて作業が進行中であり、これにより
NetBSD に 601 サポートがもたらされるでしょう。これが達成されれば、
あとは rs6000 と macppc でのコードの共有の問題になります。</p>


<h4 class="title">
<a name="powerbook"></a>PowerPC ベースの PowerBook はサポートされていますか? (<a href="#hardware">top</a>)
  </h4>

<p>ほとんどの機種をサポートしています。詳細は <a class="ulink" href="models.html" target="_top">NetBSD/macppc
対応機種のリスト</a>を見てください。</p>

<p>PowerBook 1400、 2300、 5300 は、
Open Firmware を持たないため、非対応です。</p>

<p> パワーマネージメントは未サポートですので注意してください。
NetBSD の動作中は PowerBook のサスペンド、レジュームはできません。</p>

<p>このほか、<a class="xref" href="#power-manager" title="PowerBook や iBook で、電源入、バッテリー充電、 充電器の認識ができません">the section called “PowerBook や iBook で、電源入、バッテリー充電、
充電器の認識ができません”</a>も見てください。</p>


<h4 class="title">
<a name="cpu-upgrade"></a>CPU アップグレードに対応していますか? (<a href="#hardware">top</a>)
  </h4>

<p>もちろん!</p>

<p>多くの人々が、遅い 601、 603、 604 や G3 CPU を、より速い 604、 G3 や G4 CPU
にアップグレードしています。最初の PowerPC 601 チップを持った
PowerMacintosh 7500 では、事実上必須でしょう。</p>

<p>PCI PowerMacintosh システム (7300 - 9600)、対応 PowerBook および初期の
G3 システムにもとから搭載されている CPU のアップグレードの成功が
報告されています。よく目にする製造元は、 Newer Technology、
Powerlogix、 Sonnet、 XLR8 です。その CPU が Mac OS で動作していれば、 NetBSD
でも動作するはずです。</p>

<p>初期の PCI PowerMacintosh システム (7300 - 9600) に新しい CPU を装着すると、
NetBSD がブートしないという報告があります。これに該当する場合 (つまり、
604 にダウングレードすれば NetBSD が動作する場合) 、いったん
Mac OS をブートして、お使いの CPU ドーターカード用の <code class="literal">nvramrc</code>
パッチをインストールする必要があります。そうした後は、 System Disk
を使っては<span class="emphasis"><em>いけません</em></span>。 System Disk は、自分の <code class="literal">nvramrc</code> で
先般の CPU メーカーの <code class="literal">nvramrc</code> を上書きしてしまうからです。
System Disk のかわりに <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/macppc/macos-utils/bootvars/" target="_top">Boot
Variables</a> を使ってください。これは、 PowerMacintosh 7300 - 8600 内蔵の
<code class="literal">/chaos/control</code> を使った場合にモニターが同期しない可能性があるということです。
<a class="xref" href="#non-sync-monitor" title="Open Firmware に入った時に、モニターが同期しないことがあります">the section called “Open Firmware に入った時に、モニターが同期しないことがあります”</a>をご覧ください。</p>

<p>他の機種では、 Mac OS の "virtual firmware"
型のパッチは必要ないようです — NetBSD は CPU を適切に初期化します。</p>

<p>残念ながら、 Metabox Jocard G4 には問題があります。これについては、
Thomas Michael Wanka の<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/09/01/0002.html" target="_top">記事</a> 
を見てください。</p>

<p>一部機種での CPU アップグレードの組み合わせによっては、
古いシステムで G3 または G4 CPU の L2 キャッシュを有効に
するために特別にカーネルをコンパイルする必要があるかもしれません。これは
普通は必要なく、 "ちゃんと動き" ます。動かない場合は、次のようなメッセージが表示されます:</p> <pre class="programlisting">cpu0 at
mainbus0: L2 cache not enabled</pre>

<p>もし、ブート時にこのようなメッセージが出力された場合には、
この<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/01/05/0000.html" target="_top">記事</a>
と、この<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/01/05/0007.html" target="_top">記事</a>
の示すとおりにすべきです。</p>

<p>L3 キャッシュがデフォルトでは有効にならない場合は、この<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2003/02/27/0000.html" target="_top">記事</a>
で示されている方法に従ってください。
</p>


<h4 class="title">
<a name="peripherals"></a>どんな周辺機器に対応していますか ? (<a href="#hardware">top</a>)
  </h4>

<p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD/macppc 5.1 インストールノート</a>の "Supported devices"
節に、完全な一覧が載っています。
特記ない限り、サードパーティー製デバイス (PCI や cardbus など)
は、 NetBSD/macppc のブート用には使えません。</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p>CPU</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>PowerPC 603, 604, G3, G4 (およびこれらの亜種):
        <a class="xref" href="#cpu-upgrade" title="CPU アップグレードに対応していますか?">the section called “CPU アップグレードに対応していますか?”</a>を参照。</p>
      </li>
<li class="listitem">
        <p>マルチプロセッサーカードのサポートは
        利用可能になっています。
        <code class="filename">GENERIC.MP</code> カーネルを使うか、カーネルコンフィギュレーションに "<code class="literal">options
        MULTIPROCESSOR</code>" を追加する必要があります。
        そうしないと、 NetBSD は CPU を 1 個しか使いません。</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>イーサネット</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>オンボード 79C950 (MACE) イーサネット
        (<span class="emphasis"><em>mc</em></span>)</p>
      </li>
<li class="listitem">
        <p>オンボード bmac イーサネット、ただし 10Base-T のみ
        (<span class="emphasis"><em>bm</em></span>)</p>
      </li>
<li class="listitem">
        <p>オンボード gmac イーサネット (<span class="emphasis"><em>gem</em></span>)</p>
      </li>
<li class="listitem">
        <p>オンボード AirPort (別名 AirMac) (<span class="emphasis"><em>wi</em></span>):
        <a class="xref" href="#airport" title="AirPort あるいは AirMac ネットワークを使う方法は?">the section called “AirPort あるいは AirMac ネットワークを使う方法は?”</a>参照</p>
      </li>
<li class="listitem">
        <p>PCI, PCMCIA, CardBus および USB のイーサネットデバイス
        (<span class="emphasis"><em>tlp</em></span>, <span class="emphasis"><em>epic</em></span>,
        <span class="emphasis"><em>ex</em></span>, <span class="emphasis"><em>fxp</em></span>,
        <span class="emphasis"><em>rtk</em></span>, <span class="emphasis"><em>vr</em></span>,
        <span class="emphasis"><em>ne</em></span>, <span class="emphasis"><em>aue</em></span>,
        <span class="emphasis"><em>cue</em></span>, and <span class="emphasis"><em>kue</em></span>): 具体的には、
        Asante, Farallon, SMC, 3Com, Intel, RealTek, D-Link, NE2000, 
        その他これらと互換のデバイス</p>
      </li>
</ul></div>

  </li>
<li class="listitem">
    <p>SCSI</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>オンボード 53c94 SCSI コントローラー
        (<span class="emphasis"><em>esp</em></span>).</p>
      </li>
<li class="listitem">
        <p>オンボード MESH SCSI コントローラー
        (<span class="emphasis"><em>mesh</em></span>).</p>
      </li>
<li class="listitem">
        <p>Adaptec / Future Domain PCI SCSI (<span class="emphasis"><em>ahc</em></span>):
        多くの Adaptec 製カードは Macintosh firmware を内蔵しており、
        NetBSD/macppc のブートに使用可能。<a class="xref" href="#boot-pci" title="PCI カードに接続されたデバイスからブートする方法は?">the section called “PCI カードに接続されたデバイスからブートする方法は?”</a>参照。</p>
      </li>
<li class="listitem">
        <p>Advansys 1200[A,B] 9xx[U,UA] PCI SCSI
        (<span class="emphasis"><em>adv</em></span>).</p>
      </li>
<li class="listitem">
        <p>AMD 53c974 (<span class="emphasis"><em>pcscp</em></span>).</p>
      </li>
<li class="listitem">
        <p>Apple 53c875 Ultra Wide SCSI (一部のベージュ G3 モデルで使用)
        (<span class="emphasis"><em>siop</em></span>): NetBSD をブートするにはファームウェアのアップデートが必要な可能性あり。
        <a class="ulink" href="http://docs.info.apple.com/article.html?artnum=25176" target="_top">Mac OS X
        SCSI Card Updater</a> を使用のこと。</p>
      </li>
<li class="listitem">
        <p>NCR/Symbios 53c8xx (<span class="emphasis"><em>siop</em></span>)
        </p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>IDE</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>オンボード IDE コントローラー (<span class="emphasis"><em>wdc</em></span>)</p>
      </li>
<li class="listitem">
        <p>Promise Ultra66 (<span class="emphasis"><em>pciide</em></span>)</p>
      </li>
<li class="listitem">
        <p>Acard ATP-850/860 コントローラー (Sonnet Tempo ATA/66
        や Acard AEC-6210/6260 など) (<span class="emphasis"><em>pciide</em></span>)</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>入力デバイス</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>ほとんどの ADB キーボード、マウス、トラックボール、トラックパッド。</p>
      </li>
<li class="listitem">
        <p>ほとんどの USB キーボード、マウス、トラックボール、トラックパッド。</p>
      </li>
<li class="listitem">
        <p>ほとんどの PS/2 キーボード、マウス、トラックボール (3 ボタンマウスの
        中ボタンは機能しないかもしれません)。</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>ビデオ (<a class="xref" href="#ofw-input-output-devices" title="input-device と output-device はどう決めたらいいか?">the section called “<code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか?”</a>参照)</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>ほとんどの機種のオンボードビデオ (<span class="emphasis"><em>ofb</em></span>):
        <a class="ulink" href="models.html#no.ofw.fb" target="_top">機種によっては</a>、オンボードビデオを
        使っては NetBSD/macppc をブートすることができません。</p>
      </li>
<li class="listitem">
        <p>Open Firmware がサポートしている PCI ビデオカード
        (<span class="emphasis"><em>ofb</em></span>): ATI, IMS, Matrox, NVIDIA
        が、 Open Firmware 対応機種を出しています。</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>Audio</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>ほとんどの機種でのオンボード AWACS オーディオ (実験的なもの—
        いくつかの G4 マシンで割り込みの衝突があるため、デフォルトでは無効)
        (<span class="emphasis"><em>awacs</em></span>).</p>
      </li>
<li class="listitem">
        <p>USB オーディオ (<span class="emphasis"><em>uaudio</em></span>).</p>
      </li>
<li class="listitem">
        <p>PCI オーディオカード、ただし、しっかりテストされたのは Ensoniq AudioPCI
        (<span class="emphasis"><em>eap</em></span>) だけですが。</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>シリアル。NetBSD/macppc は、オンボードシリアルポートを
    <code class="filename">tty00</code> および <code class="filename">tty01</code> として参照します。Open
    Firmware は以下に挙げる名前を使います。</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
        <p>オンボード RS-422 シリアルポート (モデムポートは
        <span class="emphasis"><em>ttya</em></span> 、プリンターポートは
        <span class="emphasis"><em>ttyb</em></span>): オンボードシリアルのサポートは非常に貧弱で、
        システムをハングさせる可能性もあります。<a class="xref" href="#badserial" title="シリアルポートの使用に問題が起こります!">the section called “シリアルポートの使用に問題が起こります!”</a>参照。</p>
      </li>
<li class="listitem">
        <p>Xserve の RS-232 オンボードシリアルポート: 
        シリアルコンソールとして使用可能です</p>
      </li>
<li class="listitem">
        <p>Gee Three Stealth Serial Port および Griffin Technology
        gPort: これらはデスクトップ G3 および G4 モデルの内蔵モデムを置き換えるもので、
        シリアルコンソールとして使用可能です。</p>
      </li>
<li class="listitem">
        <p>USB、 PCI、および CardBus ベースのシリアルポート。</p>
      </li>
</ul></div>
  </li>
<li class="listitem">
    <p>USB デバイス</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
<p>増設 USB デバイスの多くに対応しています。
      <a class="ulink" href="../../support/hardware/usb.html" target="_top">機種独立の USB
      ドライバー</a>のページを見てください。</p>
      </li></ul></div>
  </li>
<li class="listitem">
    <p>PCMCIA および CardBus カード</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
        <p>多くのカードに対応していますが、 NetBSD/macppc ではテストされていません。
        <a class="ulink" href="../../support/hardware/pcmcia.html" target="_top">機種独立の PCMCIA
        ドライバー</a>や、<a class="ulink" href="../../support/hardware/cardbus.html" target="_top">機種独立の CardBus
        ドライバー</a>のページを見てください。</p>
      </li></ul></div>
  </li>
<li class="listitem">
    <p>PCI カード</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
        <p>多くのカードに対応していますが、 NetBSD/macppc ではテストされていません。
        <a class="ulink" href="../../support/hardware/pci.html" target="_top">機種独立の PCI
        ドライバー</a>のページを見てください。</p>
      </li></ul></div>
  </li>
</ul></div>

<p>NetBSD/macppc で未対応のものは、</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p>ブート用として以外の (内蔵や USB の) フロッピードライブ。</p>
  </li>
<li class="listitem">
    <p>電源管理。</p>
  </li>
<li class="listitem">
    <p>仮想端末やカラーテキストといった、完全な
    <a class="ulink" href="../../../docs/guide/en/chap-cons.html#chap-cons-wscons" target="_top">wscons</a> 機能。</p>
  </li>
<li class="listitem">
    <p>ディスク、 CD-RW、スキャナーといった、通常の FireWire (IEEE 1394)
    デバイス。</p>
  </li>
<li class="listitem">
    <p>オンボードビデオキャプチャー。</p>
  </li>
<li class="listitem">
    <p>AirPort Extreme.</p>
  </li>
</ul></div>


<h4 class="title">
<a name="badserial"></a>シリアルポートの使用に問題が起こります! (<a href="#hardware">top</a>)
  </h4>

<p>これは、内蔵シリアルポートがあまりうまく動作しないせいです。実際のところ、
コンソールの使用ぐらいでしかうまく使えません (それすら、
時々不確実になります) 。</p>

<p>これが修正されるまでは、モデム、 ppp、 palm との同期その他が使えるとは
思わないでください。もし、あなたにシリアルドライバーについての経験があり、
手助けをする気がおありなら、どうか <a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
までご連絡ください。</p>


<h4 class="title">
<a name="pppmacppc"></a>ppp を使う方法は? (<a href="#hardware">top</a>)
  </h4>

<p>うぐぅ。残念なことですが、内蔵シリアルポートが動作しないため、
ppp ドライバーには若干のバグがつぶされずに残っています。</p>

<p>Donald Lee の、 Cyclades PCI カードで ppp を走らせた方法についての<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/07/26/0023.html" target="_top">記事</a>
を見てください。</p>


<h4 class="title">
<a name="airport"></a>AirPort あるいは AirMac ネットワークを使う方法は? (<a href="#hardware">top</a>)
  </h4>

<p>AirPort Extreme は、今のところサポートされていません。</p>

<p>手短に言えば、必要なことは、ワイヤレスカードを、 DHCP を使って IP アドレスを
得るよう設定することと、正しいメディアタイプ (大抵は <code class="literal">DS11</code>)
および (<code class="literal">nwid</code> パラメーターを使って) 正しいネットワーク
を設定することです。たとえば、閉じた AirPort ベースステーションに接続するため、
筆者は <code class="filename">/etc/rc.conf</code> に以下のように書きました:</p>

<pre class="programlisting">ifconfig_wi0="nwid Gizmonet media DS11"
dhclient=YES
dhclient_flags="wi0"</pre>

<p>リブートの都度、 AirPort カードは <code class="literal">Gizmonet</code>
のベースステーションを探して IP アドレスを要求します。</p>

<p>より詳しい情報は、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifconfig+8+NetBSD-5.1+i386">ifconfig(8)</a>, <a href="http://netbsd.gw.com/cgi-bin/man-cgi?wiconfig+8+NetBSD-5.1+i386">wiconfig(8)</a>,
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?wi+4+NetBSD-5.1+i386">wi(4)</a>, <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ifmedia+4+NetBSD-5.1+i386">ifmedia(4)</a> にあります。このほか、<a class="ulink" href="../../docs/network/wavelan.html" target="_top">Using WaveLAN IEEE under
NetBSD</a> ページも見てください。</p>

<p>AirPort ベースステーションを Mac OS でセットアップし、さらに暗号化を
使っている場合には、<code class="literal">AirPort Admin
Utility</code> を実行し、
ベースステーションを設定し、同じネットワークパスワードを探す必要があります。
Apple の AirPort Admin Utility の使い方の詳細は、<a class="ulink" href="http://www.info.apple.com/kbnum/n106864" target="_top">www.info.apple.com</a>
を見てください。</p>

<hr>
<h3 class="title">Open Firmware</h3>
<h4 class="title">
<a name="ofw"></a>Open Firmware って何ですか? なぜ注意を払わねばならないのですか ? (<a href="#open-firmware">top</a>)
  </h4>

<p>手短にいえば、 Open Firmware は FORTH 言語によるコマンド環境であって、
NetBSD カーネルは、システムについての情報の取得や一部のデバイスの
制御のためにこれを使っています。これは、ほとんどの PowerPC ベースの
Macintosh システムでブート ROM に組み込まれており、私たちは
カーネルをディスクやネットワークからロードするためにこれを使っています。</p>

<p>Open Firmware は、 "IEEE Std 1275-1994: IEEE Standard for
Boot Firmware (Initialization Configuration) Firmware: Core Requirements
and Practices" とその補遺で仕様が定められた、
プラットフォーム独立のブートファームウェアです。
Sun の OpenBoot firmware を元にしており、
プロセッサー独立のインターフェース言語である ANS Forth を使っています。</p>

<p>Open Firmware のより詳しい情報は、<a class="ulink" href="http://playground.sun.com/1275/home.html" target="_top">Open Firmware
ワーキンググループホームページ</a>や<a class="ulink" href="http://bananajr6000.apple.com" target="_top">Apple Computer Open Firmware Home 
Page</a>にあります。また、 Apple は、
<a class="ulink" href="http://developer.apple.com/technotes/tn/tn1061.html" target="_top">1061</a>
のような良質の Technical Notes をいくつか提供しています。</p>


<h4 class="title">
<a name="ofw-version"></a>私の機種の Open Firmware のバージョンは ? (<a href="#open-firmware">top</a>)
  </h4>

<p><a class="ulink" href="models.html" target="_top">対応機種</a>ページを見てください。
あなたの機種が載っていなければ、 Open Firmware を使って確かめられます。
Open Firmware プロンプトで (<a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>および<a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a>を参照) 次のようにタイプします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev /openprom</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>.properties</code></strong>
name                    openprom
device_type             BootROM
model                   OpenFirmware 3
relative-addressing
supports-bootinfo

 ok</pre>

<p>ちなみに、 G3 や G4 プロセッサーを積んでいない機種は Open Firmware 1.0.5 か
2.0.x です。内蔵フロッピードライブを持たないデスクトップの機種はすべて
Open Firmware 3 です。内蔵 SCSI を持たないラップトップの機種はすべて
Open Firmware 3 です。</p>

<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
  <p>Open Firmware 3 のシステムは、 <span class="emphasis"><em>BootROM</em></span> とも呼ばれる
  書き換え可能な "ファームウェア" を持っています。この BootROM のバージョンは、
  Open Firmware のバージョンと混同しがちですが別のものです。 Apple ファームウェア
  アップデーターを使うと、 BootROM をアップデートします。これは、
  Open Firmware のバージョンを変えるものでは<span class="strong"><strong>ありません</strong></span> -
  Open Firmware 3 のままです。 BootROM というのは、システムの電源を入れるか
  リセットしたときに、最初に実行されるものです。それから BootROM
  は Open Firmware をロードし、 Open Firmware がオペレーティングシステムを
  ブートします。</p>

  <p>この BootROM のバージョンは、 Mac OS の Apple System Profiler を使うとわかります。
  これは、しばしば、ブートして Open Firmware に入ったときに画面の最初の行に
  記されます。たとえば、私の PowerBook (FireWire) では、次のように表示されます:</p>

  <pre class="programlisting">Apple PowerBook3,1 2.1f1 BootROM built on 01/29/00 at 22:38:07
Copyright 1994-2000 Apple Computer, Inc.
All Rights Reserved

Welcome to Open Firmware.
[...]</pre>

  <p>これは、 BootROM のバージョンが 2.1f1 であることを示しています。</p>
</div>


<h4 class="title">
<a name="ofw-bugs"></a>私の機種の Open Firmware の動作にバグはありますか ? (<a href="#open-firmware">top</a>)
  </h4>

<p>ありえます。<a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD/macppc 5.1 インストールノート</a>に、そのようなバグを
回避するためのパッチ適用やアップグレードについての説明があります。
Open Firmware 3 のシステムについては "Updating your BootROM" の節を、
Open Firmware 1.0.5、 2.0.x、 2.4 のシステムについては
"Older Open Firmware System Preparation" の節を見てください。</p>


<h4 class="title">
<a name="ofw-access"></a>Open Firmware プロンプトに入る方法は? (<a href="#open-firmware">top</a>)
  </h4>

<p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD 5.1 インストールノート</a>を読んでください。特に、お使いの Open
Firmware のバージョン向けの
"Getting to Open Firmware" の節まで読んでください。</p>

<p>これが面倒な方は、 Apple の <code class="literal">System Disk</code> を使って、
マシン起動時は常に Open Firmware に入るよう設定することができます。
この方法については簡単な<a class="ulink" href="SystemDisk-tutorial/" target="_top">チュートリアル</a>をご覧ください。</p>


<h4 class="title">
<a name="ofw-boot-serial"></a>Open Firmware に入ろうとすると、ブートが止まり、
モニターに何も表示されなくなります。 (<a href="#open-firmware">top</a>)
  </h4>

<p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD 5.1 インストールノート</a>を読みませんでしたね? 特に、
"Getting to the Open Firmware Prompt on Older Models" の節は読んでください。
やや長たらしいですが、 Open Firmware をセットアップするための適切な手順を非常に明解に説明しています。</p>

<p>簡単にいうと、あらゆる Open Firmware 1.0.5 のシステムおよびほとんどの
Open Firmware 2.0.x のシステムは、デフォルトのコンソールとして、
ADB キーボードやオンボードビデオに接続されたモニターではなく `Modem'
シリアルポートを使うようになっています。 Mac OS ベースのユーティリティーを
使ってこれらを適切に設定するか、そうでなければ、キーボードとスクリーンで
使えるよう一時的にシリアルコンソールから制御を奪う必要がある<span class="emphasis"><em>でしょう</em></span>。</p>

<p>Open Firmware は、ほとんどの DB15 から VGA への変換アダプター上での設定を
無視するようです。機種によって、 640 x 480 ・ 60 Hz か、直前に Mac OS
で選択した解像度のどちらかがデフォルトになります。お使いのモニターが
その解像度を扱えることを確認してください。</p>

<p><a class="ulink" href="SystemDisk-tutorial/" target="_top">System Disk</a> を使ってシステムを適切に
設定したとしても、 PowerMacintosh 7300 - 8600 の機種を使っている場合は、
<code class="literal">/chaos/control</code> オンボードビデオが正しく同期するよう、
さらにパッチを適用する必要があります(<a class="xref" href="#non-sync-monitor" title="Open Firmware に入った時に、モニターが同期しないことがあります">the section called “Open Firmware に入った時に、モニターが同期しないことがあります”</a>参照)。</p>

<p>Performa 5500 と 6500 では、オンボードビデオを使うために NVRAMRC
パッチを当てる必要があります。これらの機種に関する<a class="ulink" href="models.html#5500" target="_top">脚註</a>を参照してください。</p>

<p><a class="xref" href="#ofw-input-output-devices" title="input-device と output-device はどう決めたらいいか?">the section called “<code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか?”</a>も併せて参照してください。</p>


<h4 class="title">
<a name="ofw-boot-video"></a>PCI ビデオカードを使う方法は? (<a href="#open-firmware">top</a>)
  </h4>

<p>この節では、 Open Firmware に PCI ベースのビデオカードを使うよう伝える方法を、
カードをコンピューターと別に購入した場合とカードが附属していた場合の両方に
ついて説明します。 Macintosh や互換機の一部機種 (詳しくは
<a class="ulink" href="models.html#no.fb" target="_top">NetBSD/macppc機種対応</a>ページを参照) は、
オンボードのビデオインターフェースを持っていません。これらの機種では、
PCI スロットの一つにビデオカードが挿されて出荷されています。</p>

<p>いずれの場合も、ビデオカードが Open Firmware に対応している必要があります。</p>

<p>Open Firmware が使うデバイスパスは、カードとそれが挿さっている PCI
スロットによって異なります。お使いのビデオカードのパスと、
それを使うように Open Firmware に伝える方法を調べておく必要があります。</p>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
    <p>Open Firmware プロンプト (<code class="literal">0 &gt;</code>
    プロンプト) に入ります。方法は<a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>をご覧ください。</p>

    <p>古い機種では最初にシリアルコンソールを使う必要があるかもしれません。</p>
  </li>
<li class="listitem">
    <p>Open Firmware に触るのはこれが初めてという方は、
    <a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a>を読んでおくといいかもしれません。</p>
  </li>
<li class="listitem">
    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev / ls</code></strong></pre>

    <p>これで、お使いのシステムの全デバイスの一覧が表示されます。ビデオカード
    に合致する項目を探します。たとえば、 PowerMacintosh 9500/150 での一覧を
    抜粋します:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev /</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>ls</code></strong>
  [...]
FF8313F0: /bandit@F4000000
  [...]
FF83F8A0:   /ATY,mach64@D
  [...]
 ok</pre>

    <p>おおむね、 Open Firmware 対応のカードでは、
    ベンダー名に似た 4 文字のベンダー ID (ATI では <code class="literal">ATY</code>、 IMS では
    <code class="literal">IMS</code>、 Adaptec では <code class="literal">ADPT</code> というように) が表示され、
    また、文字列でカードの機種を表します。
    "@" 記号は、カード名とそのコンピューターでのアドレスを区切っています。</p>

    <p>ここで、 <code class="literal">/ATY,mach64@D</code> の項目が <code class="literal">/bandit@F4000000</code>
    よりも字下げされていることに注意してください。これは、 <code class="literal">bandit</code>
    デバイスが <code class="literal">ATY</code> デバイスを含んでいることを意味しています。
    この場合、 <code class="literal">/bandit@F4000000</code> は PCI バスの Open Firmware での名前で、
    ATI カードはその PCI バス上にあります。</p>
  </li>
<li class="listitem">
    <p>よって、このカードの Open Firmware デバイスツリー上のパスは
    <code class="literal">/bandit@F4000000/ATY,mach64@D</code> です。ここで、このカードが本当に
    Open Firmware に対応しているかどうか確認するため、以下のようにタイプしてください:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev /bandit@F4000000/ATY,mach64@D</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>words</code></strong></pre>

    <p>出力された中に <code class="literal">open</code> という単語があれば、そのカードが使える
    可能性はかなり高いです。</p>
  </li>
<li class="listitem">
    <p>さて、これで、 Mach64 カードを Open Firmware
    の出力デバイスにするためには、以下のとおりタイプすればよいでしょう:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv output-device /bandit@F4000000/ATY,mach64@D</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>
  </li>
</ol></div>

<p>ビデオカードに接続したモニターが、コンピューターのリセット後に真っ暗な
ままになる場合、問題があります (カードのパスを打ち間違えたか、
カードが実は Open Firmware に対応していないのかもしれません) 。</p>


<h4 class="title">
<a name="non-sync-monitor"></a>Open Firmware に入った時に、モニターが同期しないことがあります (<a href="#open-firmware">top</a>)
  </h4>

<p>これは PowerMacintosh 7300 - 8600 の機種での問題で、
ビデオ信号が十分早く決定されないために起こります。
Open Firmware 1.0.5 用の
<a class="ulink" href="SystemDisk-tutorial/of105patch.html" target="_top">パッチ</a>を当てるべきです。</p>

<p> Twentieth Anniversary Macintosh をお使いの場合、解決策はわかっていません。
この問題については、<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/04/26/0008.html" target="_top">この
投稿記事</a>の説明を見てください。
現時点では、この機種へのインストールの成功例の報告はありませんが、
<a class="ulink" href="SystemDisk-tutorial/" target="_top">System Disk</a> で input と output デバイスを
<code class="literal">ttya</code> に設定し、端末エミュレーターの動くマシンを
シリアルケーブルでつなげば、うまくいくはずです。</p>


<h4 class="title">
<a name="ofw-clear"></a>Open Firmware の異常を直す方法は? (<a href="#open-firmware">top</a>)
  </h4>

<p>Open Firmware 3 の機種で設定を変えて、 Open Firmware プロンプトに入れず
Mac OS のブートもできないようになった場合、 BootROM を破壊した (例えば、
<code class="literal">load-base</code> または <code class="literal">real-base</code> をまずい値に設定するなど。<a class="xref" href="#ofw-load-base" title='"load-base" の設定の問題'>the section called “"load-base" の設定の問題”</a>および<a class="xref" href="#ofw-real-base" title='"real-base" の設定の問題'>the section called “"real-base" の設定の問題”</a>を参照)
可能性があります。 Apple に修理に出して BootROM
ファームウェアを書き換えさせる必要があるかもしれません。</p>

<p>初期の機種 (Open Firmware 1.0.5, 1.1.22, 2.0.x, 2.4) の場合は、
マシンの AC 主電源 (110 または 220 V) を切り、マザーボードから電池を
外す必要があります。電池が放電して NVRAM の内容が消えるまでに、
長くて数時間かかるでしょう。この時間を短くするには、電源ボタンを
押してみてください。さらに危険な方法 (つまり、やるなら自己責任で) としては、
ソケットに電池を逆向きに取り付けるか、両端子を抵抗を介して短絡させるという
方法もあります。</p>

<p>直ったら、日付を設定するのを忘れないようにしてください!</p>


<h4 class="title">
<a name="ofw-backslash"></a>Open Firmware でバックスラッシュ (<code class="literal">\</code>)
キーを打てません! (<a href="#open-firmware">top</a>)
  </h4>

<p>困ったことに、お使いになっている非 US キーボードを Mac OS や NetBSD が認識したとしても、
Open Firmware は認識しないのです。このため、アルファベット以外のキーの一部は、
キーに刻印されている文字とは一致しないことがあります。</p>

<p>簡単ですが美しくない解決法は、文字の十六進表現を使うことです。
コマンド全体を二重引用符で括ったうえで、
文字を十六進コードにして丸カッコで囲み、その前に二重引用符を置きます。
たとえば、バックスラッシュは <code class="literal">"(5C)</code> に置き換えます。
このようにして二重引用符で括ったコマンドの後には、そのコマンドの十六進表現を
普通の文字に変換したものを表示するか、実際に実行するかに応じた FORTH
コマンドが必要になります。表示するには <code class="literal">cr&nbsp;type&nbsp;cr</code>
を使います。実行するには <code class="literal">evaluate</code> を使います。
また、コマンド全体を括る二重引用符とコマンド冒頭の間には空白をひとつ入れるようにしてください。</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>" setenv boot-device hd:,"(5C)ofwboot.xcf" cr type cr</code></strong>
setenv boot-device hd:,\ofwboot.xcf
 ok
<code class="prompt">0 &gt; </code><strong class="userinput"><code>" setenv boot-device hd:,"(5C)ofwboot.xcf" evaluate</code></strong>
<code class="prompt">0 &gt; </code></pre>

<p>その場限りではない方法としては、<a class="ulink" href="http://members.aol.com/plforth/ofpong/macofx5c.html" target="_top">PLForth</a>
にある説明に従い Open Firmware を再設定 (<a class="ulink" href="nvedit.html" target="_top"><code class="literal">nvedit</code></a> を使用)
することもできます。</p>


<h4 class="title">
<a name="ofw-use"></a>Open Firmware プロンプトで何ができるか? (<a href="#open-firmware">top</a>)
  </h4>

<a name="ofw-misc"></a>

<p>コンピューターのブートに関するさまざまな状態を設定することができます。
以下の表で、主なコマンドを簡単に説明します。</p>

<div class="table">
<a name="ofw-common-commands"></a><p class="title"><b>Table 1. 主なコマンド</b></p>
<div class="table-contents">

<table summary="主なコマンド" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>コマンド名</th>
<th>注釈</th>
</tr></thead>
<tbody>
<tr>
<td><code class="literal">dev&nbsp;<span class="emphasis"><em>device</em></span></code></td>
<td>Open Firmware デバイスツリー上でのカレント <span class="emphasis"><em>device</em></span>
    の変更 (ファイルシステム上の <code class="literal">cd</code> に類似)</td>
</tr>
<tr>
<td><code class="literal">unselect-dev</code></td>
<td>どのデバイスも選択されていない初期状態に戻る
    (通常は必要なし)</td>
</tr>
<tr>
<td><code class="literal">ls</code></td>
<td>デバイスツリー上でのカレントノード以下のデバイスの列挙
    (ファイルシステム上の <code class="literal">ls</code> に類似)</td>
</tr>
<tr>
<td><code class="literal">pwd</code></td>
<td>デバイスツリー上でのカレントノードの場所の列挙
    (ファイルシステム上の <code class="literal">pwd</code> に類似)</td>
</tr>
<tr>
<td><code class="literal">words</code></td>
<td>デバイスツリー上でのカレントノードにおいて
    使用可能な FORTH コマンドの列挙。ブートするためには、
    デバイスが少なくとも "<code class="literal">open</code>" を含む必要あり</td>
</tr>
<tr>
<td><code class="literal">.properties</code></td>
<td>デバイスツリー上でのカレントノードの
    状態を列挙</td>
</tr>
<tr>
<td><code class="literal">printenv</code></td>
<td>Open Firmware 環境変数の現在および
    デフォルトの設定値を表示</td>
</tr>
<tr>
<td><code class="literal">setenv <span class="emphasis"><em>variable</em></span>
    <span class="emphasis"><em>value</em></span></code></td>
<td>Firmware の <span class="emphasis"><em>variable</em></span> 変数に新たに値
    <span class="emphasis"><em>value</em></span> を設定する。<a class="xref" href="#ofw-variables" title="関連する Open Firmware の変数">the section called “関連する Open Firmware の変数”</a>参照。</td>
</tr>
<tr>
<td><code class="literal">set-default
    <span class="emphasis"><em>variable</em></span></code></td>
<td>変数 <span class="emphasis"><em>variable</em></span> の値をデフォルト値に設定する。
    <a class="xref" href="#ofw-variables" title="関連する Open Firmware の変数">the section called “関連する Open Firmware の変数”</a>参照。</td>
</tr>
<tr>
<td><code class="literal">boot <span class="emphasis"><em>boot-device</em></span>
    <span class="emphasis"><em>boot-file</em></span></code></td>
<td>プログラム <span class="emphasis"><em>boot-file</em></span> を
    <span class="emphasis"><em>boot-device</em></span> からロード・実行する。
    これを使って <code class="literal">ofwboot</code> ("partition zero" ブートローダー) または
    <code class="literal">ofwboot.xcf</code> をロードし、それから NetBSD カーネルをロードします</td>
</tr>
<tr>
<td><code class="literal">dir <span class="emphasis"><em>device</em></span></code></td>
<td>
<span class="emphasis"><em>device</em></span>
    にあるファイルの列挙 (unix の
    <code class="literal">ls</code> と同じ); <a class="xref" href="#ofw-dir-listing" title="ディスク上のファイルのリストを (Open Firmware で) 出す方法は?">the section called “ディスク上のファイルのリストを (Open Firmware で)
出す方法は?”</a>参照</td>
</tr>
<tr>
<td><code class="literal">eject fd</code></td>
<td>フロッピーディスクの排出</td>
</tr>
<tr>
<td><code class="literal">reset-all</code></td>
<td>Open Firmware 環境変数を永久に保持し
    コンピューターをリブートする</td>
</tr>
<tr>
<td><code class="literal">shut-down</code></td>
<td>Open Firmware 環境変数を永久に保持し
    コンピューターの電源を落とす</td>
</tr>
<tr>
<td><code class="literal">bye</code></td>
<td>Open Firmware 1.0.5、 2.0.x、 2.4
    のシステムで Mac OS をブートする</td>
</tr>
<tr>
<td><code class="literal">mac-boot</code></td>
<td>Open Firmware 3 のシステムで Mac OS をブートする</td>
</tr>
<tr>
<td><code class="literal">devalias <span class="emphasis"><em>alias</em></span>
    <span class="emphasis"><em>device</em></span></code></td>
<td>デバイス <span class="emphasis"><em>device</em></span> の別名として
    <span class="emphasis"><em>alias</em></span> を設定または修正
    (<code class="literal">csh</code> や眷族の <code class="literal">alias</code> に類似)。
    オプションがない場合は、現在のデバイスの別名をすべて列挙</td>
</tr>
<tr>
<td><code class="literal">nvalias <span class="emphasis"><em>alias</em></span>
    <span class="emphasis"><em>device</em></span></code></td>
<td> デバイス <span class="emphasis"><em>device</em></span> の別名として
    <span class="emphasis"><em>alias</em></span> を永久に保存されるよう設定または修正
    (<code class="literal">csh</code> や眷族の <code class="literal">alias</code> に類似)。
    オプションがない場合は、現在のデバイスの別名をすべて列挙</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<p>また、 Open Firmware を使う上で便利なキーストロークを
いくつか掲げます:</p>

<div class="table">
<a name="ofw-keystrokes"></a><p class="title"><b>Table 2. Open Firmware のキーストローク</b></p>
<div class="table-contents">

<table summary="Open Firmware のキーストローク" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>キーストローク</th>
<th>機能</th>
</tr></thead>
<tbody>
<tr>
<td>Backspace</td>
<td>後方の 1 文字を消去</td>
</tr>
<tr>
<td>Delete</td>
<td>後方の 1 文字を消去</td>
</tr>
<tr>
<td>^h</td>
<td>後方の 1 文字を消去</td>
</tr>
<tr>
<td>^d</td>
<td>前方の 1 文字を消去</td>
</tr>
<tr>
<td>Enter</td>
<td>FORTH パーサーに行を渡す</td>
</tr>
<tr>
<td>^b</td>
<td>1 文字戻る (左矢印キーと同じ)</td>
</tr>
<tr>
<td>^f</td>
<td>1 文字進む (右矢印キーと同じ)</td>
</tr>
<tr>
<td>ESC b</td>
<td>1 単語戻る</td>
</tr>
<tr>
<td>ESC f</td>
<td>1 単語進む</td>
</tr>
<tr>
<td>^a</td>
<td>行の先頭に戻る</td>
</tr>
<tr>
<td>^e</td>
<td>行の終端に進む</td>
</tr>
<tr>
<td>ESC h</td>
<td>単語の先頭までを消去・保持</td>
</tr>
<tr>
<td>^w</td>
<td>単語の先頭までを消去・保持</td>
</tr>
<tr>
<td>ESC d</td>
<td>単語の終端までを消去・保持</td>
</tr>
<tr>
<td>^k</td>
<td>行の終端までを消去・保持</td>
</tr>
<tr>
<td>^u</td>
<td>行をすべて消去・保持</td>
</tr>
<tr>
<td>^r</td>
<td>行を打ち直す</td>
</tr>
<tr>
<td>^q</td>
<td>次の文字を引用</td>
</tr>
<tr>
<td>^y</td>
<td>カーソルの前に保持されていた文字列を挿入</td>
</tr>
<tr>
<td>^p</td>
<td>履歴中の、前の行 (上矢印キーと同じ)</td>
</tr>
<tr>
<td>^n</td>
<td>履歴中の、次の行 (下矢印キーと同じ)</td>
</tr>
<tr>
<td>^l</td>
<td>履歴を表示</td>
</tr>
<tr>
<td>^space</td>
<td>単語が単一の補完候補を持つ場合は、そのように補完。
    単語が複数の補完候補を持つ場合は、補完可能なところまで補完。
    単語がまったく補完可能でない場合は、少なくともひとつの補完候補があるところまで
    文字を消去</td>
</tr>
<tr>
<td>^/</td>
<td>単語の補完候補 (ないこともある) を表示</td>
</tr>
<tr>
<td>^?</td>
<td>単語の補完候補 (ないこともある) を表示</td>
</tr>
<tr>
<td>^@</td>
<td>^space と同じ (Apple 特有)</td>
</tr>
<tr>
<td>^o</td>
<td>^/ と同じ (Apple 特有)</td>
</tr>
<tr>
<td>^\</td>
<td>^b と同じ (Apple 特有)</td>
</tr>
<tr>
<td>^]</td>
<td>^f と同じ (Apple 特有)</td>
</tr>
<tr>
<td>^^</td>
<td>^p と同じ (Apple 特有)</td>
</tr>
<tr>
<td>^_</td>
<td>^n と同じ (Apple 特有)</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<p>このほか、 <a class="ulink" href="nvedit.html" target="_top">NetBSD/macppc nvedit
HOW-TO</a>、<a class="ulink" href="http://docs.info.apple.com/article.html?artnum=60285" target="_top">Apple Network
Server 500,700: Open Firmware Read Me</a> technote、<a class="ulink" href="http://bananajr6000.apple.com/" target="_top">Apple Computer Open Firmware Home
Page</a> <a class="ulink" href="http://developer.apple.com/technotes/tn/tn2001.html" target="_top">"Technote 2001 -
Running files from a hard drive in Open Firmware</a> と、<a class="ulink" href="http://playground.sun.com/1275/home.html" target="_top">Open Firmware Working Group
home page</a> も併せて参照してください。</p>


<h4 class="title">
<a name="ofw-variables"></a>関連する Open Firmware の変数 (<a href="#open-firmware">top</a>)
  </h4>

<p>Open Firmware が利用したり保持したりしてブートに影響を与える変数が存在します。
これらの変数を変更するには、 <code class="literal">printenv</code>、 <code class="literal">setenv</code>、
<code class="literal">set-default</code> コマンドを使う (<a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a>参照) か、
Mac OS SystemDisk ユーティリティーを使います (<a class="ulink" href="SystemDisk-tutorial/" target="_top">チュートリアル</a>参照) 。
<code class="literal">nvramrc</code> 上の変数を変更するには、
<a class="ulink" href="nvedit.html" target="_top">NetBSD/macppc nvedit HOW-TO</a>
で説明しているコマンドを使います。このほか、 ResEdit
を使って System Disk をいじくることもできます。 <code class="literal">OFtc</code> リソースを見て、
System Disk が使っているお使いの機種用の ID を調べてください。それから、
対応する <code class="literal">OFpt</code> リソースを編集します。</p>

<p>設定を変更した後は、その変更を保存するため、以下のようにタイプするよう
注意してください:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<div class="table">
<a name="ofw-common-variables"></a><p class="title"><b>Table 3. 主な変数</b></p>
<div class="table-contents">

<table summary="主な変数" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>変数名</th>
<th>通常の値</th>
<th>機能</th>
</tr></thead>
<tbody>
<tr>
<td><code class="literal">auto-boot?</code></td>
<td>false</td>
<td>
<code class="literal">false</code> の場合は、コンピューターのリセット時に Open Firmware
    プロンプトで停止。<code class="literal">true</code> の場合は、
    <code class="literal"><span class="emphasis"><em>boot-command boot-device
    boot-file</em></span></code> を実行</td>
</tr>
<tr>
<td><code class="literal">use-nvramrc?</code></td>
<td>true</td>
<td>
<code class="literal">true</code> の場合は
    <code class="literal">nvramrc</code>で設定されたコマンドを実行</td>
</tr>
<tr>
<td><code class="literal">real-base</code></td>
<td><span class="emphasis"><em>Open Firmware バージョンによる</em></span></td>
<td>カーネルのメモリー番地。<a class="xref" href="#ofw-real-base" title='"real-base" の設定の問題'>the section called “"real-base" の設定の問題”</a>参照。</td>
</tr>
<tr>
<td><code class="literal">load-base</code></td>
<td><span class="emphasis"><em>Open Firmware バージョンによる</em></span></td>
<td>ブートローダーのメモリー番地。<a class="xref" href="#ofw-load-base" title='"load-base" の設定の問題'>the section called “"load-base" の設定の問題”</a>参照</td>
</tr>
<tr>
<td><code class="literal">boot-device</code></td>
<td>
<span class="emphasis"><em>設定による</em></span>。設定方法は 
    <code class="literal">ofwboot(8)</code> 参照</td>
<td>ここで設定したデバイスから最初の段階のブートローダーがロードされる</td>
</tr>
<tr>
<td><code class="literal">boot-file</code></td>
<td>
<span class="emphasis"><em>設定による</em></span>。設定方法は
    <code class="literal">ofwboot(8)</code> 参照</td>
<td>カーネルの場所</td>
</tr>
<tr>
<td><code class="literal">input-device</code></td>
<td>
<span class="emphasis"><em>ハードウェアによる</em></span>。設定方法は<a class="xref" href="#ofw-input-output-devices" title="input-device と output-device はどう決めたらいいか?">the section called “<code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか?”</a>参照</td>
<td>ADB キーボード、 USB キーボード、またはシリアルコンソール</td>
</tr>
<tr>
<td><code class="literal">output-device</code></td>
<td>
<span class="emphasis"><em>ハードウェアによる</em></span>。設定方法は<a class="xref" href="#ofw-input-output-devices" title="input-device と output-device はどう決めたらいいか?">the section called “<code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか?”</a>参照</td>
<td>オンボードビデオ、 PCI ビデオ、またはシリアルコンソール</td>
</tr>
<tr>
<td><code class="literal">nvramrc</code></td>
<td><span class="emphasis"><em>System Disk によって入力された値</em></span></td>
<td>
<code class="literal">use-nvramrc?</code> が
    <code class="literal">true</code> に設定されている場合は、ここで設定された
    FORTH コマンド群がコンピューターのリセット時に実行される</td>
</tr>
<tr>
<td><code class="literal">boot-command</code></td>
<td>boot</td>
<td>
<code class="literal">auto-boot?</code> が <code class="literal">true</code> に設定されている場合は、
    このコマンドがコンピューターのリセット時に実行される</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
  <p><code class="literal">Command-Option-P-R</code> で PRAM をクリアすると、
  すでに設定した Open Firmware の変数はすべて消えます。</p>

  <p>Open Firmware 1.0.5 の機種で Mac OS をブートすると、
  すでに設定した Open Firmware の変数はすべて消えます。</p>

  <p>極端な場合、 Open Firmware の設定によって
  マシンが起動しなくなることもあります。これは PRAM クリアでは直りません。
  この場合は、電源を抜き、 10 分間ほどマザーボードから電池を外します。
  PowerBook の場合は power manager をリセットします。</p>
</div>


<h4 class="title">
<a name="ofw-load-base"></a>"load-base" の設定の問題 (<a href="#open-firmware">top</a>)
  </h4>

<p>Open Firmware の環境変数 <code class="literal">load-base</code> は、 Open Firmware
がブートローダーを <code class="literal">boot-device</code> からロードするアドレスです。
XCOFF バイナリーがメモリー上にロードされるアドレスです。
これによる作用は、 Open Firmware のバージョンや <code class="literal">boot-device</code>
によってさまざまです。 <code class="literal">load-base</code> が不適切な値に設定された場合、症状として <code class="literal">CLAIM
failed</code> というメッセージ (<a class="xref" href="#ofw-claim-failed" title="CLAIM failed">the section called “<code class="literal">CLAIM failed</code>”</a>参照) が出ます。</p>

<div class="sect4" title="Open Firmware 3">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-load-base-ofw3"></a>Open Firmware 3</h5></div></div></div>


<p><span class="strong"><strong><code class="literal">load-base</code>
の値を変えてはいけません</strong></span>。
Open Firmware 3 の機種は書き換え可能なファームウェアを持っていますが、
<code class="literal">load-base</code> を変更すると、フラッシュ BootROM を上書きして
マシンを壊してしまう (Apple での高価な修理が必要になる) ことがわかりました。<span class="strong"><strong>Open Firmware 3 な機種で <code class="literal">load-base</code>
を変更してはなりません。</strong></span>
Apple は Open Firmware 3 を、ブートのために <code class="literal">load-base</code>
の値を変更する必要はないようにしています。</p>

</div>

<div class="sect4" title="Open Firmware 1.0.5, 1.1.22, 2.0.x, and 2.4">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-load-base-ofwpre3"></a>Open Firmware 1.0.5, 1.1.22, 2.0.x, and 2.4</h5></div></div></div>


<p>これらのシステムでの <code class="literal">load-base</code> のデフォルト値は 4000 ですが、
これは私たちにとって都合がよくありません。 <a class="ulink" href="SystemDisk-tutorial/" target="_top">System Disk</a> は
<code class="literal">load-base</code> を 600000 に設定しますが、これがちょうどよい値です。
mkLinux はこれとは異なる値を使いますが、これでは NetBSD/macppc
のブートはできないかもしれません。なお、 NetBSD 1.5.2 またはそれより前のものを
使う場合は、 load-base に関する<a class="ulink" href="oldfaq.html#old-ofw-load-base" target="_top">古い FAQ</a>
項目をお読みください。</p>

<p>お使いのマシンが、 Open Firmware 1.0.5、 1.1.22、 2.0.x または 2.4
であることが間違いないなら (<a class="xref" href="#ofw-version" title="私の機種の Open Firmware のバージョンは ?">the section called “私の機種の Open Firmware のバージョンは ?”</a>参照)、
<code class="literal">load-base</code>
を適切に設定するために次のコマンドを実行します:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv load-base 600000</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<p>正しく設定されたか、 <code class="literal">printenv</code>
コマンドで再確認すべきです。</p>

</div>


<h4 class="title">
<a name="ofw-real-base"></a>"real-base" の設定の問題 (<a href="#open-firmware">top</a>)
  </h4>

<p>Open Firmware の環境変数 <code class="literal">real-base</code> は、
OpenFirmware が自分自身のために使用するアドレスです。
<code class="literal">real-base</code> のデフォルト値は -1 (0xffffffff) かもしれませんが、
OF 1.0.5 や 2.x の機種では 0x400000 を使うため、
<code class="literal">real-base</code> がこのデフォルト値になっていると問題を起こします。
カーネルは、デフォルトでは 0x100000 番地にロードされますので、
約 3 MB を超える大きさのカーネルをロードしようとすると問題が起こります。</p>

<p>Open Firmware 3 の機種は書き換え可能なファームウェアを持っていますが、
<code class="literal">real-base</code> を変更すると、ファームウェアを上書きして
マシンを壊してしまう (Apple での高価な修理が必要になる) ことがわかりました。
<span class="strong"><strong> Open Firmware 3 な機種で
<code class="literal">real-base</code> を変更してはなりません。</strong></span>
いずれにせよ、 Open Firmware 3 は、大きなカーネルに関してもうまく動作するので、
この件は問題にはなりません。</p>

<p>その機種の Open Firmware が 1.0.5 か 2.0.x か 2.4 であるかを確認してから
(<a class="xref" href="#ofw-version" title="私の機種の Open Firmware のバージョンは ?">the section called “私の機種の Open Firmware のバージョンは ?”</a>参照)、下記のコマンドを実行して
<code class="literal">real-base</code> を適切に設定します (注意: System Disk はこの変数を
適切に設定<span class="strong"><strong>しません</strong></span>
─ System Disk を使うたびに、 <code class="literal">real-base</code>
を設定しなおす必要があります):</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv real-base F00000</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<p>正しく設定されたか、 <code class="literal">printenv</code> コマンドで再確認すべきです。
誤った値を設定した場合、マシンが起動しなくなることがあります
(復旧方法は
<a class="xref" href="#ofw-clear" title="Open Firmware の異常を直す方法は?">the section called “Open Firmware の異常を直す方法は?”</a>を見てください)。</p>

<p>この問題への次善策は、カーネルを再構築して、サイズを 3 MB より
小さくすることです。 Open Firmware 1.0.5 や 2.0.x や 2.4 の機種には内蔵 USB
がないため、 USB ドライバーを含めずに<a class="ulink" href="../../docs/kernel/#how_to_build_a_kernel" target="_top">カーネルを作れます</a>
(PCI USB カードがない場合に限りますが)。</p>


<h4 class="title">
<a name="ofw-input-output-devices"></a><code class="literal">input-device</code> と
<code class="literal">output-device</code> はどう決めたらいいか? (<a href="#open-firmware">top</a>)
  </h4>

<p>これは、 Open Firmware のバージョン、使っているハードウェアに加えて、
どのデバイスを使って Open Firmware と (したがって NetBSD/macppc とも)
対話したいかによります。</p>

<p>これを決めたら、これらの値の設定と保存を行う必要があります。
Open Firmware を使い始める上での手引については、
<a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>と
<a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a> を見てください。
手短に言えば、以下の 3 コマンドを実行する必要があります (ここで
<span class="emphasis"><em>in-device</em></span> と <span class="emphasis"><em>out-device</em></span>
は、この FAQ 項目をもとに決めた値です):</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv input-device in-device</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv output-device out-device</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<p>入出力デバイスをその場で変更し、かつその変更をその場限りにして保存しないようにするには、
上述のコマンドのかわりに以下の 2 コマンドを実行します
(最初の引用符の後にスペースを入れることに注意):</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>" out-device" output</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>" in-device" input</code></strong></pre>

<div class="sect4" title="Open Firmware 1.0.5、 2.0.x、 2.4 で、キーボードとモニター (または一体型 LCD) を使う場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-input-output-devices-ofwpre3-monitor"></a>Open Firmware 1.0.5、 2.0.x、 2.4 で、キーボードとモニター
(または一体型 LCD) を使う場合</h5></div></div></div>


<p>デフォルトでは、ほとんどの機種がデフォルトでシリアルコンソールを使います
(多くの初心者ユーザーが、ブートして Open Firmware に入ろうとしたときに
モニターが真っ黒になることで気づくことです) 。さらに、これらの
<a class="ulink" href="models.html#no.ofw.fb" target="_top">機種</a>の一部では、
Open Firmware での (また、 NetBSD/macppc でも) オンボードビデオデバイス
の使用に問題があります。これらの厄介なシステムでは、 PCI ビデオカードか
シリアルコンソールを使うしかありません。</p>

<p><a class="ulink" href="models.html" target="_top">NetBSD/macppc 機種対応ページ</a>で、
あなたの機種の欄を見てください。そのシステム用の
<code class="literal">output-device</code> が載っているはずです。
<code class="literal">output-device</code> が載っていない場合は <code class="literal">screen</code>
を使ってください。</p>

<p><code class="literal">output-device</code> の決め方について
<a class="xref" href="#ofw-boot-video" title="PCI ビデオカードを使う方法は?">the section called “PCI ビデオカードを使う方法は?”</a>も見てください。</p>

<p>すべてのシステムでは、 ADB または一体型キーボード用の
<code class="literal">input-device</code> は <code class="literal">kbd</code> です。</p>

</div>

<div class="sect4" title="Open Firmware 3 で、キーボードとモニター (または一体型 LCD) を使う場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-input-output-devices-ofw3-monitor"></a>Open Firmware 3 で、キーボードとモニター (または一体型
LCD) を使う場合</h5></div></div></div>


<p>デフォルトでは、すべての機種がデフォルトで USB または一体型キーボードと
オンボードビデオまたは一体型 LCD を使います。何もする必要はないはずです。</p>

<p><code class="literal">output-device</code> の決め方について
<a class="xref" href="#ofw-boot-video" title="PCI ビデオカードを使う方法は?">the section called “PCI ビデオカードを使う方法は?”</a>も見てください。</p>

<p>デフォルト値は、 <code class="literal">input-device</code> は
<code class="literal">keyboard</code> (一体型または USB キーボードを使用)、
<code class="literal">output-device</code> は <code class="literal">screen</code>
(一体型 LCD、スクリーン、オンボードビデオインターフェースを使用) です。</p>

</div>

<div class="sect4" title="Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-input-output-devices-ofwpre3-serial"></a>Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合</h5></div></div></div>


<a name="serial-console"></a>

<p>Open Firmware では、コンピューターの "modem" シリアルポートを <code class="literal">ttya</code>、
"printer" シリアルポートを <code class="literal">ttyb</code> と呼びます。システムによっては
(Performa 54xx, 6360, 6400, 6500) 内蔵モデムを持っており、これが
内蔵シリアルポートを遮っています。これらの機種では、シリアルポートとして
プリンターポート <code class="literal">ttyb</code> を使うよう設定する必要があります。</p>

<p>ほとんどすべての機種では、 <code class="literal">input-device</code> と <code class="literal">output-device</code>
のデフォルト値は <code class="literal">ttya</code> であり、これは多くの初心者ユーザーが、
ブートして Open Firmware に入ろうとしたときにモニターが真っ黒になることで
気づくことです。</p>

<p>シリアルコンソールの設定は、 38400 bps、 8 ビット、パリティーなし、
ストップビット 1、フロー制御なしにする必要があります。また、 2 台の Mac
(m68k ベースの Mac でも可) 同士をつなぐ場合には、標準的な Mac の
「プリンター」ケーブルを使うことができます。さらなる手引きについては、<a class="ulink" href="../../docs/Hardware/Misc/serial.html" target="_top">NetBSD
シリアルポート入門</a>を見てください。</p>

</div>

<div class="sect4" title="Open Firmware 3 で、シリアルコンソールを使う場合">
<div class="titlepage"><div><div><h5 class="title">
<a name="ofw-input-output-devices-ofw3-serial"></a>Open Firmware 3 で、シリアルコンソールを使う場合</h5></div></div></div>


<p>Open Firmware 3 の機種はいずれもシリアルポートを持っていません。しかし、
ほとんどの機種は内蔵モデムを持っています。ほとんどのデスクトップ機種で、
内蔵モデムをシリアルポートに置き換えるためのサードパーティーデバイス
(Gee Three Stealth Serial Port や Griffin Technology gPort など)
を使うことができます。このようなものを使う場合、シリアルコンソールを使うよう
Open Firmware を設定することができます。 <code class="literal">input-device</code> と
<code class="literal">output-device</code> をいずれも <code class="literal">scca</code> に設定してください。</p>

<p>シリアルコンソールの設定は、 57600 bps、 8 ビット、パリティーなし、
ストップビット 1、フロー制御なしにする必要があります。また、 2 台の Mac
(m68k ベースの Mac でも可) 同士をつなぐ場合には、標準的な Mac の
「プリンター」ケーブルを使うことができます。さらなる手引きについては、<a class="ulink" href="../../docs/Hardware/Misc/serial.html" target="_top">NetBSD
シリアルポート入門</a>を見てください。</p>

</div>


<h4 class="title">
<a name="ofw-dir-listing"></a>ディスク上のファイルのリストを (Open Firmware で)
出す方法は? (<a href="#open-firmware">top</a>)
  </h4>

<p>もちろん、 <code class="literal">dir</code> コマンドです!</p>

<p>文法は、単に、
<code class="literal">dir
<span class="emphasis"><em>device</em></span>:<span class="emphasis"><em>[partition]</em></span>,\</code>
です。
ここで、 <span class="emphasis"><em>device</em></span> はリストを出そうとしているデバイスの <code class="literal">devalias</code>
またはフルパス、 <span class="emphasis"><em>[partition]</em></span> はリストを出そうとしている
パーティション番号です。パーティション番号を明示しなかった場合は、
Open Firmware が扱えるパーティションのうち最初のものが使われます。カンマは、
デバイスおよびパーティションと、ディレクトリーまたはファイルとの間の区切りです。</p>

<p>残念ながら、パーティションマップを Open Firmware
上で列挙させる方法はありません。ただし、 NetBSD <a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を各種 OS 上で使って
パーティションを列挙させることはできます。</p>

<p>Open Firmware は、ディレクトリーの区切りにバックスラッシュを使います。
このため、 "<code class="literal">\</code>" でデバイスの最上位を指定する必要があります。また、
ディレクトリーをバックスラッシュで区切ることで、個々のファイルやフォルダー内の
ファイルのディレクトリーリストを出すこともできます。</p>

<p>Open Firmware の <code class="literal">dir</code> コマンドは、 Open Firmware が扱える
ファイルシステムの内容のリストしか出せないことを承知しておいてください。
Open Firmware 1.0.5、 1.1.22、 2.0.x では ISO 9660 (<span class="emphasis"><em>ハイブリッドはダメ</em></span>)
と MS-DOS のリストが出せます。 Open Firmware 3 ではハイブリッド ISO 9660/HFS (純粋な
ISO 9660 は<span class="emphasis"><em>ダメ</em></span>) 、 HFS、 HFS+ と MS-DOS のリストが出せます。</p>

<p>公式 NetBSD インストール CD-R イメージおよびフロッピーイメージは、若干
しょぼいです (つまり、これらは "partition zero" ブートローダーを使っています)。
これらは、 Open Firmware でファイルのリストを出すことはできません。</p>

<p>たとえば、フロッピー上のファイルのリストを出すには、次のようにタイプします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dir fd:,\</code></strong></pre>

<p>CD-ROM 上のファイルのリストを出すには、次のようにタイプします (一例):</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dir scsi-int/sd@3:,\</code></strong></pre>

<p>HFS パーティション上の macppc というフォルダー内のファイルのリストを出すには、
次のようにタイプします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dir hd:9,\macppc\</code></strong></pre>

<p>イーサネット経由でクライアントの dhcp または bootp の情報を出すには、
次のようにタイプします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dir enet:</code></strong></pre>

<hr>
<h3 class="title">ブート</h3>
<h4 class="title">
<a name="boot-support"></a>NetBSD/macppc をブートするにはどんな方法がありますか ? (<a href="#booting">top</a>)
  </h4>

<p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD/macppc 5.1 インストールノート</a>を見て、 "Available Boot Media"
というタイトルの節を読んでください。</p>


<h4 class="title">
<a name="boot-disk"></a>ディスクをブート可能にする方法と、それをブートさせるための
Open Firmware のコマンドは ? (<a href="#booting">top</a>)
  </h4>

<p>これは Open Firmware のバージョン、および、どこからブートするかに
完全に依存します。<a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD/macppc 5.1 インストールノート</a>の "Preparing the Bootable
Media" と "Open Firmware boot syntax" の節を読んでください。</p>

<p><a class="xref" href="#ofw-version" title="私の機種の Open Firmware のバージョンは ?">the section called “私の機種の Open Firmware のバージョンは ?”</a>、
<a href="http://netbsd.gw.com/cgi-bin/man-cgi?ofwboot+8+NetBSD-5.1+i386">ofwboot(8)</a> マニュアルページ、<a href="http://netbsd.gw.com/cgi-bin/man-cgi?installboot+8+NetBSD-5.1+i386">installboot(8)</a> マニュアルページも併せて見てください。</p>


<h4 class="title">
<a name="boot-pci"></a>PCI カードに接続されたデバイスからブートする方法は? (<a href="#booting">top</a>)
  </h4>

<p>これには Open Firmware ドライバーを持った PCI カードが必要ですが、そういうカードはほとんどありません。
多くの Adaptec SCSI カードや、一部の IDE/ATA カードは Open Firmware ドライバーを持っています。
Asante 製の一部のイーサネットカードには Open Firmware ドライバーが附属しています
(ただし誰も試していませんが) 。 UltraSPARC システム用に製造されたカードは、
しばしば Open Firmware ドライバーを持っています。これら以外の多くはドライバーを持っていません。</p>

<p>カードが Open Firmware で動作することは、
必ずしも NetBSD がそのカードに対応していることを意味しません (逆もしかりです) 。
いくつかの Mac OS IDE/ATA カードにそういう例があります。</p>

<p>まず最初に、 PCI カードの Open Firmware での名前を確認します。
Apple では、オンボードデバイス用に (scsi, hd, enet のように)
<code class="literal">devalias</code> を用意しています。 PCI カードのメーカーはそういうことが
できません。 Open Firmware が使うデバイスのパスは、カードの機種と
それが挿さっている PCI スロットの位置によって異なります。お使いの PCI
カードのパスを調べて、それを使うよう Open
Firmware に伝える必要があります。</p>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
    <p>Open Firmware プロンプト (the <code class="literal">0 &gt;</code>
    プロンプト) に入る; <a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>参照。</p>
  </li>
<li class="listitem">
    <p>Open Firmware に触るのはこれが初めてという方は、
    <a class="xref" href="#ofw-use" title="Open Firmware プロンプトで何ができるか?">the section called “Open Firmware プロンプトで何ができるか?”</a>を読んでおくといいかもしれません。</p>
  </li>
<li class="listitem">
    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev / ls</code></strong></pre>

    <p>これで、お使いのシステムの全デバイスの一覧が表示されます。
    お使いの PCI カードに合致する項目を探します。たとえば、 
    Adaptec 2930 SCSI インターフェースを持つ PowerMacintosh G3 (Blue and White)
    での一覧を、以下に抜粋します:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev /</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>ls</code></strong>
  [...]
FF8313F0: /pci@F2000000
  [...]
FF83F8A0:   /pci-bridge@D
  [...]
FF83F90D:     /ADPT,2930@3
 ok</pre>

    <p>おおむね、 Open Firmware 対応のカードでは、
    ベンダー名に似た 4 文字のベンダー ID (ATI では <code class="literal">ATY</code>、 IMS では
    <code class="literal">IMS</code>、 Adaptec では <code class="literal">ADPT</code> というように) が表示され、
    また、文字列でカードの機種を表します。
    "@" 記号は、カード名とそのコンピューターでのアドレスを区切っています。</p>

    <p>ここで、 <code class="literal">/ADPT,2930@3</code> の項目が <code class="literal">/pci-bridge@D</code>
    よりも字下げされ、その <code class="literal">/pci-bridge@D</code> は <code class="literal">/pci@F2000000</code>
    よりも字下げされていることに注意してください。これは、 <code class="literal">pci</code>
    デバイスが <code class="literal">pci-bridge</code> デバイスを、また、 <code class="literal">pci-bridge</code>
    デバイスが <code class="literal">ADPT,2930</code> デバイスを含んでいることを意味しています。</p>
  </li>
<li class="listitem">
    <p>よって、このカードの Open Firmware デバイスツリー上のパスは
    <code class="literal">/pci/pci-bridge@D/ADPT,2930@3</code> です。ここで、このカードが本当に
    Open Firmware に対応しているかどうか確認するため、以下のようにタイプしてください:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev /pci/pci-bridge@D/ADPT,2930@3</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>words</code></strong></pre>

    <p>出力された中に "<code class="literal">open</code>" という単語があれば、
    そのカードが使える可能性はかなり高いです。</p>
  </li>
<li class="listitem">
    <p>さらに運がよいと、 <code class="literal">show-children</code> という単語が出ます。
    そうでない場合は、ブートしようとしているドライブの SCSI ID を調べる必要が
    あります。 SCSI ID は、 <code class="literal">/@N</code> (<code class="literal">N</code> は SCSI ID) という形で、
    デバイスのパスに付加されます。</p>
  </li>
<li class="listitem">
    <p>次に、パーティション番号とブートローダーのファイル名を指定することが
    できるように、どういうブート方法を使っているのか理解しておく必要があります。
    通常、 Open Firmware 1.0.5、 2.0.x、 2.4 のシステムでは "partition zero"
    ブートローダーを使います。よって <code class="literal">:0</code> がパスに付きます。 Open Firmware 3
    のシステムでは HFS パーティション (大抵は 9 かそれより上) から <code class="literal">ofwboot.xcf</code>
    をロードします。よって、パスには <code class="literal">:9,\ofwboot.xcf</code> のように付けます。 NetBSD
    の <a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を使って、
    パーティションマップのリストを出して見てください。</p>
  </li>
<li class="listitem">
    <p>さて、 <code class="literal">ofwboot.xcf</code> が Adaptec 2930 カードに接続された SCSI ID 5
    のドライブの 9 番目のパーティションにあるようなハードドライブを、
    PowerMacintosh G3 (Blue and White) で Open Firmware の <code class="literal">boot-device</code>
    として設定する場合には、次のようにすることになります:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv boot-device /pci/pci-bridge@D/ADPT,2930@3/@5:9,\ofwboot.xcf</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

    <p>一部の G3 モデルでは Apple 53c875 Ultra Wide SCSI ホストアダプター
    を持っています。 SCSI ID 0 のドライブからブートするには、 <code class="literal">boot-device</code>
    を以下のように設定します:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv boot-device /pci/Apple53C875Card/sd@0:0</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>
  </li>
</ol></div>

<div class="note" title="Adaptec 2940 シリーズの SCSI カードに関する注意" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Adaptec 2940 シリーズの SCSI カードに関する注意</h3>
  

  <p>このシリーズの
  SCSI カードのファームウェアには三つのバージョンがあります。このカードを
  PowerMacintosh 7300 から 9600 で使う場合、このカードは Open Firmware からの
  ブートには使えません。より詳しい情報は、<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/04/27/0000.html" target="_top">この
  投稿記事</a>を参照してください。</p>
</div>


<h4 class="title">
<a name="boot-net"></a>netboot の設定は ? (<a href="#booting">top</a>)
  </h4>

<p><a class="ulink" href="../../docs/network/netboot/" target="_top">Diskless
NetBSD HOW-TO</a> を見てください。</p>

<p>Mitchell Spector も、簡単な<a class="ulink" href="http://www.enchantedlearning.com/tech/netbsd_imac.shtml" target="_top">iMac 向け
netboot 情報</a>を含んだページを作っています。</p>


<h4 class="title">
<a name="cdr-image"></a>NetBSD/macppc の公式 ISO イメージはどこにありますか? (<a href="#booting">top</a>)
  </h4>

<p>最寄りの <a class="ulink" href="../../mirrors/#iso" target="_top">NetBSD
ダウンロードサイト</a>を探して、イメージをダウンロードし、
CD-R に焼いてください。</p>

<p><a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/macppc/INSTALL.html" target="_top">
NetBSD/macppc 5.1 インストールノート</a>の
"Creating the NetBSD/macppc CD-R" の節を見てください。</p>


<h4 class="title">
<a name="bootx"></a>Linux の BootX ユーティリティーは NetBSD/macppc のブートに使えますか ? (<a href="#booting">top</a>)
  </h4>

<p>いいえ。ですが、 BootX のメンテナーは、
誰かが NetBSD 用のパッチを書けば取り込むと言っています。 (<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/1999/03/12/0002.html" target="_top">port-macppc
メーリングリストのアーカイブ</a>を見てください。)</p>

<p>これは、
Darwin の BootX ブートローダーとは全くの別物ですので注意してください。</p>


<h4 class="title">
<a name="yaboot"></a>Linux の yaboot ブートローダーは NetBSD/macppc のブートに使えますか ? (<a href="#booting">top</a>)
  </h4>

<p>はい。ただし、すこしコツが必要です。Yaboot 自体は
BSD システムをブートする仕組みを持っていますが、残念ながら
(少なくとも NetBSD に対しては) 正しく動作しません。ただし、
わずかな手作業で動作するので、この機能を使ってブートさせることができます。</p>

<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
    <p>Linux システムに附属している Yaboot の設定ファイル
    <code class="filename">/etc/yaboot.conf</code> を編集し、
    NetBSD パーティションを指す <code class="literal">bsd</code> 行を追加します。
    たとえば <code class="literal">bsd=/dev/hda4</code> とします。</p>
  </li>
<li class="listitem">
    <p><span class="command"><strong>ybin</strong></span> を実行して、Yaboot のパーティションに
    Open Firmware のブートスクリプトを再生成します。</p>
  </li>
<li class="listitem">
    <p>Yaboot のパーティションをマウントします。たとえば以下のようにします。</p>

    <pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code>mount -t hfs /dev/hda2 /mnt</code></strong></pre>
  </li>
<li class="listitem">
    <p>今マウントしたパーティション (たとえば 
    <code class="filename">/mnt/ofboot.b</code>) にある
    <code class="filename">ofboot.b</code> スクリプトを編集します。
    <code class="literal">:bootybsd</code> で始まる行を探します。
    この行には、インストールされている NetBSD を起動するために必要なコマンドを書くようになっており、
    これを動作させるために、このコマンドを修正する必要があります。
    つまり、この行を編集して、あなたが通常 Open Firmware から NetBSD
    をブートするときに使うコマンドを書くのです。一例を示します。</p>

    <pre class="programlisting">:bootybsd " Booting BSD..." .printf 100 ms load-base release-load-area " hd:2,ofwboot hd:5/netbsd" $boot ;</pre>
  </li>
<li class="listitem">
    <p>Yaboot パーティションをアンマウントします。これで終わりです。</p>
  </li>
</ol></div>

<p>なお、<span class="command"><strong>ybin</strong></span> を再実行しないよう注意してください。
さもないと、変更が失われます。そうなった場合は、
スクリプトを設定しなおす必要があります。(もちろん、よりよい解決策は、
Yaboot が NetBSD を正しく動かせるようにすることですが……)</p>


<h4 class="title">
<a name="bootx-darwin"></a>Darwin/Mac OS X の BootX ブートローダーは NetBSD/macppc
のブートに使えますか ? (<a href="#booting">top</a>)
  </h4>

<p>いいえ。ですが、 Darwin の BootX は Open Firmware を使うため、 NetBSD/macppc
への移植は linuxppc の BootX より簡単なはずです。</p>

<p>この作業に関心のある方は、 BootX のソースコードの入手について、
<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2000/12/12/0003.html" target="_top">
この投稿</a>を参照してください。</p>

<p>このリポジトリーには、 System Disk に含まれるパッチをもとにした、
Open Firmware 2.4 以前なマシン用の nvram パッチも含まれています。</p>


<h4 class="title">
<a name="ofw-boot-keys"></a>ほかに、ブートシーケンスを変更する特殊なキーはありますか ? (<a href="#booting">top</a>)
  </h4>

<p>よく知られた、 PRAM をクリアするための Command-Option-P-R (これは
Open Firmware の設定も消します) や、
若干知名度が劣る、最初のブートデバイスからブートするための
Command-Option-Shift-Delete のほか、
いくつかの機種では次のようなキーが有効です。
内蔵 CD-ROM ドライブからブートする "C" 、
ネットブートする "N" 、内蔵 Zip ドライブからブートする "Z" 、
デフォルトのブートデバイスを無視して強制的に内蔵ディスクからブートする "D" 。
(これらは Apple の文献で "snag keys" として参照されています。)</p>

<p>実際には、これらはそれぞれ Open Firmware のデバイスの別名
"cd", "enet", "zip", "hd" を使っているので、デバイスの別名を変えると
これらのキーの効果も変わります。機種によっては使えないキーもあります。</p>

<hr>
<h3 class="title">ブートの問題</h3>
<h4 class="title">
<a name="common-of-probs"></a>Open Firmware のブートでのありがちな問題 (<a href="#booting-problems">top</a>)
  </h4>

<p>Open Firmware プロンプトに入る方法 (<a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>)、 <code class="literal">CLAIM failed</code> (<a class="xref" href="#ofw-claim-failed" title="CLAIM failed">the section called “<code class="literal">CLAIM failed</code>”</a>), <code class="literal">DEFAULT CATCH!</code> (<a class="xref" href="#default-catch" title="DEFAULT CATCH!">the section called “<code class="literal">DEFAULT CATCH!</code>”</a>), <code class="literal">can't OPEN</code> (<a class="xref" href="#cant-open" title="can't OPEN">the section called “<code class="literal">can't OPEN</code>”</a>), <code class="literal">unrecognized Client Program</code>
(<a class="xref" href="#formatstate-not-valid" title="unrecognized Client Program formatstate not valid">the section called “<code class="literal">unrecognized Client Program formatstate not
valid</code>”</a>), <code class="literal">bad partition
number</code> (<a class="xref" href="#bad-partition" title="bad partition number, using 0no bootable HFS partition">the section called “<code class="literal">bad partition number, using 0no bootable HFS
partition</code>”</a>),
ハードドライブが動き出すのが遅い (<a class="xref" href="#drive-spinup" title="Open Firmware がブートを開始しようする段階で、 まだハードドライブが動いていません。">the section called “Open Firmware がブートを開始しようする段階で、
まだハードドライブが動いていません。”</a>)、
<code class="literal">real-base</code> (<a class="xref" href="#ofw-real-base" title='"real-base" の設定の問題'>the section called “"real-base" の設定の問題”</a>) の情報を見てください。</p>


<h4 class="title">
<a name="netboot-probs"></a>netboot でありがちな問題 (<a href="#booting-problems">top</a>)
  </h4>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>boot enet:,ofwboot.xcf </code></strong>BOOTP failed
 can't OPEN enet:
 ok</pre>

    <p>BOOTP または DHCP サーバーがクライアントの要求に反応していません。サーバーが
    動作しているか、サーバーが同じイーサネットサブネット上にあるか、また、クライアントが
    適切なイーサネットハードウェア (MAC) アドレスであるかどうか確認してみてください。
    下記の出力結果から <code class="literal">local-mac-address</code> を探してください:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>dev enet</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>.properties</code></strong></pre>
  </li>
<li class="listitem">
    <pre class="programlisting">TFTP timeout</pre>

    <p>サーバーの TFTP サーバーが動作していないか、または Open Firmware 1.0.5
    の機種でブートローダーの位置を指定しなかったかのいずれかです。
    残念ながら、初期の機種では、たとえ bootp または DHCP サーバーが適切な情報を
    提供してくれていても、明示的に <code class="literal">boot-device</code> からロードしない限り、
    <code class="literal">ofwboot.xcf</code> が混乱してしまい、正しく動作しません。
    以下のようなコマンドを使ってブートする必要があります:</p>

    <pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>boot enet:,ofwboot.xcf</code></strong></pre>
  </li>
<li class="listitem">
    <pre class="programlisting">enet:,/netbsd.ram.gz: Inappropriate file type or format</pre>

    <p>一部のシステムでは、イーサネット経由でブートする場合、圧縮された
    カーネルをロードできません。ネットブートしようとする前に <code class="literal">gunzip(1)</code>
    を使ってカーネルを伸長してください。</p>
  </li>
</ul></div>


<h4 class="title">
<a name="ofw-claim-failed"></a><code class="literal">CLAIM failed</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>これは Open Firmware がメモリーの割り当てに失敗したか、
またはメモリーに問題があるときに出る一般的なメッセージです。</p>

<p>まずは、<code class="literal">load-base</code> が適切に設定されているか確認してください。
<a class="xref" href="#ofw-load-base" title='"load-base" の設定の問題'>the section called “"load-base" の設定の問題”</a> を参照してください。</p>

<p>システムをリセットし、別のブートコマンドを使ってみてください
(これが、 Open Firmware 2.4 のシステムで動作させる唯一の方法だった、
という人もいます):</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>0 bootr boot-device boot-file</code></strong></pre>

<p>一度 boot コマンドを試したがうまくいかず、再度おこなったときに
<code class="literal">CLAIM failed</code> メッセージが出たのであれば、これは一旦リブート
(Open Firmware コマンドは "reset-all") すべきであるとの指示です。</p>

<p>一方、 Open Firmware のバージョンが 1.0.5 か 2.0.x のマシンでは、このエラーは
ときどきランダムに現れます。かまわずに boot コマンドを試してみてもよいでしょう
(いくつかの機種では、これで動作することが知られています) 。</p>

<p>オンボードビデオとキーボードを使ってはブートできない
<a class="ulink" href="models.html#no.ofw.fb" target="_top">機種</a>もあります。
シリアルコンソール (<a class="xref" href="#ofw-input-output-devices-ofwpre3-serial" title="Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合">the section called “Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合”</a>参照) を使ってみてください。</p>


<h4 class="title">
<a name="default-catch"></a><code class="literal">DEFAULT CATCH!</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>これは、 Open Firmware がファイルのロードに問題があったことを知らせる
一般的なメッセージです。</p>

<p>Open Firmware のバージョンが 1.0.5 か 2.X のマシンでは、このエラーは
ときどきランダムに現れます。かまわずに boot コマンドを試してみてもよいでしょう
(いくつかの機種では、これで動作することが知られています) 。
また、フロッピーディスクに問題があるか、フロッピードライブに問題があることを
表してもいます。フロッピーをローレベルフォーマットしてファイルをコピーし直し、
再度試してみてください。</p>

<p>オンボードビデオとキーボードを使ってはブートできない
<a class="ulink" href="models.html#no.ofw.fb" target="_top">機種</a>もあります。
シリアルコンソール (<a class="xref" href="#ofw-input-output-devices-ofwpre3-serial" title="Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合">the section called “Open Firmware 1.0.5、 2.0.x、 2.4 で、シリアルコンソールを使う場合”</a>参照) を使ってみてください。</p>


<h4 class="title">
<a name="cant-open"></a><code class="literal">can't OPEN</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>Open Firmware は、指定されたデバイス (それがそもそも存在しなかったり、
デバイスのパスの打ち間違いなどによって) や指定されたファイルを
オープンできていません。
打鍵を確認し、また、指定したファイルがメディア上にあるか確認してください。</p>

<p>NetBSD の <a class="ulink" href="partitioning.html#pdisk" target="_top">pdisk</a> を使って
パーティションマップの一覧を出し、 Open Firmware の
<code class="literal">dir</code> コマンド (<a class="xref" href="#ofw-dir-listing" title="ディスク上のファイルのリストを (Open Firmware で) 出す方法は?">the section called “ディスク上のファイルのリストを (Open Firmware で)
出す方法は?”</a>参照) を使って
そのパーティションにあるファイルの一覧を出してみてください。</p>


<h4 class="title">
<a name="formatstate-not-valid"></a><code class="literal">unrecognized Client Program formatstate not
valid</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>これは Open Firmware の一般的なエラーメッセージで、オープンしようとしている
ファイルが存在しないか、あるいはファイルが正しくないフォーマットであることを
表しています。
Open Firmware 1 や 2 の機種では、ファイルは (<code class="literal">ofwboot.xcf</code> のような)
XCOFF ファイルでなければなりませんし、
Open Firmware 3 の機種では、ファイルは XCOFF か (カーネルのような) ELF
でなければなりません。</p>


<h4 class="title">
<a name="bad-partition"></a><code class="literal">bad partition number, using 0no bootable HFS
partition</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>これは、 Open Firmware 1.x や 2.0.x の機種で、 HFS ファイルシステムを持つ
デバイス (ハイブリッド CD-R や Mac OS パーティションのあるハードドライブなど)
からブートしようとしているためです。</p>


<h4 class="title">
<a name="ofw-read-timeout"></a><code class="literal">READ TIMEOUT@</code> (<a href="#booting-problems">top</a>)
  </h4>

<p>Open Firmware がフロッピーディスクを読むところで問題が起きています。
以下を試してみてください:</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
    <p>そのフロッピーで再度ブートを試みる。</p>
  </li>
<li class="listitem">
    <p>別のフロッピーディスクで試してみる。</p>
  </li>
<li class="listitem">
    <p>フロッピーへの書き込みを、
    ブートしようとしているのと同じマシンで行なってみる。</p>
  </li>
<li class="listitem">
    <p>フロッピードライブを掃除する。</p>
  </li>
<li class="listitem">
    <p>別のブート方法を使う。</p>
  </li>
</ul></div>


<h4 class="title">
<a name="drive-spinup"></a>Open Firmware がブートを開始しようする段階で、
まだハードドライブが動いていません。 (<a href="#booting-problems">top</a>)
  </h4>

<p>ブートする前に (ハードドライブが動くまで) 待つようにするためには、
以下の Open Firmware 変数をセットします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv boot-command catch 5000 ms boot</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<p>ブートしようとするまでにドライブが回転していない場合は、
ドライブが自動で回転するようにハードドライブのジャンパーを変更する必要が
あるかもしれません。ほとんどのドライブ製造元は、ジャンパー設定の
オンラインマニュアルを用意しています。</p>

<p>これ以外の方法としては、 <code class="literal">boot-command</code>
変数と nvramrc パッチの二つがあります。</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code>setenv <strong class="userinput"><code>boot-command begin ['] boot catch 999 ms cr again</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>

<p>この 1 行コマンドによる方法は、いくつかの初期の Open Firmware 1.0.5
の機種には通用しないという報告があります。</p>

<p>このほか、<a class="ulink" href="../../../ports/macppc/SystemDisk-tutorial/of105patch2.txt" target="_top">以下のパッチ</a>を
nvramrc に追加するという方法もあります:</p>

<pre class="programlisting">: wBoot
begin
 boot-device ['] $boot catch drop
 ." -Waiting for boot-device" cr
 d# 500 ms
key? until
;</pre>

<p>追加後、 <code class="literal">nvstore</code> を実行します。
nvramrc へのパッチ適用についてより詳しくは <a class="ulink" href="nvedit.html" target="_top">NetBSD/macppc nvedit HOW-TO</a>
を見てください。さらに、ブートコマンドの変更を
指示しなければなりません。 OF プロンプトで次のようにタイプします:</p>

<pre class="programlisting"><code class="prompt">0 &gt; </code><strong class="userinput"><code>setenv boot-command wBoot</code></strong>
<code class="prompt">0 &gt; </code><strong class="userinput"><code>reset-all</code></strong></pre>


<h4 class="title">
<a name="grey-screen"></a>ブートしようとすると、画面がグレーになって真中にアイコンがあるようになるのはなぜですか? (<a href="#booting-problems">top</a>)
  </h4>

<p>これは、システムが Mac OS をブートしようとしていることを意味します。
このような状況は、適切に Open Firmware に入っていない (<a class="xref" href="#ofw-access" title="Open Firmware プロンプトに入る方法は?">the section called “Open Firmware プロンプトに入る方法は?”</a>参照) か、
Open Firmware の boot コマンドが正しくない場合に起こりえます。</p>

<p>間違った <code class="literal">boot</code> コマンドを打った場合、 Open Firmware は
<code class="literal">boot-device</code> 変数値をもとにブートしようとしますが、これのデフォルト値は
Mac OS ROM です。これについての助言が必要なら、<a class="xref" href="#ofw-variables" title="関連する Open Firmware の変数">the section called “関連する Open Firmware の変数”</a>の情報を見てください。</p>

<p>アイコン付きのグレーの画面は、 Mac OS ROM によるものです。
点滅するクエスチョンマークまたは壊れたフォルダーは、マシンがブート可能な
Mac OS のファイルシステムを探しているが見付からないことを意味します。
地球のアイコンは、マシンがネットブートサーバーを探していることを意味します。
ニコニコ顔は Mac OS をブートしようとしていることを意味します。</p>

<p>ブートフロッピーはブート可能な Mac OS ファイルシステムは持っておらず、
ブート可能な NetBSD のファイルシステムを持っています。</p>

<p>リブートして Open Firmware に入り直し、
コマンドをよく確認してください。</p>


<h4 class="title">
<a name="black-lcd"></a>ブートの間、画面が真っ暗になってしまうのはなぜですか ? (<a href="#booting-problems">top</a>)
  </h4>

<p>バグです。 NetBSD カーネルはバックライトを消してしまいます。
回避するため、 PowerBook の画面の明るさを上げてください。</p>

<p>もし PowerBook を使っているのでなければ、<a class="xref" href="#ofw-boot-serial" title="Open Firmware に入ろうとすると、ブートが止まり、 モニターに何も表示されなくなります。">the section called “Open Firmware に入ろうとすると、ブートが止まり、
モニターに何も表示されなくなります。”</a>を見てください。</p>


<h4 class="title">
<a name="nodisk"></a>ディスクはどこに行った? (あるいは、 sysinst が <code class="literal">I can not find any
hard disks for use by NetBSD</code> と言う) (<a href="#booting-problems">top</a>)
  </h4>

<p>うむ、よい質問です!</p>

<p>おおもとの原因は、 NetBSD がハードドライブを見つけなかったことです
(より内部的にいえば、ドライブコントローラーを見つけなかったということです) 。
これが起きる原因は、さまざまです。まず最初に、 NetBSD がIDE コントローラー
を見つけているか確認してください (スクロールしてゆくブートメッセージ中に、
<code class="literal">wdc0</code> (IDE の場合) または <code class="literal">scsibus0</code> (SCSI の場合)
を含む行があるはずです) 。もし、それも見つけていなければ、お使いのドライブバス
をサポートした別のカーネルを使う必要があるでしょう。<a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
に投稿して助言を求めてください。</p>

<p>ここで、ちょっとした問題を排除 (ドライブの接続、電源、ジャンパーが正しく
セットされているか確認) してください。 Mac OS でドライブが動作するか確認してください。</p>

<p>それでも NetBSD がディスクを見つけられず、それが SCSI ディスクの場合、
終端抵抗を確認してください。たとえ Mac OS では使えていても、 NetBSD は SCSI
バスのタイミングに関して Mac OS より厳格かもしれません。</p>

<p>IDE ドライブの場合、あなたのシステムは PowerMacintosh G3 (青白) かそれ以前の
ものかもしれません。 B&amp;W システムまでは、 Apple は IDE に関する問題すべてを
完全に除去してはいませんでした。多くの人々が、 NetBSD のドライブを別の IDE
バスにつなぎ、かつ/または、そのドライブをマスターにする
(CD-ROM はスレーブにする) 必要があると報告しています。</p>

<p>残念ながら、お使いの OS すべてが動作する正しい構成を見つけるため、
いろいろ試す必要があるかもしれません。 Open Firmware 3 を持たない
システムはいずれも、スレーブデバイスからはブートできない (Open Firmware
の制限) ということを覚えておいてください。</p>

<p>Chris Tribo は初期の G3 モデルのよい分析と、その制限/特徴について
投稿しています。彼の<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/07/26/0019.html" target="_top">記事</a>を見てください。
また、このトピックに関する Apple の <a class="ulink" href="http://docs.info.apple.com/article.html?artnum=24342" target="_top">Power Macintosh
G3 and G4: IDE Master and Slave Support and Configuration</a> の
記事も見てください。</p>

<p>このほか、初期の NetBSD リリース版には、ディスク関係の問題が若干あります。
<a class="ulink" href="oldfaq.html#old-nodisk" target="_top">過去の
FAQ</a>をご覧ください。</p>

<hr>
<h3 class="title">その他もろもろ</h3>
<h4 class="title">
<a name="moved"></a>この FAQ 項目は移転しました (<a href="#misc">top</a>)
  </h4>

<a name="cannot-allocate-vm-panic"></a>
<a name="wdc-lost-interrupt"></a>
<a name="pciide-lost-interrupt"></a>
<a name="mesh-fifo"></a>
<a name="bm0-device-timeouts"></a>
<a name="usb-keyboard-problems"></a>
<a name="power-off"></a>
<a name="pb418"></a>

<p>1.6 リリースより前の NetBSD バージョンでの問題に関する FAQ 項目は、
<a class="ulink" href="oldfaq.html" target="_top">過去の
FAQ</a> へ移転しました。</p>


<h4 class="title">
<a name="lang-kbd"></a>別のキーボード配列を使う方法は? (<a href="#misc">top</a>)
  </h4>

<p>キーボードを US 以外の言語や、 Dvorak 等の異なる配列に設定する方法の説明は、<a class="ulink" href="../../../docs/guide/en/chap-cons.html#chap-cons-wscons" target="_top">WSCONS
ドキュメンテーション</a>を参照してください。 X の場合は、 Hauke Fath の
<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/12/05/0001.html" target="_top">記事</a>を参照してください。
また、<a class="xref" href="#no-swapctrlcaps" title='なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps" がないんですか?'>the section called “なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps"
がないんですか?”</a>も参照してください。</p>


<h4 class="title">
<a name="linux"></a>NetBSD/macppc で MkLinux や LinuxPPC のバイナリーが動きますか ? (<a href="#misc">top</a>)
  </h4>

<p>はい。PowerPC ポート向け Linux バイナリー互換機能が
ありますが、デフォルトでは有効になっていません。
<code class="literal">options COMPAT_LINUX</code> のコメントを外して
<a class="ulink" href="../../docs/kernel/#how_to_build_a_kernel" target="_top">カーネルを再構築</a>
する必要があります。<a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/www/communicator/README.html" target="_top">
Netscape Communicator</a>, <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/lang/blackdown-jdk13/README.html" target="_top">Blackdown's
JDK-1.3.0</a>, や <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/graphics/blender/README.html" target="_top">Blender</a> といったアプリケーションの動作が報告されています。
これらのプログラムはすべて <a class="ulink" href="http://www.NetBSD.org/docs/software/packages.html" target="_top"> NetBSD
パッケージコレクション</a>に含まれています。</p>

<p>問題のあるバイナリーとしては: <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/www/opera/README.html" target="_top">Opera</a>
は初回の起動時にはクラッシュします。二回目の起動時に、 advanced settings
ダイアログに入って "asynchronous DNS" チェックを外せば、問題なく動作
するはずです。</p>

<p>JDK がしっかり動作することは、特筆に値するかもしれません。<a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/www/cocoon/README.html" target="_top">Cocoon</a>
のような Java アプリケーションは問題なく動作すると
報告されています。</p>


<h4 class="title">
<a name="macos"></a>NetBSD/macppc で Mac OS のバイナリーが動きますか ? (<a href="#misc">top</a>)
  </h4>

<p>いずれ誰かが <a class="ulink" href="http://www.maconlinux.org/" target="_top">Mac-on-linux</a>
(LinuxPPC 用) を動かすかもしれません。それまでは、 68k Mac をエミュレートする
<a href="ftp://ftp.NetBSD.org/pub/pkgsrc/current/pkgsrc/emulators/BasiliskII/README.html" target="_top"><code class="filename">emulators/BasiliskII</code></a> や <a class="ulink" href="http://www.vmac.org" target="_top">VMac</a>
を使ってみてください。</p>


<h4 class="title">
<a name="macosx"></a>NetBSD/macppc で Darwin/Mac OS X のバイナリーが動きますか ? (<a href="#misc">top</a>)
  </h4>

<p>そういう取り組みは過去にありましたが、すでに放棄されています。
詳細は <a class="ulink" href="http://hcpnet.free.fr/applebsd.html" target="_top">
Mach and Darwin binary compatibility page</a> をご覧ください。</p>


<h4 class="title">
<a name="keys"></a>いくつかのキーボードアイコンについて (<a href="#misc">top</a>)
  </h4>

<p>Apple はキーボードに特別なキーを用意しており、
(特に US キーボード以外では) 混乱する人がいるかもしれません。</p>

<p>
<span class="inlinemediaobject"><img src="../../../images/ports/macppc/icon-command.gif" alt="[Mac Command]"></span>
印の付いたキーは、普通、 "Command" キーとして参照されます。
キーボードによっては、コマンドキーに "open apple" (
<span class="inlinemediaobject"><img src="../../../images/ports/macppc/icon-open-apple.gif" alt="[Mac Open Apple]"></span>) 印も付いています。</p>

<p>US キーボード以外では、 US キーボードで "option" キーとして印のあるキーに
<span class="inlinemediaobject"><img src="../../../images/ports/macppc/icon-option.gif" alt="[Mac Option]"></span>
印の付いたキーがあります。</p>

<p>しばしば、 Mac のドキュメントでは、 "C-O-p-r" などを押すよう指示しています。
これは、 command キーと option キーを "p" と "r" とともに押すことを
意味しています。</p>


<h4 class="title">
<a name="german-kbd-at"></a>ドイツ語 ADB キーボード上で、アットマーク (@) はどこ? (<a href="#misc">top</a>)
  </h4>

<p>Mac OS では Shift-Alt-1、
Open Firmware では Shift-Alt-2 です。</p>


<h4 class="title">
<a name="adb-short"></a>ADB キーボードを使わずにシステムをブートする方法は? (<a href="#misc">top</a>)
  </h4>

<p>あなたがシリアルコンソールを使っていて、 ADB キーボードがなく、また、
電源スイッチ本体のある後部 (でなくてもどこでもいいですけど)
に手を伸ばしたくない場合、ハードウェアに細工して、コンピューターに
ADB キーボードの "power" キーを再現することができます。
すべての Mac には、本当の電源スイッチ (ソフトまたはハード電源) がありますが、
見えないようになっているかもしれません。
この細工をすると保証は無効になりますので、私たちは責任を持てません。
このトピックに関する Chris Tribo によるメーリングリストの
<a class="ulink" href="http://mail-index.NetBSD.org/port-macppc/2001/06/09/0002.html" target="_top">記事</a>
を参照してください。</p>


<h4 class="title">
<a name="no-swapctrlcaps"></a>なぜ wscons に ADB キーボード用のマッピング "us.swapctrlcaps"
がないんですか? (<a href="#misc">top</a>)
  </h4>

<p>ADB キーボードはメカニカルロックキーをエミュレートしており、そのことが
wscons にとって問題を難しくしています。caps lock キーをコントロールキーとして扱うには、
カーネルを <code class="literal">options CAPS_IS_CONTROL</code> つきで構築してください。</p>


<h4 class="title">
<a name="keyboard-ddb"></a>コンソールから DDB に入る方法は? (<a href="#misc">top</a>)
  </h4>

<p>ADB キーボードで <code class="literal">command-option-power</code> を同時に押します。</p>

</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
