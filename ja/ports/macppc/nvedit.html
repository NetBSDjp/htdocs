<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/macppc/." title="NetBSD/macppc">
<link rel="previous" href="../../../ja/ports/macppc/models.html" title="NetBSD/macppc 対応機種">
<link rel="next" href="../../../ja/ports/macppc/partitioning.html" title="NetBSD/macppc パーティショニング HOW-TO">
<link rel="first" href="../../../ja/ports/macppc/faq.html" title="NetBSD/macppc よくある質問">
<link rel="last" href="../../../ja/ports/macppc/oldfaq.html" title="NetBSD/macppc 過去のよくある質問">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD/macppc nvedit HOW-TO</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-ports-macppc-nvedit"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch"><form method="get" action="http://www.google.com/custom">
<input class="whiteOnBlack" type="text" name="q" onfocus="if(this.value==this.defaultValue ) this.value='';" size="12" maxlength="255" value="Search"><input type="hidden" name="cof" value="L:http://www.NetBSD.org/images/NetBSD-smaller.png;LH:200;LW:200;AH:center;AWFID:4f6b0499f0f58d2c;"><input type="hidden" name="domains" value="NetBSD.org"><input type="hidden" name="sitesearch" value="www.NetBSD.org"><input type="submit" value="検索">
</form></div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/macppc nvedit HOW-TO</h1>
<div class="sect1" title="はじめに">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="intro"></a>はじめに</h2></div></div></div>
  

  <p>
    このページは、 Open Firmware NVRAMRC の内容を編集するために必要なコマンド
    についての、簡単な入門です。 NVRAMRC は、システムのリブートのたびに実行される、
    永久に保持されるファイルです。通常、これは、ブート時のシステムの挙動を
    修正するための FORTH コマンド群を含んでいます。 NVRAMRC
    の内容の書き方について、さらなる情報は、
    <a class="ulink" href="http://docs.info.apple.com/article.html?artnum=60285" target="_top">Apple
    Network Server 500,700: Open Firmware Read Me</a> Technote
    がよい出発点となります。
  </p>

  <p>
    この NVRAMRC に影響を与えるコマンド群が Open Firmware に含まれます。
    このコマンドは、 Open Firmware プロンプト (つまり、 <code class="code">0 &gt;</code>
    というプロンプト) から入力されます。 Open Firmware 設定すべてについて、
    設定の変更後は、 <span class="command"><strong>reset-all</strong></span> コマンドを使ってマシンをリセット
    することをおすすめします。
  </p>

  <p>
    NVRAMRC の修正は、 FORTH の文法が<span class="emphasis"><em>非常に</em></span>厳格である (特に
    スペースの有無について) ため、かなり煩わしいものです。
    必要なパッチを適用するためだけに、一時的にシリアルコンソールを
    使うようにするのがよいかもしれません。
  </p>
</div>
<div class="sect1" title="コマンド">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="commands"></a>コマンド</h2></div></div></div>
  
  
  <div class="informaltable">
  <table border="1">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td><code class="code">nvedit</code></td>
<td>現在の nvramrc の内容の編集を開始します。一時的な
	バッファーにファイルが残されている場合には、そのファイルの編集を
	再開します。そうでなければ、 NVRAMRC の内容を一時的なバッファーに
      コピーして、それの編集を開始します。 </td>
</tr>
<tr>
<td><code class="code">nvstore</code></td>
<td>一時的な nvram バッファーの内容を NVRAMRC に保存したうえで、
      一時的なバッファーの内容を破棄します</td>
</tr>
<tr>
<td><code class="code">nvquit</code></td>
<td>一時的な nvramrc バッファーの内容を、
      NVRAMRC に書き込まずに破棄します</td>
</tr>
<tr>
<td><code class="code">nvrun</code></td>
<td>一時的な nvram バッファーの内容を実行します</td>
</tr>
<tr>
<td><code class="code">nvalias
      &lt;alias&gt; &lt;device-path-name&gt;</code></td>
<td>
<p>指定したデバイスの別名を定義します (他の devaliases ではなく、
      フルパスを使う必要があります) 、たとえば PowerMacintosh 7300 で</p>
      <pre class="programlisting">nvalias bsd-cd /bandit/gc/mesh/sd@3:0,\OFWBOOT.XCF</pre>
      とすると、 `<code class="code">boot bsd-cd</code>' とタイプすれば
      <code class="code">ofwboot.xcf</code> が CD-ROM ドライブからロードされるように
      なります</td>
</tr>
<tr>
<td><code class="code">nvunalias &lt;alias&gt;</code></td>
<td>デバイスの別名を NVRAMRC から削除します</td>
</tr>
<tr>
<td><code class="code">setenv use-nvramrc? &lt;value&gt;</code></td>
<td>この &lt;value&gt; は、 <code class="code">true</code> か <code class="code">false</code> のいずれかです。
      この環境変数は、マシンのリセットやリブートの都度
      NVRAM の内容を実行するかどうかを定義します</td>
</tr>
</tbody>
</table>
  </div>

  <p>
    <span class="emphasis"><em>注意: 一部の Open Firmware 1.0.5 のシステムでは、 <code class="code">nvalias</code>
    の設定に加えて System Disk のパッチを置けるだけの NVRAM 容量がありません。
    <code class="code">nvalias</code> は保存せずに
    System Disk パッチを保存すべきかもしれません</em></span>。
  </p>
</div>
<div class="sect1" title="nvedit エディター">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="nvedit"></a><code class="code">nvedit</code> エディター</h2></div></div></div>
  

  <p>
    Open Firmware の仕様として、 すべての Open Firmware の実装にはエディターが
    組み込まれています。以下は、このエディターで使われるコマンドです。
    いくつかのコマンドが emacs とよく似ていることに気づく方もいるでしょう。
    ここでは、 <code class="code">C-x</code> という表現を、
    control キーと <code class="code">x</code> キーを同時に押す意味に使います。
  </p>

  <div class="informaltable">
    <table border="1">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td><code class="code">C-l</code></td>
<td>ディスプレーを再描画します</td>
</tr>
<tr>
<td><code class="code">C-k</code></td>
<td>カーソル位置から行末までを消去します</td>
</tr>
<tr>
<td><code class="code">C-n</code></td>
<td>次の行に進みます</td>
</tr>
<tr>
<td><code class="code">C-p</code></td>
<td>前の行に戻ります</td>
</tr>
<tr>
<td><code class="code">C-f</code></td>
<td>一文字進みます</td>
</tr>
<tr>
<td><code class="code">C-b</code></td>
<td>一文字戻ります</td>
</tr>
<tr>
<td><code class="code">C-c</code></td>
<td>
<p>エディターを終了し、編集した内容を一時的なバッファーに保持します</p>
	<span class="emphasis"><em>注意: これは変更を NVRAMRC に保存<span class="bold"><strong>しません</strong></span>、
	<code class="code">nvstore</code> を実行する必要があります</em></span>
</td>
</tr>
</tbody>
</table>
  </div>


  <div class="sect2" title="例">
<div class="titlepage"><div><div><h3 class="title">
<a name="nvedit_example"></a>例</h3></div></div></div>
    
    
    <p>
      以下は、 NVRAMRC のパッチ (Performa 5500 オンボードビデオを使用可能にするためのもの)
      を入力している Open Firmware セッションの例です。
      <code class="code"><span class="bold"><strong>&lt;CR&gt;</strong></span></code> は "return" または "enter" キー、
      <code class="code"><span class="bold"><strong>&lt;C-c&gt;</strong></span></code> は control-c です。
    </p>

<pre class="programlisting">0 &gt; <span class="bold"><strong>nvedit</strong></span>
<span class="bold"><strong>cpoke 0a7 0f3000032
cpoke 093 0f3000033
cpoke 03e 0f300003a</strong></span>
<span class="bold"><strong>&lt;C-c&gt;</strong></span>
0 &gt; <span class="bold"><strong>nvstore</strong></span>
0 &gt; <span class="bold"><strong>setenv use-nvramrc? true</strong></span>
0 &gt; <span class="bold"><strong>reset-all</strong></span>
</pre>
</div>
</div>
<hr>
<em><a href=".">NetBSD/macppc ポートのページ</a></em> に戻る</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2011 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
