<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/macppc/." title="NetBSD/macppc">
<link rel="previous" href="../../../ja/ports/macppc/partitioning.html" title="NetBSD/macppc パーティショニング HOW-TO">
<link rel="next" href="../../../ja/ports/macppc/oldfaq.html" title="NetBSD/macppc 過去のよくある質問">
<link rel="first" href="../../../ja/ports/macppc/faq.html" title="NetBSD/macppc よくある質問">
<link rel="last" href="../../../ja/ports/macppc/oldfaq.html" title="NetBSD/macppc 過去のよくある質問">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD/macppc X11 FAQ</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-ports-macppc-x11"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch"><form method="get" action="http://www.google.com/custom">
<input class="whiteOnBlack" type="text" name="q" onfocus="if(this.value==this.defaultValue ) this.value='';" size="12" maxlength="255" value="Search"><input type="hidden" name="cof" value="L:http://www.NetBSD.org/images/NetBSD-smaller.png;LH:200;LW:200;AH:center;AWFID:4f6b0499f0f58d2c;"><input type="hidden" name="domains" value="NetBSD.org"><input type="hidden" name="sitesearch" value="www.NetBSD.org"><input type="submit" value="検索">
</form></div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/macppc X11 FAQ</h1>
<h2 class="title">NetBSD/macppc X11 FAQ</h2>
<h3 class="title"><a name="general">全般的な質問</a></h3>
<ul>
<li><a href="#which-x">どの X Window System パッケージを使えばよいですか?</a></li>
<li><a href="#delete">delete キーが消去でなくチルダ (~) になるのはなぜ?</a></li>
<li><a href="#root-console">Cannot open kbd/mouse : no such file or directory</a></li>
<li><a href="#mouse-buttons">X で 1 ボタンマウスを使って 3 ボタンマウスをエミュレートする方法は ?</a></li>
</ul>
<h3 class="title"><a name="xfree_questions">XFree86 の質問</a></h3>
<ul>
<li><a href="#xfree-support">XFree86 が使える機種は?</a></li>
<li><a href="#xfconfig">XF86Config ファイルの作り方は ?</a></li>
<li><a href="#insecure">Fatal server error: ppcPciInit: /dev/kmem</a></li>
<li><a href="#xkb">keymap に失敗します。</a></li>
</ul>
<h3 class="title"><a name="xmacppc_questions">Xmacppc の質問</a></h3>
<ul>
<li><a href="#xmacppc-support">どの機種で Xmacppc が動きますか ?</a></li>
<li><a href="#changing-resolution">解像度や色数を変える方法は ?</a></li>
</ul>
<h3 class="title"><a name="otherinfo">他の情報源</a></h3>
<ul>
<li><a href="#nbsd_xdocs">NetBSD ドキュメンテーション: X
Window System</a></li>
<li><a href="#xfree_home">The Xfree86 Project Home Page</a></li>
</ul>
<hr>
<h3 class="title">全般的な質問</h3>
<h4 class="title">
<a name="which-x"></a>どの X Window System パッケージを使えばよいですか? (<a href="#general">top</a>)
  </h4>
<p>
Xmacppc ですか? それとも XFree86 ですか? NetBSD/macppc の xserver.tgz
に含まれ配布されている完全な X Window System サーバーは、二つあります。
</p>
<p>
<a class="ulink" href="#xmacppc-support" target="_top">Xmacppc</a> パッケージは、 Open Firmware によって
セットアップされた raw デバイスを使います。これは機能が非常に限られますが、
NetBSD でサポートしている macppc の機種のほとんどすべてで動きます。
画面解像度の変更や 8 bpp を超える色数の使用はできません。
これは、いかなる種類のアクセラレーションも持っていません。
</p>
<p>
<a class="ulink" href="#xfree-support" target="_top">XFree86</a> パッケージは、
ビデオカードのチップセットに関して自身のもつ知識を使いますが、
(ATI や NVIDIA 製のビデオカードを使っている最近の機種とは対照的に)
Apple 開発のビデオチップセットを持つ古い macppc の機種には
ドライバーがありません。このため、 XFree86 は NetBSD/macppc
対応機種の一部しかサポートしていませんが、より高機能の X サーバーです
-- 解像度切り替えや 8 bpp を超える色数を扱えるほか、
いくらかのアクセラレーションもあります。
</p>
<p>
異なる X サーバーを選ぶためには、 <code class="filename">/usr/X11R6/bin/X</code>
のリンク先をお好みのサーバーに向けてください。</p>
<pre class="programlisting"><code class="prompt">#</code> cd /usr/X11R6/bin
<code class="prompt">#</code> ls -l X*
lrwxr-xr-x  1 root  wheel       22 Nov 12 13:50 X@ -&gt; /usr/X11R6/bin/XFree86
-rws--x--x  1 root  wheel  1918906 Nov 12 13:48 XFree86*
-rws--x--x  1 root  wheel  1506734 Nov 12 13:48 Xmacppc*
-r-xr-xr-x  1 root  wheel    27494 Jun  9  2001 Xmark*
-r-xr-xr-x  1 root  wheel  3518011 Nov 12 13:48 Xnest*
-r-xr-xr-x  1 root  wheel  1914704 Nov 12 13:48 Xprt*
-r-xr-xr-x  1 root  wheel  3832078 Nov 12 13:48 Xvfb*
<code class="prompt">#</code> rm X
<code class="prompt">#</code> ln -s Xmacppc X</pre>


<h4 class="title">
<a name="delete"></a>delete キーが消去でなくチルダ (<code class="code">~</code>) になるのはなぜ? (<a href="#general">top</a>)
  </h4>
<p>
実は、 delete キーは delete エスケープシーケンス (他のすべての VT100
エミュレーターが使っている) ではなく、本来の VT100 の delete
キーを出しています。</p>
<p>
これを変えるには、下記のコマンドを
X サーバーを起動するたびに実行する必要があります:</p>
<pre class="programlisting"><code class="prompt">#</code> xmodmap -e "keycode 59 = BackSpace"</pre>
<p>
もちろん、このコマンドを <code class="filename">xdm/Xsetup_0</code> ファイルや各ユーザーの
<code class="filename">.xinitrc</code> ファイルに書いておいてもかまいません。</p>

<p>
単に xterm をこのようにしたいだけなら、次の 1 行をデフォルト設定として
どこかに書いておきます:</p>
<pre class="programlisting">XTerm*VT100*deleteIsDEL: true</pre>

<p>
これのもっとも一般的な場所は
<code class="filename">/usr/X11R6/lib/X11/app-defaults/XTerm</code> ですが、ここに書くと、
あなたやユーザーが、本来の VT100 delete キーとなっていないリモート
X サーバーで xterm を実行した場合に問題を起こします。
最も無難には、 X をコンソールから使うユーザー全員のホームディレクトリーの
<code class="filename">.Xdefaults</code> ファイルに書いておくことができます。
</p>

<h4 class="title">
<a name="root-console"></a><code class="code">Cannot open kbd/mouse : no such file or directory</code> (<a href="#general">top</a>)
  </h4>
<p>
これは、 root 以外のユーザーが <span class="command"><strong>startx</strong></span> や <span class="command"><strong>xinit</strong></span>
を実行しようとしたときに起こります。 NetBSD/macppc のデフォルトでは、
コンソールデバイスは root だけのものになっています。
xdm などを使ってはどうでしょうか。
xdm は、ユーザーがうまくログインするとパーミッションを変更します。
</p>
<p>
このほか、 <a href="http://netbsd.gw.com/cgi-bin/man-cgi?ttyaction+5+NetBSD-5.1+i386">ttyaction(5)</a> を使って、ユーザーのログイン時にパーミッションを
変えることもできます。たとえば、下記の内容をもつ <code class="filename">/etc/ttyaction</code>
を作ります。</p>
<pre class="programlisting">console * /usr/sbin/chown ${USER} /dev/wskbd0 /dev/wsmouse0
ttyE0   * /usr/sbin/chown ${USER} /dev/wskbd0 /dev/wsmouse0</pre>

<h4 class="title">
<a name="mouse-buttons"></a>X で 1 ボタンマウスを使って 3 ボタンマウスをエミュレートする方法は ? (<a href="#general">top</a>)
  </h4>
<p>
今のところ、キーボードのキーをマウスのキーとして設定することができるだけです。
安価な 3 ボタンマウスを探してみてください。ほとんどの
ADB と USB マウスはサポートされています。</p>
<p>
キーボードのキーをマウスのキーとして割り当てるには、
<span class="command"><strong>xmodmap(1)</strong></span> を使います。
各ユーザーごとのホームディレクトリーに <code class="filename">.xmodmaprc</code> ファイルを作り、
<code class="filename">.xinitrc</code> で `<code class="code">xmodmap .xmodmaprc</code>' を実行するようにします。
<code class="filename">.xmodmaprc</code> の内容は、どのキーをキーボードでのマウスボタンの有効/
無効化に使うか、また、どのキーをマウスをどのボタンに割り当てるか、によって
変わります。たとえば、 Apple Extended Keyboard II で、筆者は次のように
しています:</p>
<pre class="programlisting">keycode  79 = Pointer_EnableKeys
keycode 113 = Pointer_Button1
keycode 115 = Pointer_Button2
keycode 121 = Pointer_Button3</pre>

<p>ここで、 keycode 79 は <span class="quote">“<span class="quote">Num Lock</span>”</span> キー (マウスキーを有効/
無効化する) 、 113、 115、 121 は F13、 F14、 F15 キーです。
</p>
<p>
PowerBook (FireWire) では、筆者は F8 (108) を有効化に、 F10 (117)、 F11
(111)、 F12 (119) をマウスキーとして使っています。</p>
<p>
キーとキーコードの対応を調べるには、
<span class="command"><strong>xev(1)</strong></span>
コマンドを使います。このほか、同様にして <a class="ulink" href="#delete" target="_top">delete キー</a> を <code class="filename">.xmodmaprc</code> に
入れたいと思うかもしれません。</p>
<hr>
<h3 class="title">XFree86 の質問</h3>
<h4 class="title">
<a name="xfree-support"></a>XFree86 が使える機種は? (<a href="#xfree_questions">top</a>)
  </h4>
<p>
サポートされているのは Open Firmware の初期化に対応しているビデオカード
だけです。言いかえれば、最近の機種 (つまり Open Firmware 3) または
サポートされているビデオカード (ATI Rage 128 など) だけということです。</p>
<p>
XFree86 を使うには <code class="filename">XF86Config</code>
ファイルを作る必要があります。</p>

<h4 class="title">
<a name="xfconfig"></a><code class="filename">XF86Config</code> ファイルの作り方は ? (<a href="#xfree_questions">top</a>)
  </h4>
<p>
<span class="command"><strong>xf86config</strong></span> を使ってみてください。あるいは、
<a class="ulink" href="mailto:port-macppc@NetBSD.org" target="_top">port-macppc@NetBSD.org</a>
へ投稿してサンプルを求めてください。</p>

<h4 class="title">
<a name="insecure"></a><code class="code">Fatal server error: ppcPciInit: /dev/kmem</code> (<a href="#xfree_questions">top</a>)
  </h4>
<p>
残念ながら、今のところ XFree86 X サーバーは、通常は root
プログラムだけがアクセス可能とすべき <code class="filename">/dev/kmem</code>
への直接のアクセスを必要とします。下記のようにすることで、
(小さなものとはいえ) セキュリティーホールを作ることになります。</p>
<p>
<code class="code">options INSECURE</code> を指定して <a class="ulink" href="../../docs/kernel/index.html#how_to_build_a_kernel" target="_top">
新たにカーネルをコンパイル</a>する必要があります。これは NetBSD
で配布されているデフォルトの <code class="code">GENERIC</code> カーネルでは有効になっていないからです。</p>

<h4 class="title">
<a name="xkb"></a>keymap に失敗します。 (<a href="#xfree_questions">top</a>)
  </h4>
<p>
XFree86 がキーボードマッピング情報を保持するために、
(root で) 下記のディレクトリーを作る必要があるかもしれません。</p>
<pre class="programlisting"><code class="prompt">#</code> mkdir -p /var/db/xkb;chmod 755 /var/db/xkb</pre>
<hr>
<h3 class="title">Xmacppc の質問</h3>
<h4 class="title">
<a name="xmacppc-support"></a>どの機種で Xmacppc が動きますか ? (<a href="#xmacppc_questions">top</a>)
  </h4>
<p>
コンソールでのブートが可能な全機種と、サポートされたビデオカードを持つ
(そのビデオカードが適切な Open Firmware 初期化コードを持つ) 機種です。
シリアルコンソールを使う必要のある機種では、どの X サーバーも動きません。</p>
<p>
ほとんどすべての NetBSD/macppc 機種をサポートしますが、制限としては
色数が 8 bpp に制限されることと、画面解像度を変更する方法がないこと、
グラフィックアクセラレーションがまったくないことです。</p>

<h4 class="title">
<a name="changing-resolution"></a>解像度や色数を変える方法は ? (<a href="#xmacppc_questions">top</a>)
  </h4>
<p>
NetBSD 上では変更できません。 Open Firmware 上で変更しなければなりません。
また、 NetBSD/macppc は 8 bpp を超える色数には対応していません。</p>
<p>
古い機種 (7300 - 8600) は Open Firmware で解像度を変更できません。
これらの機種では (<a class="ulink" href="SystemDisk-tutorial/of105patch.html" target="_top">パッチ</a>適用後) 640x480 、 67 Hz に固定されます。
パッチを当てない場合は周波数が決まりません
(たいてい 60 Hz か 120 Hz ですが、そうとも限らないのでなんとも) 。</p>



<p>
最近の機種では、 Mac OS で必要な解像度を設定する必要があります。
Open Firmware はその設定を保持します。</p>
<p>
Chris Tribo によれば、彼の XClaimVR 64 カードは Mac OS のモニターの設定を
無視して、いつも同じ解像度を使うとのことです。</p>
<hr>
<h3 class="title">他の情報源</h3>
<h4 class="title">
<a name="nbsd_xdocs"></a>NetBSD ドキュメンテーション: <a class="ulink" href="../../docs/x/" target="_top">X
Window System</a> (<a href="#otherinfo">top</a>)
  </h4>

<h4 class="title">
<a name="xfree_home"></a><a class="ulink" href="http://www.xfree86.org" target="_top">The Xfree86 Project Home Page</a> (<a href="#otherinfo">top</a>)
  </h4>
<hr>
<em><a href="./">NetBSD/macppc ポートのページ</a></em> に戻る</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2011 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
