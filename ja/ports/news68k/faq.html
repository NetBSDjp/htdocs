<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/news68k/." title="NetBSD/news68k">
<link rel="previous" href="../../../ja/ports/news68k/." title="NetBSD/news68k">
<link rel="next" href="../../../ja/ports/newsmips/." title="NetBSD/newsmips">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD/news68k よくある質問</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-ports-news68k-faq"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
                  google.load('search', '1', {language : 'en'});
                  google.setOnLoadCallback(function() {
                    var header_customSearchControl = new google.search.CustomSearchControl('006277936787196004968:mbdhrauy1wm');
                    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                    var header_options = new google.search.DrawOptions();
                    header_options.enableSearchboxOnly("http://google.com/cse?cx=006277936787196004968:mbdhrauy1wm");    
                    header_customSearchControl.draw('header-cse-search-form', header_options);
                  }, true);
                </script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/news68k よくある質問</h1>
<h2 class="title">NetBSD/news68k よくある質問</h2>
<h3 class="title"><a name="general">全般的な質問</a></h3>
<ul>
<li><a href="#serial_console">シリアルコンソールのセットアップ方法は?</a></li>
<li><a href="#dead_nvram">NEWS のコンソールに何も表示されません!</a></li>
<li><a href="#dip_sw">DIP スイッチはどのように設定すればよいか?</a></li>
<li><a href="#power_off">電源ケーブルを抜く以外で、マシンの電源を落とす方法は?</a></li>
<li><a href="#bootfd">NetBSD/news68k インストールフロッピーでブートしません</a></li>
<li><a href="#level_3_int">パワーサイクルでブートすると、カーネルが "level 3 interrupt:" を永久に出力し続けます</a></li>
<li><a href="#coexist_news_os">NetBSD と NEWS-OS を同じディスクにインストールできますか?</a></li>
</ul>
<h3 class="title"><a name="prom_questions">PROM モニターの質問</a></h3>
<ul>
<li><a href="#prom_command">PROM プロンプトでは、どんなコマンドが使えますか?</a></li>
<li><a href="#netboot">NetBSD/news68k はネットワーク経由でブートできますか?</a></li>
</ul>
<h3 class="title"><a name="hardware_questions">ハードウェアの質問</a></h3>
<ul>
<li><a href="#spec">私の NEWS のスペックは?</a></li>
<li><a href="#memory">私の NEWS で使える SIMM の種類は?</a></li>
<li><a href="#news1800">NWS-18x0 モデルのサポートの可能性はありますか?</a></li>
<li><a href="#news800">NWS-8xx や NWS-7xx モデルはどうですか?</a></li>
</ul>
<h3 class="title"><a name="other_info">他の情報源</a></h3>
<ul><li><a href="#other_info_nbsd">NetBSD.org にある他の情報源</a></li></ul>
<hr>
<h3 class="title">全般的な質問</h3>
<h4 class="title">
<a name="serial_console"></a>シリアルコンソールのセットアップ方法は? (<a href="#general">top</a>)
  </h4>
<p>
まず最初に、 DIP スイッチ 1-3 を、シリアルコンソールとして PROM モニターを
使うように切り替えます。
(詳細は、 <a class="ulink" href="#dip_sw" target="_top">DIP スイッチの説明</a>を参照)</p>
<p>
NEWS マシンでは、 CH0 ポートを、 9600bps、 8 ビットキャラクター、
パリティーなし、ストップビット 1 で、シリアルコンソールとして使います。
</p>
<p>
news1400/1500/1600/1700 のシリアルポートは通常の 25P D-sub コネクターを
使っているため、ヌルモデムケーブルが必要です。
</p>
<p>
news1200 はメスの 9P D-sub コネクターを使っています。
これは PC と同じピン配置ですが、 PC のものはオスの 9P コネクターです。
</p>
<p>
詳細については、 <a class="ulink" href="../../docs/Hardware/Misc/serial.html" target="_top">NetBSD
シリアルポート入門</a>を参照してください。
</p>

<h4 class="title">
<a name="dead_nvram"></a>NEWS のコンソールに何も表示されません! (<a href="#general">top</a>)
  </h4>
<p>
NEWS マシンは、 SPARCstation マシンと同じく MK48T02 NVRAM
チップを使っています。 NVRAM バッテリーが死んでいる場合、
正しくブートしません。
</p>
<p>
ここですべきことは、新しい NVRAM であっても死んだバッテリー付のものであっても、
下記の手順で POWER/RESET ボタンを押して、 PROM モニターに NVRAM を
強制的に初期化させることです:
</p>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>POWER ボタンを押し続けます</p></li>
<li class="listitem"><p>POWER ボタンを押したままで、 RESET ボタンを押します</p></li>
<li class="listitem"><p>先に RESET ボタンを放します</p></li>
<li class="listitem"><p>次に POWER ボタンを放します</p></li>
</ul></div>

<p>
SPARCstation とは違い、イーサネット MAC アドレスなどの
データの修復をする必要はありません。
MAC アドレスは NEWS の ROM 上に保持されているので、
設定する必要があるのは時計の日時だけです。
</p>

<p>
死んだ NVRAM を交換する場合には、
<a class="ulink" href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html" target="_top">
Sun NVRAM/hostid のページ</a>にチップについての有用な
情報が多数あります。また、
<a class="ulink" href="http://www.squirrel.com/squirrel/sun-nvram-hostid.faq.html#attach" target="_top">
NVRAM のバッテリーを新しいものに付け替え</a>たいと思うかもしれませんが、
NEWS の機種によっては NVRAM はソケットを使わずにメインボードに直付けされているかもしれません。 <code class="code">:-(</code>
</p>

<h4 class="title">
<a name="dip_sw"></a>DIP スイッチはどのように設定すればよいか? (<a href="#general">top</a>)
  </h4>
<p>
news68k マシンには、 8 組の DIP スイッチ群があります:
</p>

<div class="table">
<a name="console_settings"></a><p class="title"><b>Table 1. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<thead><tr>
<th>Switch 1,2,3</th>
<th>コンソール設定</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">OFF,OFF,OFF</code></td>
<td>ANSI 端末 (すなわち、シリアルコンソール)</td>
</tr>
<tr>
<td><code class="code">OFF,OFF,ON </code></td>
<td>NWB-512 モノクロームビットマップコンソール</td>
</tr>
<tr>
<td><code class="code">ON ,OFF,OFF</code></td>
<td>NWB-225A カラービットマップコンソール</td>
</tr>
<tr>
<td><code class="code">ON ,ON ,ON </code></td>
<td>自動選択機能をサポートする新しいフレームバッファー
     (NWS-251、 NWB-514 など)</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<div class="table">
<a name="boot_device"></a><p class="title"><b>Table 2. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<thead><tr>
<th>Switch 4</th>
<th>ブートデバイス</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">OFF</code></td>
<td>SCSI ディスクからブート: <code class="code">hd()</code>
</td>
</tr>
<tr>
<td><code class="code">ON</code></td>
<td>フロッピーディスクからブート: <code class="code">fh()</code>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<div class="table">
<a name="autoboot"></a><p class="title"><b>Table 3. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<thead><tr>
<th>Switch 5</th>
<th>autoboot</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">OFF</code></td>
<td>PROM モニター</td>
</tr>
<tr>
<td><code class="code">ON</code></td>
<td>auto boot</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<div class="table">
<a name="diagnostic"></a><p class="title"><b>Table 4. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<thead><tr>
<th>Switch 6</th>
<th>diagnostic (?)</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">OFF</code></td>
<td>Diag off (デフォルト)</td>
</tr>
<tr>
<td><code class="code">ON</code></td>
<td>Diag on</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<div class="table">
<a name="unused"></a><p class="title"><b>Table 5. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<thead><tr>
<th>Switch 7,8</th>
<th>未使用</th>
</tr></thead>
<tbody><tr><td>デフォルトで off</td></tr></tbody>
</table>
</div>
</div>
<br class="table-break">


<h4 class="title">
<a name="power_off"></a>電源ケーブルを抜く以外で、マシンの電源を落とす方法は? (<a href="#general">top</a>)
  </h4>
<p>
(POWER ボタンは使わず) RESET ボタンを押すだけです。
または、 PROM プロンプトで <code class="code">"off"</code> コマンドを使います。
</p>

<h4 class="title">
<a name="bootfd"></a>NetBSD/news68k インストールフロッピーでブートしません (<a href="#general">top</a>)
  </h4>
<p>
news1500 マシンによってはインストールフロッピーが読み取りエラーで
ブートできないとの報告があります。
この原因は、 PROM モニターかブートローダーのバグかもしれませんが、
メディア自体のエラーの可能性もあります。
ドライブを清掃し、ディスクを何枚か用意して何度もブートしてみてください。
</p>

<h4 class="title">
<a name="level_3_int"></a>パワーサイクルでブートすると、カーネルが <code class="code">"level 3 interrupt:"</code> を永久に出力し続けます (<a href="#general">top</a>)
  </h4>
<p>
いくつかの古いバージョンの PROM モニターは、シリアルコンソールが指定されていると、
拡張スロットのフレームバッファーを正しく初期化しません。
このため、フレームバッファーが不正な割り込みを引き起こします。
</p>

<p>
回避策は、マシンを一度ビットマップコンソールの設定でリセット (上述のように
POWER+RESET を使う) してから、再度シリアルコンソールでリセットすることです。
</p>

<h4 class="title">
<a name="coexist_news_os"></a>NetBSD と NEWS-OS を同じディスクにインストールできますか? (<a href="#general">top</a>)
  </h4>
<p>
十分検証されていないのでおすすめはしませんが、インストールはできます。
</p>
<p>
NetBSD/news68k は NEWS-OS ディスクラベルの認識と NEWS-OS ディスクのマウントが
可能ですが、 NetBSD が NEWS-OS ディスクラベルを書き換えてしまうと、
NEWS-OS はこれを認識できなくなります。
両 OS は別のディスクにインストールすることをおすすめします。
</p>
<hr>
<h3 class="title">PROM モニターの質問</h3>
<h4 class="title">
<a name="prom_command"></a>PROM プロンプトでは、どんなコマンドが使えますか? (<a href="#prom_questions">top</a>)
  </h4>
<p>
<code class="code">help</code> コマンドで、すべてのコマンドを表示できます。
NWS-1750 では、以下のようになりました:</p>
<pre class="programlisting">
NEWS&gt; help
bf [.{b|w|l}] &lt;bgn&gt; {&lt;end&gt;|:&lt;cnt&gt;} &lt;data&gt;               : Block Fill
bm &lt;bgn&gt; {&lt;end&gt;|:&lt;cnt&gt;} &lt;dest&gt;                          : Block Move
bo [&lt;dev&gt;]                                              : BOot
bp [&lt;addr&gt; [:&lt;cnt&gt;]] ...                                : BreakPoint set
cp &lt;src_dev&gt; &lt;bgn&gt;:&lt;cnt&gt; &lt;dst_dev&gt; &lt;dest&gt;               : CoPy
format {fd|fh}                                          : FORMAT floppy
go [&lt;addr&gt; [&lt;bkpt&gt; [:&lt;cnt&gt;]]]                           : GO to user program
help                                                    : display this
md [.{b|w|l}] [&lt;bgn&gt; [{&lt;end&gt;|:&lt;cnt&gt;}]]                  : Memory Display
ms [.{b|w|l}] [&lt;addr&gt; [&lt;data&gt;]]                         : Memory Set
mu                                                      : Memory Usage
nobp [&lt;addr&gt;] ...                                       : NO BreakPoint
off                                                     : turn power OFF
rc                                                      : Re-assign Console
rd [{dreg|areg|preg|creg|mreg}] ...                     : Register Display
rr                                                      : Register Reset
rs [&lt;reg&gt; [&lt;data&gt;]]                                     : Register Set
set [&lt;var&gt;[=&lt;value&gt;]]                                   : SET variable
st [:&lt;cnt&gt;]                                             : Stack back Trace
tr [:&lt;cnt&gt;] [branch] [{dreg|areg|preg|creg|mreg}]       : instruction TRace
vers                                                    : VERSion number
NEWS&gt;
</pre>
<p>
この表示は、他のマシンではまた異なるかもしれませんが、
ほとんどこれと同じはずです。
</p>
<p>
ブートコマンドでは、下記のようなオプションを指定できます:</p>
<div class="table">
<a name="boot_options"></a><p class="title"><b>Table 6. </b></p>
<div class="table-contents">
<table border="1">
<colgroup><col></colgroup>
<tbody>
<tr>
<td><code class="code">bo</code></td>
<td>デフォルトのデバイス (通常は <code class="code">sd0</code>) からブートする</td>
</tr>
<tr>
<td><code class="code">bo /1</code></td>
<td>
<code class="code">RB_ASKNAME</code> でブートする
 (すなわち、 mountroot 前にルートデバイスを尋ねる)</td>
</tr>
<tr>
<td><code class="code">bo /2</code></td>
<td>
<code class="code">RB_SINGLE</code> でブートする
 (すなわち、シングルユーザーモードに入る)</td>
</tr>
<tr>
<td><code class="code">bo fh()</code></td>
<td>1.44M フロッピーからブートする</td>
</tr>
<tr>
<td><code class="code">bo hd(1)</code></td>
<td>ID 1 の SCSI ディスクからブートする</td>
</tr>
<tr>
<td><code class="code">bo /2 hd()/netbsd.0 </code></td>
<td>
<code class="code">sd0</code> 上の <code class="code">"netbsd.0"</code> をシングルユーザーでブートする</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">

<h4 class="title">
<a name="netboot"></a>NetBSD/news68k はネットワーク経由でブートできますか? (<a href="#prom_questions">top</a>)
  </h4>
<p>
いいえ、まだできません。
</p>
<p>
news68k マシンの PROM モニターは、ディスクレスブートに "remote disk (rd)"
を使いますが、これは NEWS-OS でしかサポートされておらず、
また、これについての資料もありません。
</p>
<p>
おそらく NEWS-OS の <code class="code">rd_rpc.h</code> や <code class="code">rd_srq.h</code>
が参考になるでしょうが、今のところ誰も作業をしてはいません。
</p>
<hr>
<h3 class="title">ハードウェアの質問</h3>
<h4 class="title">
<a name="spec"></a>私の NEWS のスペックは? (<a href="#hardware_questions">top</a>)
  </h4>
<p>
<a class="ulink" href="http://katsu.watanabe.name/doc/sonynews/model.html" target="_top">
SONY NEWS 仕様一覧のページ</a>
をご覧ください。
このページは日本語で書かれていますが、日本語を読めない人にとっても、
役立つ情報が多数あります。
</p>

<h4 class="title">
<a name="memory"></a>私の NEWS で使える SIMM の種類は? (<a href="#hardware_questions">top</a>)
  </h4>
<p>
news1600/1700 マシンでは、 9 個のチップ付の 30pin 1M SIMM が
16M バイトへのアップグレードに使えます。
3 個のチップ付の SIMM やパリティーなしの SIMM は使えません。
16M から 32M へのアップグレードには、オプションメモリーボードが必要です。
</p>
<p>
news1400/1500 マシンでは、 8 または 9 個のチップ付の 30pin 1M SIMM が使えます
(これらのマシンはパリティービットを使いません)。
2 または 3 個のチップ付の SIMM は使えません。
</p>

<h4 class="title">
<a name="news1800"></a>NWS-18x0 モデルのサポートの可能性はありますか? (<a href="#hardware_questions">top</a>)
  </h4>
<p>
残念ながら、 news1800 マシンをサポートするためには多くの障壁があります。
news1800 モデルはデュアル 68030 CPU です。一方はメインプロセッサー、他方は
"I/O プロセッサー" です。すべてのデバイス (tty、イーサネット、 SCSI など)
は、この IOP に繋がっていますが、これの扱い方に関する情報はほとんどありません。
NEWS-OS では IOP 用に "MRX" という特別なモジュールを用意しており、
これはブート時にルートディレクトリーから PROM によってロードされます。
</p>
<p>
NEWS デバイスの情報を Sony に問い合わせた人たちがおり、
一度は NEWS-OS のソースの公開が計画されました。
しかし、ソースに多くのライセンス問題があり、公開は難しくなっています。
また、 Sony の NEWS 開発部門はすでに解散しているため、
これらの問題を公式に解決することが誰もできないのです。
</p>

<h4 class="title">
<a name="news800"></a>NWS-8xx や NWS-7xx モデルはどうですか? (<a href="#hardware_questions">top</a>)
  </h4>
<p>
問題のひとつは、 news800 モデルが上記の項目で説明したような
I/O プロセッサーを使っていることです。
別の問題として、 news800 は Motorola m68851 MMU ではなく Sony 独自の MMU
を使っています。 news700 も、 news800 のように独自の MMU を使っています。
これらについては、情報がほとんどありません。
</p>
<hr>
<h3 class="title">他の情報源</h3>
<h4 class="title">
<a name="other_info_nbsd"></a>NetBSD.org にある他の情報源 (<a href="#other_info">top</a>)
  </h4>

<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><a class="ulink" href="http://ftp.NetBSD.org/pub/NetBSD/NetBSD-5.1/news68k/INSTALL.html" target="_top">
    NetBSD/news68k 5.1 インストールノート</a> - 対応ハードウェアと
    インストール方法。</p></li>
<li class="listitem"><p><a class="ulink" href="../../mailinglists/#port-news68k" target="_top">port-news68k メーリングリスト</a>
    (<a class="ulink" href="http://mail-index.NetBSD.org/port-news68k/" target="_top">アーカイブ</a>)
    - さらなる疑問があれば、参加してください。</p></li>
<li class="listitem"><p><a class="ulink" href="../newsmips/history.html" target="_top">NEWS マシンの歴史</a>
    - NetBSD/newsmips と NetBSD/news68k が動作するマシンの簡単な歴史。</p></li>
<li class="listitem"><p><a class="ulink" href="../../docs/Hardware/Misc/serial.html" target="_top">NetBSD
シリアルポート入門</a></p></li>
<li class="listitem"><p><a class="ulink" href="../../docs/" target="_top">NetBSD 全般のドキュメンテーション</a>
    - NetBSD/news68k に依存しない疑問向け。</p></li>
</ul></div>
</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
