<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Website XSL Stylesheet V2.6.0">
<link rel="home" href="../../../." title="Welcome to The NetBSD Project: Of course it runs NetBSD.">
<link rel="up" href="../../../ja/ports/mipsco/." title="NetBSD/mipsco">
<link rel="previous" href="../../../ja/ports/mipsco/history.html" title="NetBSD/mipsco: 歴史">
<link rel="next" href="../../../ja/ports/mipsco/models.html" title="NetBSD/mipsco: 型番情報">
<link rel="first" href="../../../ja/ports/mipsco/faq.html" title="NetBSD/mipsco: よくある質問">
<link rel="last" href="../../../ja/ports/mipsco/models.html" title="NetBSD/mipsco: 型番情報">
<link rel="stylesheet" href="../../../global.css" type="text/css">



<title>NetBSD/mipsco: インストールノート</title>
</head>
<body class="website"><div class="webpage">
<a name="ja-ports-mipsco-install"></a><div id="top"><a href="#mainContent" class="doNotDisplay doNotPrint">本文へ飛ぶ。</a></div>
<div id="header">
<div class="topNavigation">
<span>» </span><a href="../../../docs/guide/en/">
	  ガイド</a> |
	<a href="http://man.NetBSD.org/">マニュアルページ</a> |
	<a href="../../../ja/mailinglists/">
	  メーリングリスト</a>と
	<a href="http://mail-index.NetBSD.org/">記事</a> |
	<a href="http://cvsweb.NetBSD.org/">CVS リポジトリー</a> |
	バグの<a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">報告</a>
	と
	<a href="../../../ja/support/query-pr.html">
	 照会</a> |
	<a href="../../../ja/docs/software/packages.html">
	  ソフトウェアパッケージ
	</a>
</div>
<div class="centralHeader">
<a href="../../../ja/"><img alt='NetBSD プロジェクト "Of course it runs NetBSD"' width="506" height="90" src="../../../images/NetBSD-headerlogo.png"></a><div class="headerTools"><div id="headerSearch">
<div id="header-cse-search-form" style="width: 24%;">Google custom search</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript"> 
                  google.load('search', '1', {language : 'en'});
                  google.setOnLoadCallback(function() {
                    var header_customSearchControl = new google.search.CustomSearchControl('006277936787196004968:mbdhrauy1wm');
                    header_customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                    var header_options = new google.search.DrawOptions();
                    header_options.enableSearchboxOnly("http://google.com/cse?cx=006277936787196004968:mbdhrauy1wm");    
                    header_customSearchControl.draw('header-cse-search-form', header_options);
                  }, true);
                </script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css">
</div></div>
</div>
<div class="navBar">
<span class="doNotDisplay">
	  案内:
	</span><a href="../../../ja/">
	  ホーム</a> | 
	<a href="../../../ja/about/">
	  概要</a> | 
	<a href="../../../ja/gallery/">
	  展示室</a> | 
	<a href="../../../ja/releases/">
	  ダウンロード</a> | 
	<a href="../../../ja/docs/">
	  ドキュメンテーション</a> | 
	<a href="../../../ja/support/">
	  サポート</a> | 
	<a href="../../../ja/community/">
	  コミュニティー</a> | 
	<a href="../../../ja/ports/">
	  機種</a>
</div>
</div>
<div id="content"><div class="fullWidth"><div class="rowOfBoxes">
<h1>NetBSD/mipsco: インストールノート</h1>
<div class="sect1">
<div class="titlepage"></div>
  <p>
    <span class="emphasis"><em>この文書はまだ作成されたばかりの段階であり、いずれ INSTALL
    マニュアルページが書かれればそれに置き換えられることになります</em></span>
  </p>
</div>
<div class="sect1" title="対応ハードウェア">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="supported_hardware"></a>対応ハードウェア</h2></div></div></div>
  

  <p>
    現在のところ、 Mips Magnum 3000 ワークステーション上の下記のデバイスがサポートされています
  </p>

  <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">オンボード NCR 53c94 SCSI コントローラー</li>
<li class="listitem">オンボード AM7990 Lance Ethernet コントローラー</li>
<li class="listitem">オンボード Z8530 シリアルポート 0 および 1</li>
</ul></div>

  <p>
    現在のところ、下記のデバイスはサポートされていません:
  </p>

  <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">ISA 拡張バス</li>
<li class="listitem">Intel 82072 フロッピーディスクコントローラー</li>
<li class="listitem">フレームバッファー (モノクロ、カラーいずれも)</li>
<li class="listitem">PS/2 キーボードコントローラー</li>
</ul></div>
</div>
<div class="sect1" title="はじめましょう">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="getting_started"></a>はじめましょう</h2></div></div></div>
  

  <p>
    現在のところ、 NetBSD カーネルのブートは、 RISC/os ディスクパーティション
    から、または bootp を利用したネットワーク経由でのみ可能です。
  </p>

  <p>
    NetBSD/sparc や NetBSD/newsmips など、他のビッグエンディアンのマシンで
    NetBSD パーティションを作る必要があります
  </p>

  <p>
    miniroot ファイルシステムと構築済スナップショットを使って、ディスク分割と
    NetBSD インストールを直接可能にするような、インストール作業単純化のための
    作業がおこなわれています。
  </p>

  <p>
    まず最初に、最新のカーネルのコピーを <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/mipsco/snapshot/" target="_top">ftp.NetBSD.org/pub/NetBSD/arch/mipsco/snapshot/</a>
    から入手します。
  </p>
</div>
<div class="sect1" title="RISC/os ディスクパーティションからブートする">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="boot_from_riscos"></a>RISC/os ディスクパーティションからブートする</h2></div></div></div>
  

  <p>
    動作するバージョンの RISC/os がマシンにインストールされていれば、
    これは、ずば抜けて最も簡単なカーネルのブート方法です。
  </p>

  <p>
    netbsd カーネルファイルを単に RISC/os オペレーティングシステムにコピーして
    おくだけで、シャットダウンし、以下のようにして新しいカーネルからブートできます:
  </p>

  <pre class="programlisting"><code class="code">boot dksd(,,0)/netbsd</code></pre>

  <p>
    この方法では、まず stand alone shell (SASH) を dksd(,,8)sash から
    ロードし、それから NetBSD カーネルをロードします。
  </p>
</div>
<div class="sect1" title="bootp と tftp を使ってネットワークブートする">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="netboot"></a>bootp と tftp を使ってネットワークブートする</h2></div></div></div>
  

  <p>
    Mips PROM ファームウェアには、 bootp プロトコルに関していくつかの制限があります:
  </p>

  <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
      マシンの IP アドレスは bootp を使っては決定されません - prom 環境変数
      'netaddr' を設定する必要があります
    </li>
<li class="listitem">
      ブロードキャストアドレスは、 netaddr の設定にもとづき、厳密にクラス A、
      B または C が使われます
    </li>
<li class="listitem">
      使われるブロードキャストアドレスは、オールゼロな形式です。
      OS によってはこのアドレスをデフォルトでは受け付けず、
      ifconfig の引数で明示する必要があります。
    </li>
</ul></div>

  <p>
    bootp および tftp デーモンの設定の詳細については、どうか上記の制限を念頭に置いた上で <a class="ulink" href="../../docs/network/netboot/" target="_top">Diskless
    NetBSD HOW-TO</a>&nbsp; を参照してください。
  </p>

  <p>
    イーサネット MAC アドレスを決めるための最も簡単な方法は、
    <span class="command"><strong>tcpdump -e</strong></span> を使ってネットワークを覗くことです。
  </p>

  <p>
    サーバーで bootpd と tftpd を動かしておけば、ファームウェアで下記の
    <span class="bold"><strong>太字</strong></span>部分のコマンド使うことで、
    カーネルをブートすることができます
  </p>

<pre class="programlisting">
Rx3230 MIPS Monitor: Version 5.43 OPT Mon May 13 17:31:12
PDT 1991 root
Memory size: 33554432 (0x2000000) bytes, 32 MB
Icache size: 32768 (0x8000) bytes
Dcache size: 32768 (0x8000) bytes
&gt;&gt; <span class="bold"><strong>setenv bootfile bootp()netbsd</strong></span>
&gt;&gt; <span class="bold"><strong>setenv netaddr&nbsp; 192.168.58.46</strong></span>
&gt;&gt; <span class="bold"><strong>boot</strong></span>
Obtaining netbsd from server netbsd-alpha.lab.niwa.cri.nz
1026032+501367+124032 entry: 0x80021000
Copyright (c) 1996, 1997, 1998, 1999, 2000
&nbsp;&nbsp;&nbsp; The NetBSD Foundation, Inc.&nbsp; All rights
reserved.
Copyright (c) 1982, 1986, 1989, 1991, 1993
&nbsp;&nbsp;&nbsp; The Regents of the University of California.&nbsp;
All rights reserved.</pre>
</div>
<div class="sect1" title="NetBSD ファイルシステムのセットアップ">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="fs_setup"></a>NetBSD ファイルシステムのセットアップ</h2></div></div></div>
  

  <p>
    NetBSD/mipsco カーネルのブートに成功したら、残りの配布物を使って
    ファイルシステムのセットアップが必要です。
  </p>

  <div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
      ビッグエンディアンの NetBSD マシンでディスクにラベルを書き込み、適切な
      ファイルシステムを用意します。ビッグエンディアンのマシンが必要になる理由は、
      ディスクラベル値がホストのバイトオーダーによって書かれるからです。このため
      MIPS R3000 ネイティブフォーマットと同じバイトオーダーであることが必要になります。
      この手順は、ディスクの最初のセクターにオフセット 0x80 でディスクラベルを置く
      NetBSD/sparc でうまくいくことがわかっています。
    </li>
<li class="listitem">
      NetBSD 配布物をダウンロードし、作ったファイルシステムのルートに
      展開します。ftp サーバーの
      <a class="ulink" href="ftp://ftp.NetBSD.org/pub/NetBSD/arch/mipsco/snapshot/" target="_top">スナップショット
      置き場</a>から、バイナリースナップショットをダウンロードできます。
    </li>
<li class="listitem">
      <code class="filename">&lt;rootdir&gt;/dev</code> に移動し、そこで <span class="command"><strong>./MAKEDEV
      all</strong></span> を実行してデフォルトのデバイスノードを作ります。
    </li>
<li class="listitem">
      <code class="filename">&lt;rootdir&gt;/etc</code> に移動し、
      <code class="filename">rc.conf</code> その他のスタートアップファイルを
      手動で設定します。
    </li>
<li class="listitem">
      ディスクをアンマウントしてドライブを Mips マシンにつなぎます
    </li>
<li class="listitem">
      bootp を使うかまたは RISC/os ディスクパーティションからカーネルをブートします。
      ルートデバイスを尋ねられたらさきほど作ったルートファイルシステムのデバイス名を
      答えます。
    </li>
</ol></div>
</div>
<hr>
<em><a href="./">NetBSD/mipsco ポートのページ</a></em> に戻る</div></div></div>
<div class="navfoot"></div>
<div id="footer"><center>
<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">
	  連絡</a> |
      </span><span class="footcopy"><a href="../../../ja/about/disclaimer.html">
      免責事項</a> |

      <span class="copyright">Copyright © 1994-2012 The NetBSD Foundation, Inc. </span>ALL RIGHTS RESERVED.<br>NetBSD<sup>®</sup> は The NetBSD
	Foundation, Inc. の登録商標です。</span>
</center></div>
</div></body>
</html>
