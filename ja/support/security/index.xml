<?xml version="1.0"?>
<!DOCTYPE webpage
  PUBLIC "-//NetBSD//DTD Website-based NetBSD Extension//EN"
	 "http://www.NetBSD.org/XML/htdocs/lang/share/xml/website-netbsd.dtd">

<webpage id="support-security-index">
<config param="desc" value="Security and NetBSD"/>
<config param="cvstag" value="$NetBSD: index.xml,v 1.11 2008/02/28 20:40:28 adrianp Exp $"/>
<config param="rcsdate" value="$Date: 2008/02/28 20:40:28 $"/>
<head>
  <title>Security and NetBSD</title>
</head>

<para>The NetBSD Project adopts the same approach to security as it does 
  to the rest of the system: <emphasis>Solutions and not hacks.</emphasis>
  Security issues in NetBSD are handled by the <ulink 
  url="mailto:security-officer@NetBSD.org">NetBSD security officer</ulink>
  and the <ulink 
  url="mailto:security-alert@NetBSD.org">NetBSD security alert team</ulink>.
  As well as investigating, documenting and updating code in response to 
  newly reported security issues, the team also performs periodic code 
  audits to search for and remove potential security problems.</para>

<para>NetBSD has integrated Kerberos 5 (Heimdal), SSH (OpenSSH) and
  full support for IPsec for both IPv4 and IPv6.
  In addition, all services default to their most secure settings,
  and no services are enabled by default for new installations.
</para>

<sect1 id="security_advisories">
  <title>Security Advisories</title>

  <para>When serious security problems in NetBSD are discovered and 
    corrected, we issue a security advisory, describing the problem 
    and containing a pointer to the fix. These are announced to our <ulink
    url="../../mailinglists/#netbsd-announce">netbsd-announce mailing list</ulink> 
    and our <ulink url="../../mailinglists/#security-announce">security-announce mailing list</ulink>
    as well as to various other mailing lists and websites. 
    In addition, they are archived on this site as well as provided as an
    <ulink url="http://www.NetBSD.org/support/security/rss-advisories.xml">RSS feed</ulink>.</para>
  
  <sect2 id="patch-formal">
    <title>All Advisories by NetBSD <ulink 
    url="../../releases/formal.html">releases</ulink>:</title>

    <itemizedlist>
      <listitem><ulink url="patches-3.1.html">NetBSD 3.1</ulink></listitem>
      <listitem><ulink url="patches-3.0.3.html">NetBSD 3.0.3</ulink></listitem>
      <listitem><ulink url="patches-3.0.2.html">NetBSD 3.0.2</ulink></listitem>
      <listitem><ulink url="patches-3.0.1.html">NetBSD 3.0.1</ulink></listitem>
      <listitem><ulink url="patches-3.0.html">NetBSD 3.0</ulink></listitem>
      <listitem><ulink url="patches-2.1.html">NetBSD 2.1</ulink></listitem>
      <listitem><ulink url="patches-2.0.3.html">NetBSD 2.0.3</ulink></listitem>
      <listitem><ulink url="patches-2.0.2.html">NetBSD 2.0.2</ulink></listitem>
      <listitem><ulink url="patches-2.0.html">NetBSD 2.0</ulink></listitem>
      <listitem><ulink url="patches-1.6.2.html">NetBSD 1.6.2</ulink></listitem>
      <listitem><ulink url="patches-1.6.1.html">NetBSD 1.6.1</ulink></listitem>
      <listitem><ulink url="patches-1.6.html">NetBSD 1.6</ulink></listitem>
      <listitem><ulink url="patches-1.5.3.html">NetBSD 1.5.3</ulink></listitem>
      <listitem><ulink url="patches-1.5.2.html">NetBSD 1.5.2</ulink></listitem>
      <listitem><ulink url="patches-1.5.1.html">NetBSD 1.5.1</ulink></listitem>
      <listitem><ulink url="patches-1.5.html">NetBSD 1.5</ulink></listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="recent_advisories">
    <title>Recent Advisories by Advisory Number:</title>
    <itemizedlist>
      <listitem><ulink 
        url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2008-003.txt.asc">NetBSD-SA2008-003</ulink> IPsec in IPv6 Denial of Service</listitem>
      <listitem><ulink 
        url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2008-002.txt.asc">NetBSD-SA2008-002</ulink> Endianness issue in fast_ipsec(4)</listitem>
      <listitem><ulink 
        url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2008-001.txt.asc">NetBSD-SA2008-001</ulink> file(1) Integer overflow</listitem>
      <listitem><ulink 
      url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-007.txt.asc">NetBSD-SA2007-007</ulink> BIND cryptographically weak query IDs</listitem>
      <listitem><ulink 
      	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-006.txt.asc">NetBSD-SA2007-006</ulink> Local panics in display driver code</listitem>
      <listitem><ulink 
      	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-005.txt.asc">NetBSD-SA2007-005</ulink> IPv6 Type 0 Routing Header</listitem>
      <listitem><ulink
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-004.txt.asc">NetBSD-SA2007-004</ulink> Insufficient length checking in iso(4)</listitem>
      <listitem><ulink
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-003.txt.asc">NetBSD-SA2007-003</ulink> BIND multiple denial of service vulnerabilities</listitem>
      <listitem><ulink
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-002.txt.asc">NetBSD-SA2007-002</ulink> Integer overflows in Render and DBE extensions</listitem>
      <listitem><ulink
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2007-001.txt.asc">NetBSD-SA2007-001</ulink> Integer overflow in ktruser()</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-027.txt.asc">NetBSD-SA2006-027</ulink> libc glob(3) buffer overflow</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-026.txt.asc">NetBSD-SA2006-026</ulink> Multiple denial of service issues</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-025.txt.asc">NetBSD-SA2006-025</ulink> Multiple information/memory leakage issues</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-024.txt.asc">NetBSD-SA2006-024</ulink> systrace(4) integer overflow</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-023.txt.asc">NetBSD-SA2006-023</ulink> OpenSSL RSA Signature Forgery</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-022.txt.asc">NetBSD-SA2006-022</ulink> BIND recursive query and SIG query processing </listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-021.txt.asc">NetBSD-SA2006-021</ulink> Integer overflows in CID-keyed font parser</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-020.txt.asc">NetBSD-SA2006-020</ulink> Integer overflows in PCF font parsers</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-019.txt.asc">NetBSD-SA2006-019</ulink> Malicious PPP options can overrun a kernel buffer</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-018.txt.asc">NetBSD-SA2006-018</ulink> sail(6), dm(8) and tetris(6) buffer overflows</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-017.txt.asc">NetBSD-SA2006-017</ulink> Sendmail malformed multipart MIME messages</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-016.txt.asc">NetBSD-SA2006-016</ulink> IPv6 socket options can crash the system</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-015.txt.asc">NetBSD-SA2006-015</ulink> FPU Information leak on i386/amd64/Xen platforms with AMD CPUs</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-014.txt.asc">NetBSD-SA2006-014</ulink> An audio subsystem race condition may crash the system</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-013.txt.asc">NetBSD-SA2006-013</ulink> sysctl(3) local denial of service</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-012.txt.asc">NetBSD-SA2006-012</ulink> SIOCGIFALIAS ioctl may cause system crash</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-011.txt.asc">NetBSD-SA2006-011</ulink> IPSec replay attack</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-010.txt.asc">NetBSD-SA2006-010</ulink> Sendmail race condition</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-009.txt.asc">NetBSD-SA2006-009</ulink> False detection of Intel hardware RNG</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-008.txt.asc">NetBSD-SA2006-008</ulink> Malformed ELF interpreter causes system crash</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-007.txt.asc">NetBSD-SA2006-007</ulink> mail(1) creates record file with insecure umask</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-005.txt.asc">NetBSD-SA2006-005</ulink> bridge memory disclosure</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-004.txt.asc">NetBSD-SA2006-004</ulink> Denial of services issues with pf</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-003.txt.asc">NetBSD-SA2006-003</ulink> Multiple denial of services issues with racoon</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-002.txt.asc">NetBSD-SA2006-002</ulink> settimeofday() time wrap</listitem>
      <listitem><ulink 
	url="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2006-001.txt.asc">NetBSD-SA2006-001</ulink> Kernfs kernel memory disclosure</listitem>
    </itemizedlist>

    <para>See the <ulink url="advisory.html">advisory archive</ulink> 
      for a complete list.</para>
  </sect2>

  <sect2 id="patch-current">
    <title>Advisories for NetBSD-current</title>

    <para>
      In some cases a security issue will be discovered in <ulink
      url="../../releases/current.html">NetBSD-current</ulink>
      and then be resolved soon after.  These issues are often short lived
      any do not impact any NetBSD <ulink 
      url="../../releases/formal.html">releases</ulink>.  In these cases we don't 
      release patches or advisories specifically for <ulink
      url="../../releases/current.html">NetBSD-current</ulink>, but instead
      recommend that you update to a version containing the fixes. See 
      the <ulink url="#security_advisories">advisories</ulink> 
      above for the fix dates.  If a security issue is identified
      that just impacts <ulink 
      url="../../releases/current.html">NetBSD-current</ulink> the
      <ulink 
      url="mailto:security-officer@NetBSD.org">NetBSD security officer</ulink> 
      team will send an email to the <ulink 
      url="../../mailinglists/#current-users">current-users</ulink>
      mailing list detailing the issue and what updates are necessary.  
      We recommend that all users running <ulink 
      url="../../releases/current.html">NetBSD-current</ulink> 
      subscribe to the <ulink 
      url="../../mailinglists/#current-users">current-users</ulink>
      mailing list so that they are aware of these issues.  Users tracking 
      <ulink url="../../releases/current.html">NetBSD-current</ulink> should
      be upgrading their systems often to gain new features as well as 
      resolving known issues.
     </para>
  </sect2>

</sect1>

<sect1 id="contacts">
  <title>Security Contacts</title>

  <para>The NetBSD Project has two security related contact points:</para>

  <itemizedlist>
    <listitem>The <ulink 
      url="../../mailinglists/#tech-security">tech-security</ulink> mailing 
      list is an open forum for discussing issues related to NetBSD
      security.</listitem>
    <listitem>You can directly contact the NetBSD Project about security 
      issues by sending email to 
      <email>security-alert@NetBSD.org</email>.</listitem>
  </itemizedlist>
</sect1>

<sect1 id="reporting">
  <title>Reporting a security problem</title>

  <para>To report a security problem in NetBSD, either contact the NetBSD
    <email>security-alert@NetBSD.org</email> team or send a standard 
    NetBSD problem report, using the <ulink 
    url="../send-pr.html">send-pr form</ulink> or the 
    <command>send-pr(1)</command> program on your NetBSD system.</para>
  
  <para>Sensitive information should be encrypted using PGP, using the 
    NetBSD security-officers' <ulink 
      url="ftp://ftp.NetBSD.org/pub/NetBSD/security/PGP/security-officer@netbsd.org.asc">PGP key</ulink>.</para>
</sect1>

<sect1 id="patches">
  <title>Security Patches</title>

  <para>All published NetBSD security patches are available on the 
    NetBSD Project's <ulink 
      url="ftp://ftp.NetBSD.org/pub/NetBSD/">FTP server</ulink> in the
    <ulink url="ftp://ftp.NetBSD.org/pub/NetBSD/security/patches/">security/patches/</ulink> directory.
  </para>
</sect1>

<sect1 id="pkgsrc">
  <title>NetBSD Packages Collection (pkgsrc)</title>

  <para>The <ulink 
    url="../../docs/software/packages.html">NetBSD Packages Collection</ulink> provides easy source or binary installation of a large
    number of third-party applications. Users should remember that there can
    often be bugs in third-party software, and some of these bugs can leave
    a machine vulnerable to exploitation. To cope with this, NetBSD provides
    an easy way to audit your installed packages for known 
    vulnerabilities.</para>

  <sect2 id="check-pkgsrc">
    <title>Checking for vulnerabilities in installed packages</title>

    <para>
      The NetBSD <ulink        
      url="mailto:pkgsrc-security@NetBSD.org">pkgsrc Security Team</ulink>
      and package maintainers keep a list of known security vulnerabilities 
      in packages which are (or have been) included in pkgsrc. The list is 
      available from the NetBSD FTP site at:
    </para>

    <para><blockquote>
      <ulink url="http://ftp.NetBSD.org/pub/NetBSD/packages/vulns/pkg-vulnerabilities">http://ftp.NetBSD.org/pub/NetBSD/packages/vulns/pkg-vulnerabilities</ulink>
      </blockquote></para>

    <para>Through <command>audit-packages</command>, this list can be downloaded
      automatically, and a security audit of all packages installed on 
      a system can take place.</para>

    <para>There are two components to <command>audit-packages</command>.
      The first component, <command>download-vulnerability-list</command>, 
      is for downloading the list of vulnerabilities from the NetBSD FTP 
      site.  The second component, <command>audit-packages</command>, 
      checks to see if any of your installed packages are vulnerable. 
      If a package is vulnerable, you will see output similar to the 
      following:</para>

    <para><blockquote>Package samba-2.0.9 has a local-root-shell 
      vulnerability, see 
      http://www.samba.org/samba/whatsnew/macroexploit.html</blockquote></para>

    <para>Users can set up <command>audit-packages</command>
      to download the <command><ulink 
	url="http://ftp.NetBSD.org/pub/NetBSD/packages/vulns/pkg-vulnerabilities">pkg-vulnerabilities</ulink></command>
      file daily, and include a package audit in the daily security script.
      Details on this are located in the
      <ulink
      url="http://cvsweb.NetBSD.org/bsdweb.cgi/pkgsrc/pkgtools/pkg_install/MESSAGE?rev=HEAD&amp;content-type=text/x-cvsweb-markup">MESSAGE</ulink>
      file for <ulink
      url="http://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/pkgtools/pkg_install/README.html">pkg_install</ulink>.
   </para>
  </sect2>
  <sect2 id="reporting-pkgsrc">
   <title>Reporting a pkgsrc security problem</title>
   <para>
    If you believe you have found a security issue for a software package 
    in pkgsrc that is not detected by <command>audit-packages</command> 
    then contact the <ulink 
    url="mailto:pkgsrc-security@NetBSD.org">pkgsrc Security Team</ulink>.
   </para>
  </sect2>
  <sect2 id="no-more-audit-packages">
   <title>Migrating from security/audit-packages to pkgtools/pkg_install</title>
   <para>
    In April 2007 the functionality provided by the security/audit-packages
    package was re-written in C and merged into the <ulink
    url="http://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/pkgtools/pkg_install/README.html">pkg_install</ulink>
    package.  This brought a number of improvements in terms of both speed
    and functionality when compared to the old security/audit-packages package.
    In January of 2008 the security/audit-packages package was removed from the
    pkgsrc CVS tree and the required version of the <ulink
    url="http://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/pkgtools/pkg_install/README.html">pkg_install</ulink>
    package was increased to pkg_install-20071224 so that the functionality
    that was provided by security/audit-packages was adequately replaced.
    The migration process should be easy for most users and simply involve
    removing the old package (i.e. <command>pkg_delete audit-packages</command>)
    and then updating <ulink
    url="http://ftp.NetBSD.org/pub/NetBSD/packages/pkgsrc/pkgtools/pkg_install/README.html">
    pkg_install</ulink>, you must follow this process as pkgtools/pkg_install
    and security/audit-packages install conflicting files.  In addition to this
    any scripts (e.g. crontab(5) files, security.local etc.) that point to the 
    old binaries (i.e. <command>audit-packages</command> and <command>
    download-vulnerability-list</command>) must also be updated.
   </para>
   <para>
    If you cannot migrate to pkg_install-20071224 immediately and need to
    continue using security/audit-packages to look for package vulnerabilities
    the <ulink
    url="mailto:pkgsrc-security@NetBSD.org">pkgsrc Security Team</ulink> will
    continue to keep the pkg-vulnerabilities database up to date until at least
    the pkgsrc-2008Q1 branch has been cut.  When support for 
    security/audit-packages is fully removed we will update the
    old pkg-vulnerabilities database to indicate that it will no longer be 
    updated.  At this point you should upgrade to pkg_install>=20071224 in 
    order to receive further updates to the pkg-vulnerabilities database.
   </para>
   <para>
    For any questions or problems with this process please contact either the
    <ulink 
    url="mailto:pkgsrc-security@NetBSD.org">pkgsrc Security Team</ulink> or 
    appropriate NetBSD <ulink
    url="../../mailinglists/">mailing list</ulink> (e.g. <ulink
    url="../../mailinglists/#pkgsrc-users">pkgsrc-users</ulink>
    or <ulink url="../../mailinglists/#tech-pkg">
    tech-pkg</ulink>).
   </para>
  </sect2>
</sect1>

<sect1 id="resources">
  <title>Security Resources</title>

  <para>A number of security advisories and other security resources are
    available on-line at these sites:</para>

  <itemizedlist>
    <listitem><ulink 
      url="advisory.html">The NetBSD Project's Advisory Archive</ulink>
    </listitem>
    <listitem><ulink 
      url="http://www.cert.org/">Computer Emergency Response Team</ulink>
    </listitem>
    <listitem><ulink 
      url="http://www.auscert.org.au/">Australian Computer Emergency Response Team</ulink>
    </listitem>
    <listitem><ulink 
      url="http://www.first.org/">Forum of Incident Response and Security Teams</ulink>
    </listitem>
    <listitem><ulink 
      url="http://www.securityfocus.com/">SecurityFocus</ulink>
    </listitem>
    <listitem><ulink 
      url="http://www.freebsd.org/security/security.html">The FreeBSD Project Security Guide</ulink>
    </listitem>
  </itemizedlist>
</sect1>
</webpage>
