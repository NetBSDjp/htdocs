-----BEGIN PGP SIGNED MESSAGE-----


		 NetBSD Security Advisory 2003-008
		 =================================

Topic:		faulty length checks in xdrmem_getbytes

Version:	NetBSD-current:	 source prior to March 21, 2003
		NetBSD-1.6.1:	 not affected
		NetBSD-1.6:	 affected
		NetBSD-1.5.3:	 affected
		NetBSD-1.5.2:	 affected
		NetBSD-1.5.1:	 affected
		NetBSD-1.5:	 affected
		NetBSD-1.4*:	 affected

Severity:	buffer overrun

Fixed:		NetBSD-current:		March 21, 2003
		NetBSD-1.6 branch:	March 21, 2003
		NetBSD-1.5 branch:	March 28, 2003


Abstract
========

The xdrmem_*() routines in libc are susceptible to integer overflows,
that affect memory allocation in their local buffers.  Processes
that use these functions may be coerced to execute code, or to
return private memory of the vulnerable process to the caller.


Technical Details
=================

These URLs also describe another set of vulnerabilities which did not
affect NetBSD due to strong data typing changes made many years ago.

The relevant problem is described in the following URLs:

    http://www.cert.org/advisories/CA-2003-10.html
    http://www.securityfocus.com/archive/1/315641
    http://web.mit.edu/kerberos/www/advisories/MITKRB5-SA-2003-003-xdr.txt


Solutions and Workarounds
=========================

The following instructions describe how to upgrade your libc
binaries by updating your source tree and rebuilding and installing
a new version of libc.

Be sure to restart running instances of programs that use the libc rpc
library after upgrading.

If you have any statically-linked binaries that linked against a
vulnerable libc and uses rpc, you need to recompile them.


* NetBSD-current:

	Systems running NetBSD-current dated from before 2003-03-20
	should be upgraded to NetBSD-current dated 2003-03-20 or later.

	The following directories need to be updated from the
	netbsd-current CVS branch (aka HEAD):
		lib/libc/rpc
		include/rpc

	To update from CVS, re-build, and re-install libc:
		# cd src
		# cvs update -d -P lib/libc/rpc
		# cvs update -d -P include/rpc
		# cd lib/libc
		# make USETOOLS=no cleandir dependall includes
		# make USETOOLS=no install


* NetBSD 1.6:

	The binary distribution of NetBSD 1.6 is vulnerable.

	If a source-based point upgrade is required, sources from the
	NetBSD 1.6 branch dated 2003-03-21 or later should be used.

	The following directories need to be updated from the
	netbsd-1-6 CVS branch:
		lib/libc/rpc
		include/rpc

	To update from CVS, re-build, and re-install libc:
		# cd src
		# cvs update -d -P -r netbsd-1-6 lib/libc/rpc
		# cvs update -d -P -r netbsd-1-6 include/rpc
		# cvs update -d -P -r netbsd-1-6 lib/libc/include/namespace.h
		# cd include
		# make includes
		# cd ../lib/libc
		# make USETOOLS=no cleandir dependall includes
		# make USETOOLS=no install


* NetBSD 1.5, 1.5.1, 1.5.2, 1.5.3:

	The binary distribution of NetBSD 1.5.3 is vulnerable.

	** NOTE: This mistakenly read 2003-03-20 in an earlier revision

	Systems running NetBSD-1.5.x dated from before 2003-03-28
	should be upgraded to NetBSD-1.5 branch dated 2003-03-28 or later.

	The following directories need to be updated from the
	netbsd-1-5 CVS branch:
		lib/libc/rpc
		include/rpc

	To update from CVS, re-build, and re-install libc:
		# cd src
		# cvs update -d -P -r netbsd-1-5 lib/libc/rpc
		# cvs update -d -P -r netbsd-1-5 include/rpc
		# cd lib/libc
		# make cleandir dependall includes
		# make install


Thanks To
=========

eEye and CERT for notification.

Christos Zoulas for patches.

Miroslav Urbanek for corrections to the instructions.


Revision History
================

	2003-03-26	Initial release
	2003-03-27	Include fix information for 1-5 branch
			Correct 1-5 patch dates
	2003-03-27	Note required update of include/rpc for
			updated rpc.h file.


More Information
================

An up-to-date PGP signed copy of this release will be maintained at
  ftp://ftp.netbsd.org/pub/NetBSD/security/advisories/NetBSD-SA2003-008.txt.asc

Information about NetBSD and NetBSD security can be found at
http://www.NetBSD.ORG/ and http://www.NetBSD.ORG/Security/.


Copyright 2003, The NetBSD Foundation, Inc.  All Rights Reserved.

$NetBSD: NetBSD-SA2003-008.txt.asc,v 1.1.1.2 2003/04/05 01:03:13 yyamano Exp $

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (NetBSD)
Comment: For info see http://www.gnupg.org

iQCVAwUBPoksPj5Ru2/4N2IFAQF8ygP9EB52JZaB53CB7yzsJwzaVEsN7fj7vFOm
g3MakdA8meuA9H+o/QVdLyuf/4uhIRXgj0s5cOf7kts0Nzy68bDNGrYlUqrmt7CZ
W6MeyUvCa6iVggx7MNrQ6lWL3LAQViVVZP3CIjz7wF5dMlpI5DqzUVIvT+6b3GVl
DCXGsg/omvc=
=b5pq
-----END PGP SIGNATURE-----
