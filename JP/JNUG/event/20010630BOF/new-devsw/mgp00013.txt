
なぜ API を実装する必要があるのか？

いずれ、kernel dynamic configuration はサポートされる／する。
世の中は、マルチプロセッサが当り前になってくる。
ほとんどすべての場所に race condition を生じる可能性がある
cdevsw/bdevsw も例外ではない。
今のままだと、ロック／アンロックがソースツリー上に散らばる。
管理しきれるのか、という問題が出るかも。
関数呼出しにしておけば、 MT-safe を容易に実現できる（かな？）

これによって性能が劣化する可能性は極めて低い。
性能が要求される局面での劣化が計測された場合は、
APIs をインライン化もしくはマクロ化すればよい。
しかし、現実的にはそれほど頻繁に利用されるものでは
ないので、劣化を計測するのは難しいだろう。

