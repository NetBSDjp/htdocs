
ドライバ開発 - bus_space 関数

NetBSD/dreamcast の bus_space 関数
バス毎に bus_space 関数を差し替え可能
拡張ポートバス用のドライバ (g2bus) はすでにある
ブロードバンドアダプタのサポートのため

g2bus
RTL8139 を動かすのに必要な関数しかない
バスのロック・アンロック処理
IDE インタフェースでは不要

g2bus を参考に、新たにバス(dppbus)を追加
stride 処理
オフセットを 2bit 左シフト
*(__volatile io16_t *)(sh + (off<<DPPBUS_STRIDE)) = val;


