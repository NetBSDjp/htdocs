
ドライバ開発 - wdc MD driver(1)

IDE インタフェース
PIO 転送のみ
DMA/UDMA 転送はできない
割り込みが使えない
現在の wdc ドライバは割り込みがかかることが前提になっている
(最新の current ではポーリングだけでいけるらしい…)

capability の設定
DMA/UDMA 転送はできないので、WDC_CAPABILITY_DATA16 のみ指定

wdc_dppbus.c
capability の設定
sc->sc_wdcdev.cap |= WDC_CAPABILITY_DATA16|WDC_CAPABILITY_PREATA;

