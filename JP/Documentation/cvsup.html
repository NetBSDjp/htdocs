<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<!-- Copyright (c) 1999-2001
	The Japan NetBSD Users' Group. ALL RIGHTS RESERVED. -->
<link rev="made" href="mailto:www@JP.NetBSD.ORG">
<title>CVSup server</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">

<h1>CVSup サーバー</h1>

<dl>
<dt><h2>CVSup</h2>
  <dd>JP.NetBSD.ORG では、 NetBSD の開発用 CVS リポジトリと
	JP.NetBSD.ORG ローカル (Web コンテンツや開発プロジェクト用など)
	の CVS リポジトリを、
	誰でも自由に利用できるように CVSup サービスを行っています。

  <p>
  <dd>CVSup に関する情報
  <ul>
    <li><a href="http://www.jp.FreeBSD.org/www.FreeBSD.org/ja/handbook/cvsup.html">FreeBSD ハンドブック</a>
    <li><a href="http://www.polstra.com/projects/freeware/CVSup/">CVSup 作者 John Polstra 氏のページ</a>
  </ul>  

<dt><h2>使い方</h2>

  <dl>
  <dt>バイナリ
    <dd>CVSup のバイナリをインストールします。 NetBSD 用の CVSup は
        現在のところ i386 port 用があります。
        <ul>
          <li>i386 current 用 :
	      <a href="http://motoyuki.bsdclub.org/data/NetBSD/CVSup/i386/">HTTP</a>,
	      <a href="ftp://ftp.mk.bsdclub.org/pub/NetBSD/CVSup/i386/">FTP</a>
          <li>i386 1.6 用 :
	      <a href="http://motoyuki.bsdclub.org/data/NetBSD/CVSup/i386-1.6/">HTTP</a>,
	      <a href="ftp://ftp.mk.bsdclub.org/pub/NetBSD/CVSup/i386-1.6/">FTP</a>
          <li>i386 1.5.X 用 :
	      <a href="http://motoyuki.bsdclub.org/data/NetBSD/CVSup/i386-1.5/">HTTP</a>,
	      <a href="ftp://ftp.mk.bsdclub.org/pub/NetBSD/CVSup/i386-1.5/">FTP</a>
        </ul>
    <dd>NetBSD 以外の OS については
        <a href="ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/development/CVSup/binaries/">FreeBSD の FTP mirror サイト</a>
        から入手できます。

  <p>
  <dt>注意:
    <dd>CVSup に <a href="http://people.freebsd.org/~jdp/s1g/">10 億秒バグ</a>
        が発見されています。 2001 年 9 月 10 日以前に作成されたバイナリを
        使用している方は最新のものに入れ替えてください。上記 URL にある NetBSD
        用バイナリは対策済です。

  <p>
  <dt>collection
    <dd>CVSup では、取得するファイルを collection という単位で指定します。
        JP.NetBSD.org の CVSup サービスで提供している collection は
        以下の通りです。
        <p>
        <div align="center">
        <table border=1>
        <tr><th>collection 名</th><th>説明</th></tr>
        <tr><td>netbsd</td><td>NetBSD.org の CVS リポジトリ全体</td></tr>
        <tr><td>netbsd-base</td><td>CVSROOT</td></tr>
        <tr><td>netbsd-src</td><td>src 全体</td></tr>
        <tr><td>netbsd-src-base</td><td>src/[A-Z]* と src/build.sh</td></tr>
        <tr><td>netbsd-src-bin</td><td>src/bin</td></tr>
        <tr><td>netbsd-src-crypto</td><td>src/crypto</td></tr>
        <tr><td>netbsd-src-dist</td><td>src/dist</td></tr>
        <tr><td>netbsd-src-distrib</td><td>src/distrib</td></tr>
        <tr><td>netbsd-src-doc</td><td>src/doc</td></tr>
        <tr><td>netbsd-src-etc</td><td>src/etc</td></tr>
        <tr><td>netbsd-src-games</td><td>src/games</td></tr>
        <tr><td>netbsd-src-gnu</td><td>src/gnu</td></tr>
        <tr><td>netbsd-src-include</td><td>src/include</td></tr>
        <tr><td>netbsd-src-lib</td><td>src/lib</td></tr>
        <tr><td>netbsd-src-libexec</td><td>src/libexec</td></tr>
        <tr><td>netbsd-src-regress</td><td>src/regress</td></tr>
        <tr><td>netbsd-src-rescue</td><td>src/rescue</td></tr>
        <tr><td>netbsd-src-sbin</td><td>src/sbin</td></tr>
        <tr><td>netbsd-src-share</td><td>src/share</td></tr>
        <tr><td>netbsd-src-sys</td><td>src/sys</td></tr>
        <tr><td>netbsd-src-tools</td><td>src/tools</td></tr>
        <tr><td>netbsd-src-usrbin</td><td>src/usr.bin</td></tr>
        <tr><td>netbsd-src-usrsbin</td><td>src/usr.sbin</td></tr>
        <tr><td>netbsd-htdocs</td><td>htdocs</td></tr>
        <tr><td>netbsd-othersrc</td><td>othersrc</td></tr>
        <tr><td>netbsd-pkgsrc</td><td>pkgsrc</td></tr>
        <tr><td>netbsd-xsrc</td><td>xsrc/*</td></tr>
        <tr><td>netbsd-xsrc-3</td><td>xsrc のうち XFree86 3.X 部分</td></tr>
        <tr><td>netbsd-xsrc-4</td><td>xsrc のうち XFree86 4.X 部分</td></tr>
        <tr><td>netbsd-distrib</td><td>CVSup サーバ設定ファイル (release=self を指定)</td></tr>
        <tr><td>netbsd-jp-all</td><td>JP.NetBSD.org の CVS リポジトリ全体</td></tr>
        <tr><td>netbsd-jp-base</td><td>CVSROOT/*</td></tr>
        <tr><td>netbsd-jp-hpcmips</td><td>hpcmips/*</td></tr>
        <tr><td>netbsd-jp-htdocs</td><td>htdocs/*</td></tr>
        <tr><td>netbsd-jp-localsrc</td><td>localsrc/*</td></tr>
        <tr><td>netbsd-jp-othersrc</td><td>othersrc/*</td></tr>
        </table>
        </div>

  <p>
  <dt>supfile の設定
    <dd>CVSup クライアントの設定ファイルを supfile といいます。
        NetBSD の CVS リポジトリ全体を取得するには、以下のように指定します。
    <pre>
*default host=cvsup.jp.NetBSD.org
*default base=/basedir
*default prefix=/NetBSD/cvsroot
*default release=cvs
*default delete use-rel-suffix preserve
*default compress

netbsd
netbsd-distrib  prefix=/NetBSD/distrib release=self
    </pre>
    <p>この supfile を使うと、 NetBSD の CVS リポジトリが /NetBSD/cvsroot
    以下に取得します。また、 CVSup が既に受け取った内容を記録した status
    ファイル が /basedir 以下に置かれます。
    <p>netbsd-distrib を指定することにより CVSup の設定ファイルが
    /NetBSD/distrib 以下に置かれます。この設定ファイルを利用して CVSup
    サーバを自分で立ち上げることができます。

    <dd>NetBSD のソースを /usr/src に取得するには、以下のように指定します。
    <pre>
*default host=cvsup.jp.NetBSD.org
*default base=/basedir
*default prefix=/usr
*default release=cvs tag=.
*default delete use-rel-suffix preserve
*default compress

netbsd-src
    </pre>
  <p>
  <dt>CVSup クライアントの実行
    <dd>コマンドラインから<br>
    <tt>cvsup [options] supfile</tt><br>
    を実行します。
    cvsup のオプションについては cvsup のマニュアルを参照してください。
  <dt><font color="red"><b>お願い</b></font>
  <dd>cvsup の実行時はできるだけ -s オプションを指定してください。
    サーバの負荷軽減のためよろしくお願いします。

</dl>

<hr> 
<address>
  www@JP.NetBSD.ORG<br>
  $Id: cvsup.html,v 1.9 2002/12/21 01:10:38 motoyuki Exp $<br>
  Copyright &copy; 2001
    The Japan NetBSD Users' Group.  ALL RIGHTS RESERVED.
</address>

</body>
</html>
