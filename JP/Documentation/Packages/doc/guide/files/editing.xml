<!-- $NetBSD: editing.xml,v 1.13 2006/10/07 01:24:00 rillig Exp $ -->
<!-- Based on english version: -->
<!-- NetBSD: editing.xml,v 1.13 2006/10/07 01:24:00 rillig Exp   -->

<appendix id="editing">
<title>the pkgsrc guide 編集の指針</title>

	<para>本節では、この the pkgsrc guide
	そのものの編集に関する情報を掲載します。</para>

<sect1 id="targets">
<title>make ターゲット</title>

	<para>the pkgsrc guide のソースコードは
	<filename>pkgsrc/doc/guide/files</filename> 以下に置かれており、
	これをもとに、以下のような数々のファイルが生成されます。</para>

	<itemizedlist>

	<listitem><para><filename>pkgsrc/doc/pkgsrc.txt</filename></para></listitem>

	<listitem><para><filename>pkgsrc/doc/pkgsrc.html</filename></para></listitem>

	<listitem><para><ulink
	url="http://www.NetBSD.org/Documentation/pkgsrc/"/></para></listitem>

	<listitem><para><ulink
	url="http://www.NetBSD.org/Documentation/pkgsrc/pkgsrc.pdf"/>:
	the pkgsrc guide の PDF 版。</para></listitem>

	<listitem><para><ulink
	url="http://www.NetBSD.org/Documentation/pkgsrc/pkgsrc.ps"/>:
	the pkgsrc guide の PostScript 版。</para></listitem>

	</itemizedlist>

</sect1>
<sect1 id="procedure">
<title>編集手順</title>

	<para>the pkgsrc guide の編集手順は、以下のとおりです。</para>

	<procedure>

	<step><para>the pkgsrc guide (と、XML にもとづくその他の
	NetBSD ドキュメンテーション)
	の再生成に必要なパッケージがインストールされていることを確認します。
	ASCII および HTML 版の生成に必要なのは <filename
	role="pkg">meta-pkgs/netbsd-doc</filename>、
	PostScript および PDF 版の生成に必要なのは <filename
	role="pkg">meta-pkgs/netbsd-doc-print</filename> です。
	各形式のドキュメンテーションの一貫性を保つために、
	いずれのパッケージもインストールする必要があります。</para></step>

	<step><para><command>cd doc/guide</command> を実行して、
	適切なディレクトリーに移動します。これ以降の手順は、
	すべてこの場所でおこないます。</para></step>

	<step><para><filename>files/</filename> 以下にある
	XML ファイルを編集します。</para></step>

	<step><para><command>bmake</command> を実行して、the pkgsrc
	guide が妥当な XML であることを確認し、最終的な出力ファイルを構築します。
	何かエラーが出た場合は、元のファイルを編集するだけで結構です。
	作業ディレクトリーには、<filename>files/</filename>
	以下のファイルを指すシンボリックリンクがあるだけだからです。</para></step>

	<step><para><command>(cd files &amp;&amp; cvs
	commit)</command></para></step>

	<step><para><command>bmake clean && bmake</command>
	を実行して、適切な RCS
	Id を含んだ出力ファイルを作り直します。</para></step>

	<step><para><command>bmake regen</command> を実行して、
	<filename>pkgsrc/doc</filename> および
	<filename>htdocs</filename> 以下にそれぞれファイルをインストールして commit します。</para>

	<note><para>章の追加、削除、または改名をした場合は、
	htdocs ディレクトリー以下で <command>cvs add</command> や
	<command>cvs delete</command> を使って、
	元のファイルとの対応を揃える必要があります。</para></note>

	</step>

	</procedure>

</sect1>
</appendix>
