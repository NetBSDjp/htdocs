<!-- $NetBSD: introduction.xml,v 1.24 2011/04/09 19:09:45 wiz Exp $ -->
<!-- Based on english version: -->
<!-- NetBSD: introduction.xml,v 1.24 2011/04/09 19:09:45 wiz Exp   -->

<chapter id="introduction">
  <title>pkgsrc とは何か</title>

  <sect1 id="introduction-section">
    <title>イントロダクション</title>

<para>Unix ベースのシステム向けの自由に使えるソフトウェアは数多くあり、
それらはたいていソースコード形式で提供されています。
このようなソフトウェアを使うためには、あらかじめ、ローカルシステム用の設定、
コンパイルおよびインストールをしておく必要がありますが、NetBSD
パッケージコレクション (pkgsrc) はまさにこの作業をおこなってくれます。
このほか、pkgsrc にはバイナリーパッケージを扱うための基本的なコマンドがあるので、
各利用者が時間をかけて自分でパッケージを構築する必要はありません。</para>

    <para>pkgsrc には現在、
      以下のものをはじめ数千個のパッケージがあります。</para>

    <itemizedlist>
      <listitem>
	<para><filename role="pkg">www/apache</filename> - Apache
	  web サーバー</para>
      </listitem>

      <listitem>
	<para><filename role="pkg">www/firefox</filename> - Firefox
	  web ブラウザー</para>
      </listitem>

      <listitem>
	<para><filename role="pkg">meta-pkgs/gnome</filename> - GNOME
	  デスクトップ環境</para>
      </listitem>

      <listitem>
	<para><filename role="pkg">meta-pkgs/kde3</filename> - K
	  デスクトップ環境</para>
      </listitem>
    </itemizedlist>

    <para>……などなど。</para>

    <para>pkgsrc には、各対応プラットフォームについて、
      pthreads や X11 のようなプラットフォームによって異なる依存関係や、
      IPv6 対応のような拡張機能の処理が組み込まれています。</para>

<sect2 id="why-pkgsrc">
<title>なぜ pkgsrc なのか?</title>

<para>
pkgsrc が提供する重要な機能は、以下のようなものです
</para>

<itemizedlist>
<listitem><para>ソフトウェアのソースからの構築のほか、バイナリーパッケージの作成および
  インストールが容易にできるようになります。ソースと最新のパッチを
  マスターサイトかミラーダウンロードサイトから取得し、チェックサムを検証してから、
  あなたのシステムで構築をおこないます。
  バイナリーのみ配布されているソフトウェアも、ネイティブプラットフォームと
  NetBSD でエミュレートされたプラットフォームの双方で利用可能です。</para></listitem>
<listitem><para>バイナリー、ライブラリー、マニュアルページ、その他の文書など、
  すべてのパッケージは首尾一貫したディレクトリーツリーにインストールされます。</para></listitem>
<listitem><para>パッケージの依存関係は、パッケージ更新時も含め、
  自動的に解決されます。更新の際には、
  さまざまなパッケージの設定ファイルが自動的に処理され、
  ローカルな変更点は保持されます。</para></listitem>
<listitem><para>NetBSD と同様、 pkgsrc は移植性を意図して設計されており、
  高い移植性を持つコードでできています。これにより、
  新しいプラットフォームへの移植は、きわめて迅速な開発が可能です。
  この移植性はまた、 pkgsrc を <emphasis>全プラットフォームの間で一貫したもの</emphasis>にしています。</para></listitem>
<listitem><para>膨大な数のパッケージに対する、インストール先、
  受け入れ可能なソフトウェアライセンス、国際版の暗号が必要か、
  および構築時オプションは、
  すべて単一の設定ファイルで管理されます。</para></listitem>
<listitem><para>完全なソース (ソフトウェアの配布ファイルは含みません) は、
  BSD ライセンスの下で自由に使用できますので、必要に応じて
  pkgsrc の拡張や改造ができます。そのままでローカルパッケージやパッチに
  対応しているので、あなたの環境に合わせて設定することができます。</para></listitem>
</itemizedlist>

<para>pkgsrc では、以下の思想が基礎となっています。</para>

<itemizedlist>

<listitem><para><quote>正しいもののみが動くべき。</quote>
&mdash; これは、パッケージにバグがある場合に、
パッケージをただインストールして、それがうまく動くよう祈るよりも、
バグを見つけて、そのことを訴えるほうがよいということです。
pkgsrc には、そのようなバグを見つけるために、
静的な分析ツール (<filename
role="pkg">pkgtools/pkglint</filename>)、構築時の検査 (シェルスクリプトの移植性)や、
インストール後の検査 (インストールされたファイル、
共有ライブラリーの参照、スクリプトインタープリター) といった、
多数の検査が用意されています。</para></listitem>

<listitem><para><quote>動くものは、どこででも動くべき</quote>
&mdash; NetBSD が多くのハードウェアアーキテクチャーに移植されているのと同様に、
pkgsrc は多くのオペレーティングシステムに移植されています。
すべてのプラットフォームでパッケージが同じように動くように注意が払われています。</para></listitem>

</itemizedlist>

</sect2>

<sect2 id="intro.platforms">
<title>対応プラットフォーム</title>

<para>pkgsrc には、
これらのオペレーティングシステム用のソース配布およびバイナリー配布の両形態があります。
必要なソースまたはバイナリーを取ってくれば、
すぐに pkgsrc で作業を始めることができます。</para>

    <para>pkgsrc は FreeBSD の ports システムから派生したもので、
      はじめは NetBSD 専用として開発されていました。その後、
      pkgsrc は大きく成長し、現在では以下のプラットフォームに対応しています。</para>

<table id="supported-platforms">
  <title>pkgsrc が対応しているプラットフォーム</title>
  <tgroup cols = "2">
    <thead>
      <row>
        <entry>プラットフォーム</entry>
        <entry>対応した日</entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry><ulink url="http://www.NetBSD.org/">NetBSD</ulink></entry>
        <entry align="center">1997 年 8 月</entry>
      </row>
      <row>
        <entry><ulink url="http://wwws.sun.com/software/solaris/">Solaris</ulink></entry>
        <entry align="center">1999 年 3 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.kernel.org/">Linux</ulink></entry>
        <entry align="center">1999 年 6 月</entry>
      </row>
      <row>
        <entry>
          <ulink url="http://developer.apple.com/darwin/">Darwin</ulink>
          (<ulink url="http://developer.apple.com/macosx/">Mac OS X</ulink>)
        </entry>
        <entry align="center">2001 年 10 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.freebsd.org/">FreeBSD</ulink></entry>
        <entry align="center">2002 年 11 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.openbsd.org/">OpenBSD</ulink></entry>
        <entry align="center">2002 年 11 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.sgi.com/software/irix/">IRIX</ulink></entry>
        <entry align="center">2002 年 12 月</entry>
      </row>
      <row>
        <entry>BSD/OS</entry>
        <entry align="center">2003 年 12 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www-1.ibm.com/servers/aix/">AIX</ulink></entry>
        <entry align="center">2003 年 12 月</entry>
      </row>
      <row>
        <entry>
          <ulink url="http://www.microsoft.com/windows/sfu/">Interix</ulink>
          (Microsoft Windows Services for Unix)
        </entry>
        <entry align="center">2004 年 3 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.dragonflybsd.org/">DragonFlyBSD</ulink></entry>
        <entry align="center">2004 年 10 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.tru64.org/">OSF/1</ulink></entry>
        <entry align="center">2004 年 11 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.hp.com/products1/unix/">HP-UX</ulink></entry>
        <entry align="center">2007 年 4 月</entry>
      </row>
      <row>
        <entry><ulink url="http://www.haiku-os.org/">Haiku</ulink></entry>
        <entry align="center">2010 年 9 月</entry>
      </row>
    </tbody>
  </tgroup>
</table>
</sect2>

</sect1>

  <sect1 id="overview">
    <title>概要</title>

	<para>このドキュメントは三部に別れています。第一部は
	<link linkend="users-guide" endterm="users-guide.title"/>で、パッケー
	ジコレクションの一つのパッケージを使う方法を、コンパイル済みのバイナリー
	パッケージのインストールと、自分自身でコピーした&os;パッケージシステムか
	ら構築する方法の両方で説明します。第二部の <link linkend="developers-guide"
	endterm="developers-guide.title"/> は、他
	の&os;ユーザーがその構築の詳細について知らなくても簡単にパッケージを構築
	できるようにするために、パッケージを用意する方法を説明します。第三部の
	<link linkend="infrastructure" endterm="infrastructure.title"/>
	は、pkgsrc がどのように実装されているかを理解したい方のためのものです。</para>

	<para>このドキュメントは、以下の各種形式で利用できます。
	<simplelist type="inline">
	<member><ulink url="index.html">HTML</ulink></member>
	<member><ulink url="pkgsrc.pdf">PDF</ulink></member>
	<member><ulink url="pkgsrc.ps">PS</ulink></member>
	<member><ulink url="pkgsrc.txt">TXT</ulink></member>
	</simplelist>.</para>

  </sect1>

  <sect1 id="terminology">
    <title>専門用語</title>

    <para>ここまでですでに<quote>ポート(ports)</quote>、
      <quote>パッケージ(packages)</quote>などについて何度も触れています。
      ここで、このドキュメント中に使われている用語を説明します。</para>

    <variablelist>

      <varlistentry>
	<term>パッケージ(Package)</term>

	<listitem>
	  <para>ファイルのセットで、pkgsrc を使用したソフトウェアを構築
	    するのに必要なことが記述された構築手順書です。パッケージは、伝統的に
	    <filename>/usr/pkgsrc</filename>の下に置かれます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>&os;パッケージシステム</term>

	<listitem>
	  <para><quote>pkgsrc</quote> の旧名です。これは
	  &os; オペレーティングシステムの一部分ですが、
	  &os; 以外のオペレーティングシステムでも
	  &os; 同様に使えるようにすることができます。
	  パッケージの構築 (コンパイル)、インストール、および削除を扱います。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>distfile</term>

	<listitem>
	  <para>この用語は、ソフトウェアの作者が、彼の仕事を配布するため
	    に提供しているファイルのことを指しています。&os;で構築するのに必要な全
	    ての変更は、対応するパッケージに反映されます。通常distfileは、圧縮された
	    tarアーカイブ形式ですが、他の形式でも使用できます。distfileは通常は
	    <filename>/usr/pkgsrc/distfiles</filename>の下に保存されます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>ポート(Port)</term>

	<listitem>
	  <para>これはFreeBSDやOpenBSDの人たちが、
	    私たちがパッケージ(package)と呼んでいるものを表
	    すために使われている用語です。&os;では<quote>ポート(port)</quote>は、異なるアーキ
	    テクチャーを参照する用語となります。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>コンパイル済み(バイナリー)パッケージ</term>

	<listitem>
	  <para>pkgsrc を使ってdistfileより作成されたバイナリーのセット
	    で、ひとつの<filename>.tgz</filename>ファイルに集められています。これはリコンパイルなしに同じ
	    マシンアーキテクチャーのマシンにインストールすることができます。パッケー
	    ジは通常は<filename>/usr/pkgsrc/packages</filename>に生成され、それ
	    は
	    <ulink
	    url="ftp://ftp.NetBSD.org/pub/NetBSD/packages/">ftp.NetBSD.org</ulink>にもアーカイブされています。</para>

	  <para>時々、これは、特にコンパイル済みのパッケージの文脈で、単に<quote>パッケージ</quote>
	    と表されることもあります。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>プログラム</term>

	<listitem>
	  <para>対応するパッケージが、distfileにあるファイルから作成した、インストールさ
	  れるべきソフトウェアのひとまとまりです。</para>
	</listitem>
      </varlistentry>
    </variablelist>

  <sect2 id="term.roles">
  <title>pkgsrc に関わる人たち</title>

	<variablelist>

	<varlistentry><term>pkgsrc 利用者</term><listitem><para>pkgsrc
	利用者とは、pkgsrc で提供されているパッケージを使う人たちです。
	ふつうはシステム管理者のことです。パッケージを構成するソフトウェアを使う人たち
	(<quote>末端利用者</quote> ということがあります) については、
	the pkgsrc guide では対象としません。</para>

	<para>pkgsrc 利用者には二通りあります: 一方は、
	構築済みバイナリーパッケージをインストールしたいだけの人たちです。
	もう一方は、pkgsrc のパッケージをソースから構築する人たちで、
	こちらは、そのままインストールすることが目的の場合と、
	バイナリーパッケージ自体を構築することが目的の場合があります。
	pkgsrc 利用者にとって必要なことはすべて、<xref
	linkend="users-guide"/> に書いてあるはずです。</para></listitem></varlistentry>

	<varlistentry><term>パッケージメンテナー</term><listitem><para>
	パッケージメンテナーは、<xref
	linkend="developers-guide"/> で説明されているようにパッケージを作成する人です。</para></listitem></varlistentry>

	<varlistentry><term>基盤開発者</term>
	<listitem><para><filename>mk/</filename>
	ディレクトリー以下にある各ファイルに携わる人たちです。
	<xref
	linkend="infrastructure"/> を通しで読む必要があるのは、この人たちだけのはずです
	(基盤開発者以外の人が興味を持つこともあるでしょうが)。</para></listitem></varlistentry>

	</variablelist>

  </sect2>
  </sect1>

  <sect1 id="typography">
    <title>体裁</title>

    <para>コマンドの実行例を示す場合、そのコマンドをrootで実行しなければならない/する
      ことができるか、<quote>一般の</quote>ユーザー権限で十分であるかを、シェルプロンプトで
      区別します。Cシェルかtcshを使っているものとして、rootのシェルプロンプトには
      &rprompt;を、一般ユーザーのシェルプロンプトには&cprompt;を使います。</para>
  </sect1>
</chapter>
